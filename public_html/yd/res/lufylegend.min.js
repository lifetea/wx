var LF={};(function(){var aE="pc",N="iPhone",q="iPod",P="iPad",B="Android",aa="Windows Phone",S="BlackBerry",V="none",ac="undefined",J="landscape",d="portrait",aj,ah;function A(aH){this.eventType=aH;this._ll_preventDefault=false}A.prototype.preventDefault=function(){this._ll_preventDefault=true};A.INIT="init";A.COMPLETE="complete";A.ENTER_FRAME="enter_frame";A.WINDOW_RESIZE="resize";A.WINDOW_ORIENTATIONCHANGE="orientationchange";A.SOUND_COMPLETE="sound_complete";A.END_CONTACT="endContact";A.PRE_SOLVE="preSolve";A.POST_SOLVE="postSolve";A.BEGIN_CONTACT="beginContact";A.addEventListener=function(aK,aI,aJ,aH){if(aH==null){aH=false}if(aK.addEventListener){aK.addEventListener(aI,aJ,aH)}else{if(aK.attachEvent){aK["e"+aI+aJ]=aJ;aK[aI+aJ]=function(){aK["e"+aI+aJ]()};aK.attachEvent("on"+aI,aK[aI+aJ])}}};A.removeEventListener=function(aK,aI,aJ,aH){if(aH==null){aH=false}if(aK.removeEventListener){aK.removeEventListener(aI,aJ,aH)}else{if(aK.detachEvent){aK["e"+aI+aJ]=aJ;aK[aI+aJ]=function(){aK["e"+aI+aJ]()};aK.detachEvent("on"+aI,aK[aI+aJ])}}};var g=function(){throw"LMouseEvent cannot be instantiated"};g.MOUSE_DOWN="mousedown";g.MOUSE_UP="mouseup";g.TOUCH_START="touchstart";g.TOUCH_MOVE="touchmove";g.TOUCH_END="touchend";g.MOUSE_MOVE="mousemove";g.MOUSE_OVER="mouseover";g.MOUSE_OUT="mouseout";g.DOUBLE_CLICK="dblclick";var az=function(){throw"LMultitouchInputMode cannot be instantiated"};az.NONE="none";az.GESTURE="gesture";az.TOUCH_POINT="touchPoint";var K=function(){throw"LMultitouch cannot be instantiated"};K.inputMode="none";K.touchs=[];var ag=function(){throw"LTimerEvent cannot be instantiated"};ag.TIMER="timer";ag.TIMER_COMPLETE="timerComplete";var ay=function(){throw"LTextEvent cannot be instantiated"};ay.TEXT_INPUT="textInput";ay.WIND_COMPLETE="windComplete";var aw=function(){throw"LFocusEvent cannot be instantiated"};aw.FOCUS_IN="focusIn";aw.FOCUS_OUT="focusOut";var at=(function(){function aH(){var aI=this;aI.container={};aI.dispatchAllEvent=false;aI.mouseDownContainer=[];aI.mouseUpContainer=[];aI.mouseMoveContainer=[];aI.mouseOverContainer=[];aI.mouseOutContainer=[];aI.mouseDblContainer=[];aI.textFieldInputContainer=[];aI.buttonContainer=[]}aH.prototype={pushInputBox:function(aL){var aK=this,aM=aK.textFieldInputContainer,aJ,aI;for(aJ=0,aI=aM.length;aJ<aI;aJ++){if(aL.objectIndex==aM[aJ].objectIndex){return}}aK.textFieldInputContainer.push(aL)},removeInputBox:function(aL){var aK=this,aM=aK.textFieldInputContainer,aJ,aI;for(aJ=0,aI=aM.length;aJ<aI;aJ++){if(aL.objectIndex==aM[aJ].objectIndex){aK.textFieldInputContainer.splice(aJ,1);break}}},pushButton:function(aL){var aK=this,aM=aK.buttonContainer,aJ,aI;for(aJ=0,aI=aM.length;aJ<aI;aJ++){if(aL.objectIndex==aM[aJ].objectIndex){return}}aK.buttonContainer.push(aL)},removeButton:function(aL){var aK=this,aM=aK.buttonContainer,aJ,aI;for(aJ=0,aI=aM.length;aJ<aI;aJ++){if(aL.objectIndex==aM[aJ].objectIndex){aK.buttonContainer.splice(aJ,1);break}}},dispatchEventButton:function(aL){var aK=this,aM=aK.buttonContainer,aJ,aI;for(aJ=0,aI=aM.length;aJ<aI;aJ++){if(typeof aK.buttonContainer[aJ].ll_button_mode=="function"){aK.buttonContainer[aJ].ll_button_mode(aL)}}},addEvent:function(aL,aK,aJ){var aI=this;aK.push({container:aL,listener:aJ})},removeEvent:function(aN,aM,aL){var aK=this,aJ,aI;for(aJ=0,aI=aM.length;aJ<aI;aJ++){if(aM[aJ].container.objectIndex===aN.objectIndex&&(!aL||aM[aJ].listener==aL)){aM.splice(aJ,1);break}}},addMouseDownEvent:function(aK,aJ){var aI=this;aI.addEvent(aK,aI.mouseDownContainer,aJ)},addMouseUpEvent:function(aK,aJ){var aI=this;aI.addEvent(aK,aI.mouseUpContainer,aJ)},addMouseMoveEvent:function(aK,aJ){var aI=this;aI.addEvent(aK,aI.mouseMoveContainer,aJ)},addMouseOverEvent:function(aK,aJ){var aI=this;aI.addEvent(aK,aI.mouseOverContainer,aJ)},addMouseOutEvent:function(aK,aJ){var aI=this;aI.addEvent(aK,aI.mouseOutContainer,aJ)},addMouseDblEvent:function(aK,aJ){var aI=this;aI.addEvent(aK,aI.mouseDblContainer,aJ)},addMouseEvent:function(aL,aI,aK){var aJ=this;if(aI==g.MOUSE_DOWN){aJ.addMouseDownEvent(aL,aK)}else{if(aI==g.MOUSE_UP){aJ.addMouseUpEvent(aL,aK)}else{if(aI==g.MOUSE_OVER){aJ.addMouseOverEvent(aL,aK)}else{if(aI==g.MOUSE_OUT){aJ.addMouseOutEvent(aL,aK)}else{if(aI==g.MOUSE_MOVE){aJ.addMouseMoveEvent(aL,aK)}else{aJ.addMouseDblEvent(aL,aK)}}}}}},hasEventListener:function(aO,aK,aN){var aL=this,aM;if(aK==g.MOUSE_DOWN){aM=aL.mouseDownContainer}else{if(aK==g.MOUSE_UP){aM=aL.mouseUpContainer}else{if(aK==g.MOUSE_OVER){aM=aL.mouseOverContainer}else{if(aK==g.MOUSE_OUT){aM=aL.mouseOutContainer}else{if(aK==g.MOUSE_MOVE){aM=aL.mouseMoveContainer}else{aM=aL.mouseDblContainer}}}}}for(var aJ=0,aI=aM.length;aJ<aI;aJ++){if(aM[aJ].container.objectIndex===aO.objectIndex&&(!aN||aM[aJ].listener==aN)){return true}}return false},removeMouseDownEvent:function(aK,aJ){var aI=this;aI.removeEvent(aK,aI.mouseDownContainer,aJ)},removeMouseUpEvent:function(aK,aJ){var aI=this;aI.removeEvent(aK,aI.mouseUpContainer,aJ)},removeMouseMoveEvent:function(aK,aJ){var aI=this;aI.removeEvent(aK,aI.mouseMoveContainer,aJ)},removeMouseOverEvent:function(aK,aJ){var aI=this;aI.removeEvent(aK,aI.mouseOverContainer,aJ)},removeMouseOutEvent:function(aK,aJ){var aI=this;aI.removeEvent(aK,aI.mouseOutContainer,aJ)},removeMouseDblEvent:function(aK,aJ){var aI=this;aI.removeEvent(aK,aI.mouseDblContainer,aJ)},removeMouseEvent:function(aL,aI,aK){var aJ=this;if(aI==g.MOUSE_DOWN){aJ.removeMouseDownEvent(aL,aK)}else{if(aI==g.MOUSE_UP){aJ.removeMouseUpEvent(aL,aK)}else{if(aI==g.MOUSE_OVER){aJ.removeMouseOverEvent(aL,aK)}else{if(aI==g.MOUSE_OUT){aJ.removeMouseOutEvent(aL,aK)}else{if(aI==g.MOUSE_MOVE){aJ.removeMouseMoveEvent(aL,aK)}else{aJ.removeMouseDblEvent(aL,aK)}}}}}},dispatchMouseEvent:function(aK,aJ){var aI=this;if(aJ==g.MOUSE_DOWN){aI.dispatchEvent(aK,aI.mouseDownContainer,g.MOUSE_DOWN);aI.dispatchEvent(aK,aI.textFieldInputContainer)}else{if(aJ==g.MOUSE_UP){aI.dispatchEvent(aK,aI.mouseUpContainer,g.MOUSE_UP)}else{if(aJ==g.DOUBLE_CLICK){aI.dispatchEvent(aK,aI.mouseDblContainer,g.DOUBLE_CLICK)}else{aI.dispatchEventButton(aK);aI.dispatchEvent(aK,aI.mouseOutContainer,g.MOUSE_OUT);aI.dispatchEvent(aK,aI.mouseOverContainer,g.MOUSE_OVER);aI.dispatchEvent(aK,aI.mouseMoveContainer,g.MOUSE_MOVE)}}}},getRootParams:function(aI){var aK=aI.parent,aJ={x:0,y:0,scaleX:1,scaleY:1};while(aK&&aK!="root"){aJ.x*=aK.scaleX;aJ.y*=aK.scaleY;aJ.x+=aK.x;aJ.y+=aK.y;aJ.scaleX*=aK.scaleX;aJ.scaleY*=aK.scaleY;aK=aK.parent}return aJ},_mouseEnabled:function(aJ){var aI=this;if(!aJ||!aJ.parent){return false}if(!aJ.visible||(typeof aJ.mouseEnabled!=ac&&!aJ.mouseEnabled)){return false}var aK=aJ.parent;while(aK&&aK!="root"){if(!aK.mouseEnabled||!aK.mouseChildren||!aK.visible){return false}aK=aK.parent;if(!aK){return false}}return true},_dispatchEvent:function(aI,aO,aQ,aN,aP,aM){var aR=this,aL,aK,aJ=aQ.length;for(aL=aP;aL<=aM&&aL<aJ;aL++){o=aQ[aL];if(o.sp.objectIndex!=aN){continue}aI.currentTarget=aI.clickTarget=o.sp;if(!aI.target){aI.target=o.sp}aI.event_type=aO;aI.selfX=(aI.offsetX-o.co.x-o.sp.x)/(o.co.scaleX*o.sp.scaleX);aI.selfY=(aI.offsetY-o.co.y-o.sp.y)/(o.co.scaleY*o.sp.scaleY);o.listener(aI,o.sp)}},dispatchEvent:function(aI,aO,aP){var aS=this,aK,aQ,aR=[],aL,aN,aM;for(aN=0,aM=aO.length;aN<aM;aN++){aK=aO[aN].container||aO[aN];if(!aS._mouseEnabled(aK)){continue}aQ=aS.getRootParams(aK);if(!aP&&aK.mouseEvent){aK.mouseEvent(aI,g.MOUSE_DOWN,aQ);continue}if(aK.ismouseon(aI,aQ)){if(aP==g.MOUSE_OUT){continue}if(aP==g.MOUSE_OVER){if(aK.ll_mousein){continue}}if(aP!=g.MOUSE_UP){aK.ll_mousein=true}aR.push({sp:aK,co:aQ,listener:aO[aN].listener})}else{if(aP!=g.MOUSE_OUT&&aP!=g.MOUSE_OVER){continue}if(!aK.ll_mousein){continue}aK.ll_mousein=false;aR.push({sp:aK,co:aQ,listener:aO[aN].listener})}}if(aR.length==0){return}if(aR.length>1){aR=aR.sort(aS._sort.bind(aS))}aM=aR.length;for(aN=0;aN<aM;aN++){aL=aR[aN];aS._dispatchEvent(aI,aP,aR,aL.sp.objectIndex,aN,aS.dispatchAllEvent?aM-1:aN);if(aN<aR.length-1&&aL.sp.objectIndex==aR[aN+1].sp.objectIndex){aR.splice(aN,1);aN--;continue}var aJ;while(true){if(!aJ){aJ=aL.sp.parent;aI.target=aL.sp}if(!aJ||aJ=="root"){break}aS._dispatchEvent(aI,aP,aR,aJ.objectIndex,aN+1,aM);aI.target=aJ;aJ=aJ.parent;if(!aJ||aJ=="root"){break}}if(!aS.dispatchAllEvent){break}else{continue}}},set:function(aJ,aI){this.container[aJ]=aI},_sort:function(aQ,aP){var aR=this,aL,aJ,aO=aR._getSort(aQ.sp),aI=aR._getSort(aP.sp),aN,aM,aK;for(aN=0,aM=aO.length,aK=aI.length;aN<aM&&aN<aK;aN++){aL=aO[aN];aJ=aI[aN];if(aL.objectIndex==aJ.objectIndex){continue}return aJ.parent.getChildIndex(aJ)-aL.parent.getChildIndex(aL)}return aI.length-aO.length},_getSort:function(aI){var aK=aI.parent,aJ=[aI];while(aK&&aK!="root"){aJ.unshift(aK);aK=aK.parent}return aJ}};return new aH()})();var E=function(){throw"LKeyboardEvent cannot be instantiated"};E.KEY_DOWN="keydown";E.KEY_UP="keyup";E.KEY_PRESS="keypress";var e=function(){throw"LAccelerometerEvent cannot be instantiated"};e.DEVICEMOTION="devicemotion";function aD(){throw"LStageAlign cannot be instantiated"}aD.TOP="T";aD.BOTTOM="B";aD.LEFT="L";aD.RIGHT="Re";aD.TOP_LEFT="TL";aD.TOP_RIGHT="TR";aD.TOP_MIDDLE="TM";aD.BOTTOM_LEFT="BL";aD.BOTTOM_RIGHT="BR";aD.BOTTOM_MIDDLE="BM";aD.MIDDLE="M";function aq(){throw"LStageScaleMode cannot be instantiated"}aq.EXACT_FIT="exactFit";aq.SHOW_ALL="showAll";aq.NO_BORDER="noBorder";aq.NO_SCALE="noScale";var ai=(function(){function aH(){throw"LGlobal cannot be instantiated"}aH.FULL_SCREEN="full_screen";aH.traceDebug=false;aH.displayState=V;aH.aspectRatio=V;aH.canvasObj=null;aH.canvas=null;aH.webAudio=true;aH.objectIndex=1;aH.stage=null;aH.width=0;aH.height=0;aH.box2d=null;aH.speed=50;aH.IS_MOUSE_DOWN=false;aH.stopPropagation=false;aH.preventDefault=true;aH.childList=new Array();aH.dragList=new Array();aH.excludingContainer=new Array();aH.fpsStatus=null;aH.stageScale="noScale";aH.align="M";aH.mobile=false;aH.canTouch=false;aH.os=aE;aH.ios=false;aH.android=false;aH.android_new=false;aH.backgroundColor=null;aH.destroy=true;aH.forceRefresh=false;aH.ratio=window.devicePixelRatio||1;aH.startTimer=0;aH.keepClear=true;aH.top=0;aH.left=0;aH.window=window;(function(aJ){aH.isOldFirefox=(function(aL){var aM=aL.toLowerCase().indexOf("firefox");if(aM<0){return false}var aK=aL.substring(aM+8,aL.length);return parseFloat(aK)<39})(aJ);if(aJ.indexOf(N)>0){aH.os=N;aH.canTouch=true;aH.ios=true}else{if(aJ.indexOf(q)>0){aH.os=q;aH.canTouch=true;aH.ios=true}else{if(aJ.indexOf(P)>0){aH.os=P;aH.ios=true;aH.canTouch=true}else{if(aJ.indexOf(B)>0){aH.os=B;aH.canTouch=true;aH.android=true;var aI=aJ.indexOf(B);if(parseInt(aJ.substr(aI+8,1))>3){aH.android_new=true}}else{if(aJ.indexOf(aa)>0){aH.os=aa;aH.canTouch=true}else{if(aJ.indexOf(S)>0){aH.os=S;aH.canTouch=true}}}}}}aH.mobile=aH.canTouch})(navigator.userAgent);aH.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(aI){window.setTimeout(aI,1000/60,(new Date).getTime())}}();aH.setDebug=function(aI){aH.traceDebug=aI};aH.setCanvas=function(aK,aI,aJ){aH.ll_createCanvas(aK,aI,aJ);aH.ll_createStage();if(aH.displayState==aB.FULL_SCREEN){aH.resize()}else{if(typeof aH.displayState=="number"){aH.resize(aH.width*aH.displayState,aH.height*aH.displayState)}}if(aH.notMouseEvent){return}if(aH.canTouch){aH.ll_clicks=0;aH.ll_prev_clickTime=0;A.addEventListener(aH.canvasObj,g.TOUCH_START,aH.ll_touchStart);A.addEventListener(document,g.TOUCH_END,aH.ll_touchEnd);A.addEventListener(aH.canvasObj,g.TOUCH_MOVE,aH.ll_touchMove)}else{A.addEventListener(aH.canvasObj,g.DOUBLE_CLICK,aH.ll_mouseDbclick);A.addEventListener(aH.canvasObj,g.MOUSE_DOWN,aH.ll_mouseDown);A.addEventListener(aH.canvasObj,g.MOUSE_MOVE,aH.ll_mouseMove);A.addEventListener(aH.canvasObj,g.MOUSE_UP,aH.ll_mouseUp);A.addEventListener(aH.canvasObj,g.MOUSE_OUT,aH.ll_mouseOut)}};aH.ll_createCanvas=function(aK,aI,aJ){aH.id=aK;aH.object=document.getElementById(aK);aI=aI||$(aH.object).innerWidth();aJ=aJ||$(aH.object).innerHeight();aH.object.innerHTML='<div style="position:absolute;margin:0;padding:0;overflow:visible;-webkit-transform: translateZ(0);z-index:0;"><canvas id="'+aH.id+'_canvas" style="margin:0;padding:0;width:'+aI+"px;height:"+aJ+'px;"><div id="noCanvas"><p>Hey there, it looks like you\'re using Microsoft\'s Internet Explorer. Microsoft hates the Web and doesn\'t support HTML5 :(</p></div></canvas></div><div id="'+aH.id+'_InputText" style="position:absolute;margin:0;padding:0;z-index:10;display:none;"><textarea rows="1" id="'+aH.id+'_InputTextareaBox" style="resize:none;background:transparent;border:0px;"></textarea><input type="text" id="'+aH.id+'_InputTextBox"  style="background:transparent;border:0px;" /><input type="password" id="'+aH.id+'_passwordBox"  style="background:transparent;border:0px;" /></div>';aH.canvasObj=document.getElementById(aH.id+"_canvas");aH._canvas=document.createElement("canvas");aH._context=aH._canvas.getContext("2d");if(aH._context){aH.canvasObj.innerHTML=""}aH.ratio=(window.devicePixelRatio||1)/(aH._context.backingStorePixelRatio||aH._context.webkitBackingStorePixelRatio||aH._context.mozBackingStorePixelRatio||aH._context.msBackingStorePixelRatio||aH._context.oBackingStorePixelRatio||aH._context.backingStorePixelRatio||1);aH.inputBox=document.getElementById(aH.id+"_InputText");aH.inputTextareaBoxObj=document.getElementById(aH.id+"_InputTextareaBox");aH.inputTextBoxObj=document.getElementById(aH.id+"_InputTextBox");aH.passwordBoxObj=document.getElementById(aH.id+"_passwordBox");aH.inputTextField=null;if(aI){aH.canvasObj.width=aI}if(aJ){aH.canvasObj.height=aJ}aH.width=aH.canvasObj.width;aH.height=aH.canvasObj.height;aH.canvasStyleWidth=aH.width;aH.canvasStyleHeight=aH.height;aH.canvas=aH.canvasObj.getContext("2d");aH.canvasObj.style.height=aH.canvasObj.height+"px";aH.canvasObj.style.width=aH.canvasObj.width+"px";aH.canvasObj.width*=aH.ratio;aH.canvasObj.height*=aH.ratio;aH.offsetX=aj=0;aH.offsetY=ah=0};aH.ll_createStage=function(){aH.stage=new ab();aH.stage.parent="root";aH.childList.push(aH.stage);aH.stage.baseAddEvent=aH.stage.addEventListener;aH.stage.baseRemoveEvent=aH.stage.removeEventListener;aH.stage.addEventListener=function(aI,aJ){if(aI==A.WINDOW_RESIZE||aI==A.WINDOW_ORIENTATIONCHANGE){if(aI==A.WINDOW_RESIZE){aH.stage.onresizeListener=aJ}else{aH.stage.onorientationchangeListener=aJ}if(!aH.stage.onresize){aH.stage.onresize=function(aK){aH.stage.onresizeEvent=aK};A.addEventListener(aH.window,aI,aH.stage.onresize)}}else{if(aI==E.KEY_DOWN||aI==E.KEY_UP||aI==E.KEY_PRESS){A.addEventListener(aH.window,aI,aJ)}else{aH.stage.baseAddEvent(aI,aJ)}}};aH.stage.removeEventListener=function(aI,aJ){if(aI==A.WINDOW_RESIZE||aI==A.WINDOW_ORIENTATIONCHANGE){if(aI==A.WINDOW_RESIZE){delete aH.stage.onresizeListener;if(aH.stage.onorientationchangeListener){return}}else{delete aH.stage.onorientationchangeListener;if(aH.stage.onresizeListener){return}}A.removeEventListener(aH.window,A.WINDOW_RESIZE,aH.stage.onresize);delete aH.stage.onresize}else{if(aI==E.KEY_DOWN||aI==E.KEY_UP||aI==E.KEY_PRESS){A.removeEventListener(aH.window,aI,aJ)}else{aH.stage.baseRemoveEvent(aI,aJ)}}};aH.innerWidth=window.innerWidth;aH.innerHeight=window.innerHeight;A.addEventListener(aH.window,"blur",function(){aH.stage.dispatchEvent(new A(aw.FOCUS_OUT))})};aH.ll_touchStart=function(aI){aH._outStageCheckCount=1;aH.IS_MOUSE_DOWN=true;aH.stage.dispatchEvent(new A(aw.FOCUS_IN));if(aH.inputBox.style.display!=V){aH.inputTextField._ll_getValue()}var aP,aN,aQ,aM,aO;aP=parseInt(0+aH.object.style.left)+parseInt(aH.canvasObj.style.marginLeft);aN=parseInt(0+aH.object.style.top)+parseInt(aH.canvasObj.style.marginTop);if(K.inputMode==az.NONE){aQ=aH.ll_touchStartEvent(aI,0,aP,aN)}else{if(K.inputMode==az.TOUCH_POINT){for(var aO=0,aL=aI.touches.length;aO<aL;aO++){if(!K.touchs["touch"+aI.touches[aO].identifier]){aQ=aH.ll_touchStartEvent(aI,aO,aP,aN)}}}}var aK=new Date();var aJ=aK.getTime();aH.ll_clicks=(aJ<=(aH.ll_prev_clickTime+500))?(aH.ll_clicks+1):1;aH.ll_prev_clickTime=aJ;if(aH.ll_clicks===2){aH.mouseEvent(aQ,g.DOUBLE_CLICK);aH.ll_clicks=0}if(aH.mouseJoint_start){aH.mouseJoint_start(aQ)}aH.touchHandler(aI)};aH.ll_touchStartEvent=function(aL,aM,aJ,aI){var aK={offsetX:(aL.touches[aM].pageX-aJ),offsetY:(aL.touches[aM].pageY-aI),touchPointID:aL.touches[aM].identifier};aK.offsetX=aH.ll_scaleX(aK.offsetX);aK.offsetY=aH.ll_scaleY(aK.offsetY);aj=aH.offsetX=aK.offsetX;ah=aH.offsetY=aK.offsetY;K.touchs["touch"+aK.touchPointID]=aK;aH.mouseEvent(aK,g.MOUSE_DOWN);aH.buttonStatusEvent=aK;return aK};aH.ll_touchEnd=function(aN){var aO,aM,aJ,aK,aI,aL;aH.IS_MOUSE_DOWN=false;if(K.inputMode==az.TOUCH_POINT){for(aJ in K.touchs){aO=K.touchs[aJ];aL=false;for(aK=0,aI=aN.touches.length;aK<aI;aK++){if(aN.touches[aK].identifier==aO.touchPointID){aL=true;break}}if(!aL){aM=aO;delete K.touchs[aJ];aH.mouseEvent(aM,g.MOUSE_UP)}}}if(!aM){aM={offsetX:aH.offsetX,offsetY:aH.offsetY}}aH.mouseEvent(aM,g.MOUSE_UP);aH.touchHandler(aN);aH.buttonStatusEvent=null;if(aH.mouseJoint_end){aH.mouseJoint_end()}aH.stage.dispatchEvent(new A(aw.FOCUS_OUT))};aH.ll_touchMove=function(aL){var aN,aM,aJ,aI,aK=aL.touches.length;aN=parseInt(0+aH.object.style.left)+parseInt(aH.canvasObj.style.marginLeft);aM=parseInt(0+aH.object.style.top)+parseInt(aH.canvasObj.style.marginTop);if(K.inputMode==az.NONE){aK=1}for(i=0,aI=aL.touches.length;i<aI&&i<aK;i++){aJ={offsetX:(aL.touches[i].pageX-aN),offsetY:(aL.touches[i].pageY-aM),touchPointID:aL.touches[i].identifier};aJ.offsetX=aH.ll_scaleX(aJ.offsetX);aJ.offsetY=aH.ll_scaleY(aJ.offsetY);aj=aH.offsetX=aJ.offsetX;ah=aH.offsetY=aJ.offsetY;if(K.touchs["touch"+aJ.touchPointID]&&K.touchs["touch"+aJ.touchPointID].offsetX==aJ.offsetX&&K.touchs["touch"+aJ.touchPointID].offsetY==aJ.offsetY){continue}aH.buttonStatusEvent=aJ;K.touchs["touch"+aJ.touchPointID]=aJ;if(aJ.offsetX<=0||aJ.offsetX>=aH.innerWidth||aJ.offsetX>=aH.width||aJ.offsetY<=0||aJ.offsetY>=aH.innerHeight||aJ.offsetY>=aH.height){aH._outStageCheckCount=0}else{aH._outStageCheckCount=1}aH.mouseEvent(aJ,g.MOUSE_MOVE)}aH.touchHandler(aL);if(aH.mouseJoint_move){aH.mouseJoint_move(aJ)}};aH.ll_mouseDbclick=function(aJ){if(aJ.offsetX==null&&aJ.layerX!=null){aJ.offsetX=aJ.layerX;aJ.offsetY=aJ.layerY}var aI={button:aJ.button};aI.offsetX=aH.ll_scaleX(aJ.offsetX);aI.offsetY=aH.ll_scaleY(aJ.offsetY);aH.mouseEvent(aI,g.DOUBLE_CLICK)};aH.ll_mouseDown=function(aJ){if(aJ.offsetX==null&&aJ.layerX!=null){aJ.offsetX=aJ.layerX;aJ.offsetY=aJ.layerY}if(aH.inputBox.style.display!=V){aH.inputTextField._ll_getValue()}var aI={button:aJ.button};aI.offsetX=aH.ll_scaleX(aJ.offsetX);aI.offsetY=aH.ll_scaleY(aJ.offsetY);aH.mouseEvent(aI,g.MOUSE_DOWN);aH.IS_MOUSE_DOWN=true;if(aH.mouseJoint_start){aH.mouseJoint_start(aI)}};aH.ll_mouseMove=function(aJ){if(aJ.offsetX==null&&aJ.layerX!=null){aJ.offsetX=aJ.layerX;aJ.offsetY=aJ.layerY}var aI={};aI.offsetX=aH.ll_scaleX(aJ.offsetX);aI.offsetY=aH.ll_scaleY(aJ.offsetY);aH.buttonStatusEvent=aI;aj=aH.offsetX=aI.offsetX;ah=aH.offsetY=aI.offsetY;aH.cursor="default";if(aj<=0||aj>=aH.innerWidth||aj>=aH.width||ah<=0||ah>=aH.innerHeight||ah>=aH.height){if(aH._outStageCheckCount){aH._outStageCheckCount=0;aH.stage.dispatchEvent(new A(aw.FOCUS_OUT))}}else{if(!aH._outStageCheckCount){aH._outStageCheckCount=1;aH.stage.dispatchEvent(new A(aw.FOCUS_IN))}}aH.mouseEvent(aI,g.MOUSE_MOVE);document.body.style.cursor=aH.cursor;if(aH.mouseJoint_move){aH.mouseJoint_move(aI)}};aH.ll_mouseUp=function(aJ){if(aJ.offsetX==null&&aJ.layerX!=null){aJ.offsetX=aJ.layerX;aJ.offsetY=aJ.layerY}var aI={button:aJ.button};aI.offsetX=aH.ll_scaleX(aJ.offsetX);aI.offsetY=aH.ll_scaleY(aJ.offsetY);aH.mouseEvent(aI,g.MOUSE_UP);aH.IS_MOUSE_DOWN=false;if(aH.mouseJoint_end){aH.mouseJoint_end()}};aH.ll_mouseOut=function(aJ){if(aJ.offsetX==null&&aJ.layerX!=null){aJ.offsetX=aJ.layerX;aJ.offsetY=aJ.layerY}var aI={};aI.offsetX=aH.ll_scaleX(aJ.offsetX);aI.offsetY=aH.ll_scaleY(aJ.offsetY);aH.mouseEvent(aI,g.MOUSE_OUT);aH.IS_MOUSE_DOWN=false};aH.touchHandler=function(aI){if(aH.stopPropagation){aI.stopPropagation();if(aI.stopImmediatePropagation){aI.stopImmediatePropagation()}}if(aH.preventDefault){aI.preventDefault()}return aI};aH.mouseEvent=function(aK,aJ){if(aJ==g.MOUSE_MOVE){aH.dragHandler(aK)}if(at.container[aJ]){at.dispatchMouseEvent(aK,aJ);return}for(var aI=aH.childList.length-1;aI>=0;aI--){if(aH.childList[aI].mouseEvent&&aH.childList[aI].mouseEvent(aK,aJ)){break}}};aH.dragHandler=function(aK){var aI,aJ,aM,aL=aH.dragList;for(aI=aL.length-1;aI>=0;aI--){aJ=aL[aI];if(aH.canTouch&&aJ.ll_touchPointID!=aK.touchPointID){continue}aM=aJ.parent.globalToLocal(new aA(aK.offsetX-aJ.ll_dragMX+aJ.ll_dragGlobalPoint.x,aK.offsetY-aJ.ll_dragMY+aJ.ll_dragGlobalPoint.y));aJ.x=aM.x;aJ.y=aM.y;if(aJ.dragRange){if(aJ.x<aJ.dragRange.left){aJ.x=aJ.dragRange.left}else{if(aJ.x>aJ.dragRange.right){aJ.x=aJ.dragRange.right}}if(aJ.y<aJ.dragRange.top){aJ.y=aJ.dragRange.top}else{if(aJ.y>aJ.dragRange.bottom){aJ.y=aJ.dragRange.bottom}}}break}};aH._ll_mobile=function(){var aN=aH.width*0.3,aR=aN*1.5,aX=aH.width*0.05,aY=aN*0.05,aK=aN*0.15,aU=aN*0.3,aM=aR*0.2,aQ="#cccccc",aP="#000000",aO="#ffffff",aL="#ff0000",aT,aN,aR,aJ,aW,aI,aV;aT=new ab();ar(aT);aN=aH.width*0.3,aR=aN*1.5;aT.graphics.drawRoundRect(1,aP,[aX,aX,aN,aR,aX],true,aQ);aT.graphics.drawRoundRect(1,aP,[aX+aY,aX+aY,aN-aY*2,aR-aY*2,aX],true,aP);aT.graphics.drawRect(1,aO,[aX+aK,aX+aM,aN-aK*2,aR-aM*2],true,aO);aT.graphics.drawArc(1,aO,[aX+aN*0.5,aX+aR-aY*3.5,aY*1.5,0,2*Math.PI]);aT.graphics.drawRoundRect(1,aO,[aX+aU,aX+aK,aN-aU*2,aY,aY*0.5]);aJ=new ab();aJ.x=-(aN-aK*2)*0.5;aJ.y=-aY*0.5;aJ.graphics.drawRect(1,aL,[0,0,aN-aK*2,aY],true,aL);aW=new ab();aW.y=-(aN-aK*2)*0.5;aW.x=-aY*0.5;aW.graphics.drawRect(1,aL,[0,0,aY,aN-aK*2],true,aL);aI=new ab();aI.x=aX+aU+(aN-aU*2)*0.5;aI.y=aX+aM+(aR-aM*2)*0.5;aI.rotate=45;aI.addChild(aJ);aI.addChild(aW);aT.addChild(aI);aV=new ab();aV.graphics.drawVertices(2,aP,[[0,0],[aK,aK],[0,aK*2]],true,aQ);aV.x=aX*1.5+aR;aV.y=aX*1.5+aR*0.5;ar(aV);aT.arrow=aV;var aS=function(){setTimeout(function(){location.href=location.href},100)};window.onorientationchange=aS;return aT};aH.verticalError=function(){var aJ=aH.width*0.3,aK=aH.width*0.05;var aI=aH._ll_mobile();var aL=aI.clone();aL.getChildAt(0).visible=false;aL.x=aH.width*0.5+aK;ar(aL);aI.rotate=90;aI.x=aH.width*0.5+aK;aI.y=aJ*0.5};aH.horizontalError=function(){var aJ=aH.width*0.3,aK=aH.width*0.05;var aI=aH._ll_mobile();var aL=aI.clone();aL.getChildAt(0).visible=false;aL.rotate=90;aL.x=aH.width-aK;aL.y=aJ*0.5;ar(aL);aI.arrow.x=aK*1.5+aJ};aH.onShow=function(){if(aH.canvas==null){return}if(aH._outStageCheckCount<=0){aH._outStageCheckCount--;if(aH._outStageCheckCount<-2){aH.stage.dispatchEvent(new A(aw.FOCUS_OUT));aH._outStageCheckCount=1}}if(aH.fpsStatus){aH.fpsStatus.reset()}if(aH.stage.onresizeEvent){if(aH.stage.onresizeListener){aH.stage.onresizeListener(aH.stage.onresizeEvent)}if(aH.stage.onorientationchangeListener){aH.stage.onorientationchangeListener({orientation:(window.innerWidth>window.innerHeight?J:d)})}delete aH.stage.onresizeEvent}if(aH.forceRefresh){aH.canvasObj.width=aH.canvasObj.width;aH.forceRefresh=false}aH.canvas.beginPath();if(aH.box2d!=null){aH.box2d.ll_show();if(!aH.traceDebug&&aH.keepClear){aH.canvas.clearRect(0,0,aH.width+1,aH.height+1)}}else{if(aH.keepClear){aH.canvas.clearRect(0,0,aH.width+1,aH.height+1)}if(aH.backgroundColor!==null){aH.canvas.fillStyle=aH.backgroundColor;aH.canvas.fillRect(0,0,aH.width,aH.height)}}aH.show(aH.childList)};aH.show=function(aK){for(var aJ=0,aI=aK.length,aL;aJ<aI;aJ++){aL=aK[aJ];if(aL&&aL.ll_show){aL.ll_show();if(aL._ll_removeFromSelf){aJ--;aI--}}}};aH.divideCoordinate=function(aQ,aO,aR,aK){var aN,aL,aM=aQ/aK,aJ=aO/aR,aI=[],aP;for(aN=0;aN<aR;aN++){aP=[];for(aL=0;aL<aK;aL++){aP.push({x:aM*aL,y:aJ*aN,width:aM,height:aJ})}aI.push(aP)}return aI};aH.divideList=function(aP,aO,aQ,aK){var aN,aL,aM=aP/aK,aJ=aO/aQ,aI=[];for(aN=0;aN<aQ;aN++){for(aL=0;aL<aK;aL++){aI.push({x:aM*aL,y:aJ*aN,width:aM,height:aJ})}}return aI};aH._create_loading_color=function(){var aI=aH.canvas.createRadialGradient(aH.width/2,aH.height,0,aH.width/2,0,aH.height);aI.addColorStop(0,"red");aI.addColorStop(0.3,"orange");aI.addColorStop(0.4,"yellow");aI.addColorStop(0.5,"green");aI.addColorStop(0.8,"blue");aI.addColorStop(1,"violet");return aI};aH.hitPolygon=function(aN,aQ,aP){var aO=0,aS=aN[0],aL=(aQ<=aS[0]),aK=(aP<=aS[1]),aM,aJ,aR,aI,aT;for(aM=1,aJ=aN.length;aM<aJ+1;aM++){aR=aN[aM%aJ];aI=(aQ<=aR[0]);aT=(aP<=aR[1]);if(aK!=aT){if(aL==aI){if(aL){aO+=(aK?-1:1)}}else{if(aQ<=(aS[0]+(aR[0]-aS[0])*(aP-aS[1])/(aR[1]-aS[1]))){aO+=(aK?-1:1)}}}aS=aR;aL=aI;aK=aT}return 0!=aO};aH.hitTestPolygon=function(aS,aR){var aN,aM,aL,aI,aQ,aP,aO=[[aS,[],[]],[aR,[],[]]];for(aM=0;aM<aO.length;aM++){aI=aO[aM][0],aQ=aO[aM][1];for(aN=0,aL=aI.length;aN<aL;aN++){aO[aM][2].push(new I(aI[aN][0],aI[aN][1]));if(aN<aL-1){aQ.push((new I(aI[aN+1][0]-aI[aN][0],aI[aN+1][1]-aI[aN][1])).normL())}}aQ.push((new I(aI[0][0]-aI[aL-1][0],aI[0][1]-aI[aL-1][1])).normL())}for(aM=0;aM<aO.length;aM++){aQ=aO[aM][1];for(aN=0,aL=aQ.length;aN<aL;aN++){var aK=I.getMinMax(aO[0][2],aQ[aN]);var aJ=I.getMinMax(aO[1][2],aQ[aN]);if(aK.max_o<aJ.min_o||aK.min_o>aJ.max_o){return false}}}return true};aH.hitTestPolygonArc=function(aT,aI){if(aH.hitPolygon(aT,aI[0],aI[1])){return true}var aN,aM,aL,aS,aR,aQ,aP,aJ,aO,aK;for(aN=0,aL=aT.length;aN<aL;aN++){aM=aN<aL-1?aN+1:0;aS=aT[aN],aR=aT[aM];aQ=new I(aI[0]-aS[0],aI[1]-aS[1]),aP=new I(aR[0]-aS[0],aR[1]-aS[1]);aK=aP.normalize();aO=I.dot(aQ,aK);if(aO<=0){if(aQ.x*aQ.x+aQ.y*aQ.y<aI[3]){return true}}else{if(aO*aO<aP.x*aP.x+aP.y*aP.y){aJ=I.cross(aQ,aK);if(aJ*aJ<aI[3]){return true}}}}return false};aH.hitTestArc=function(aT,aR,aS,aK){var aQ=aT.getWidth()*0.5,aO=aR.getWidth()*0.5,aM=aT._startX?aT._startX():aT.startX(),aL=aR._startX?aR._startX():aR.startX(),aJ=aT._startY?aT._startY():aT.startY(),aI=aR._startY?aR._startY():aR.startY();if(typeof aS!=ac){aM+=(aQ-aS);aJ+=(aQ-aS);aQ=aS}if(typeof aK!=ac){aL+=(aO-aK);aI+=(aO-aK);aO=aK}var aP=aM+aQ-aL-aO,aN=aJ+aQ-aI-aO;return aP*aP+aN*aN<(aQ+aO)*(aQ+aO)};aH.hitTestRect=function(aO,aM,aV,aT){var aR=aO.getWidth(),aQ=aM.getWidth(),aX=aO.getHeight(),aW=aM.getHeight(),aL=aO._startX?aO._startX():aO.startX(),aK=aM._startX?aM._startX():aM.startX(),aJ=aO._startY?aO._startY():aO.startY(),aI=aM._startY?aM._startY():aM.startY();if(typeof aV!=ac){aL+=(aR-aV[0])*0.5;aJ+=(aX-aV[1])*0.5;aR=aV[0];aX=aV[1]}if(typeof aT!=ac){aK+=(aQ-aT[0])*0.5;aI+=(aW-aT[1])*0.5;aQ=aT[0];aW=aT[1]}var aU=aL>aK?aL:aK,aS=aJ>aI?aJ:aI,aP=(aL+aR)>(aK+aQ)?(aK+aQ):(aL+aR),aN=(aJ+aX)>(aI+aW)?(aI+aW):(aJ+aX);return aU<=aP&&aS<=aN};aH.hitTest=aH.hitTestRect;aH.setFrameRate=function(aI){if(aH.frameRate){clearInterval(aH.frameRate)}aH.speed=aI;aH.frameRate=setInterval(function(){aH.onShow()},aI)};aH.ll_scaleX=function(aI){return(aI-aH.left)*aH.width/aH.canvasStyleWidth};aH.ll_scaleY=function(aI){return(aI-aH.top)*aH.height/aH.canvasStyleHeight};aH.ll_setStageSize=function(aI,aJ){aI=Math.ceil(aI);aJ=Math.ceil(aJ);aH.canvasObj.style.width=aI+"px";aH.canvasObj.style.height=aJ+"px";aH.canvasStyleWidth=aI;aH.canvasStyleHeight=aJ};aH.resize=function(aL,aO){var aK,aN,aM=0,aJ=0,aP=window.innerWidth,aI=window.innerHeight;aH.innerWidth=aP;aH.innerHeight=aI;if(aL){aK=aL}if(aO){aN=aO}if(aH.stageScale=="noScale"){aK=aL||aH.width;aN=aO||aH.height}switch(aH.stageScale){case"exactFit":aK=aL||aP;aN=aO||aI;break;case"noBorder":aK=aL||aP;aN=aO||aH.height*aP/aH.width;switch(aH.align){case aD.BOTTOM:case aD.BOTTOM_LEFT:case aD.BOTTOM_RIGHT:case aD.BOTTOM_MIDDLE:aM=aI-aN;break}break;case"showAll":if(aP/aI>aH.width/aH.height){aN=aO||aI;aK=aL||aH.width*aI/aH.height}else{aK=aL||aP;aN=aO||aH.height*aP/aH.width}case"noScale":default:switch(aH.align){case aD.BOTTOM:case aD.BOTTOM_LEFT:aM=aI-aN;break;case aD.RIGHT:case aD.TOP_RIGHT:aJ=aP-aK;break;case aD.TOP_MIDDLE:aJ=(aP-aK)*0.5;break;case aD.BOTTOM_RIGHT:aM=aI-aN;aJ=aP-aK;break;case aD.BOTTOM_MIDDLE:aM=aI-aN;aJ=(aP-aK)*0.5;break;case aD.MIDDLE:aM=(aI-aN)*0.5;aJ=(aP-aK)*0.5;break;case aD.TOP:case aD.LEFT:case aD.TOP_LEFT:default:}}aH.canvasObj.style.marginTop=aM+"px";aH.canvasObj.style.marginLeft=aJ+"px";if(aH.isOldFirefox){aH.left=parseInt(aH.canvasObj.style.marginLeft);aH.top=parseInt(aH.canvasObj.style.marginTop)}aH.ll_setStageSize(aK,aN)};aH.sleep=function(aI){var aJ=new Date();while((new Date().getTime()-aJ.getTime())<aI){}};aH.screen=function(aI){aH.displayState=aI;if(aH.stage){if(typeof aH.displayState=="number"){aH.resize(aH.width*aH.displayState,aH.height*aH.displayState)}else{aH.resize()}}};return aH})();var aG=ai;var aB=ai;if(!Array.prototype.indexOf){Array.prototype.indexOf=function(aI){var aH=this.length>>>0;var aJ=Number(arguments[1])||0;aJ=(aJ<0)?Math.ceil(aJ):Math.floor(aJ);if(aJ<0){aJ+=aH}for(;aJ<aH;aJ++){if(aJ in this&&this[aJ]===aI){return aJ}}return -1}}if(!Array.isArray){Array.isArray=function(aH){return Object.prototype.toString.apply(aH)=="[object Array]"}}if(!Function.prototype.bind){Function.prototype.bind=function(aH){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var aL=Array.prototype.slice.call(arguments,1),aK=this,aI=function(){},aJ=function(){return aK.apply(this instanceof aI&&aH?this:aH,aL.concat(Array.prototype.slice.call(arguments)))};aI.prototype=this.prototype;aJ.prototype=new aI();return aJ}}if(!Array.prototype.forEach){Array.prototype.forEach=function(aN,aI){var aK,aJ;if(this==null){throw new TypeError(" this is null or not defined")}var aM=Object(this);var aH=aM.length>>>0;if(typeof aN!=="function"){throw new TypeError(aN+" is not a function")}if(arguments.length>1){aK=aI}aJ=0;while(aJ<aH){var aL;if(aJ in aM){aL=aM[aJ];aN.call(aK,aL,aJ,aM)}aJ++}}}if(!Array.prototype.every){Array.prototype.every=function(aJ,aK){var aM,aL;if(this==null){throw new TypeError("this is null or not defined")}var aO=Object(this);var aI=aO.length>>>0;if(typeof aJ!=="function"){throw new TypeError()}if(arguments.length>1){aM=aK}aL=0;while(aL<aI){var aN;if(aL in aO){aN=aO[aL];var aH=aJ.call(aM,aN,aL,aO);if(!aH){return false}}aL++}return true}}if(!Array.prototype.some){Array.prototype.some=function(aJ){if(this==null){throw new TypeError("Array.prototype.some called on null or undefined")}if(typeof aJ!=="function"){throw new TypeError()}var aL=Object(this);var aH=aL.length>>>0;var aI=arguments.length>=2?arguments[1]:void 0;for(var aK=0;aK<aH;aK++){if(aK in aL&&aJ.call(aI,aL[aK],aK,aL)){return true}}return false}}if(!String.format){String.format=function(aI){var aH=Array.prototype.slice.call(arguments,1);return aI.replace(/{(\d+)}/g,function(aJ,aK){return typeof aH[aK]!="undefined"?aH[aK]:aJ})}}if(Function.prototype.name===undefined&&Object.defineProperty!==undefined){Object.defineProperty(Function.prototype,"name",{get:function(){var aI=/function\s([^(]{1,})\(/;var aH=(aI).exec((this).toString());return(aH&&aH.length>1)?aH[1].trim():""},set:function(aH){}})}function M(){if(!ai.traceDebug){return}var aJ=document.getElementById("traceObject"),aI;if(M.arguments.length>0&&aJ==null){var aL=document.createElement("DIV");aL.position=0;aL.style.position="absolute";document.body.appendChild(aL);aJ=document.createElement("TEXTAREA");aJ.id="traceObject";aJ.style.width=(window.innerWidth*0.5)+"px";aJ.style.height="200px";var aH=document.createElement("BUTTON");aH.style.width=(window.innerWidth*0.25)+"px";aH.innerHTML="Hide";aL.appendChild(aH);A.addEventListener(aH,ai.mobile?"touchstart":"click",function(aM){aJ.style.display=(aJ.style.display=="none"?"":"none")});aH=document.createElement("BUTTON");aH.style.width=(window.innerWidth*0.25)+"px";aH.innerHTML="position";aL.appendChild(aH);var aK=function(aM){aL.position++;if(aL.position==0){aL.style.top="5px";aL.style.left="5px"}else{if(aL.position==1){aL.style.top=(window.innerHeight-20-parseInt(aJ.style.height))+"px";aL.style.left="5px"}else{if(aL.position==2){aL.style.top="5px";aL.style.left=(window.innerWidth-parseInt(aJ.style.width))+"px"}else{aL.style.top=(window.innerHeight-20-parseInt(aJ.style.height))+"px";aL.style.left=(window.innerWidth-parseInt(aJ.style.width))+"px";aL.position=-1}}}};aK();A.addEventListener(aH,ai.mobile?"touchstart":"click",aK);aL.appendChild(document.createElement("BR"));aL.appendChild(aJ)}for(aI=0;aI<M.arguments.length;aI++){aJ.value=aJ.value+M.arguments[aI]+"\r\n";aJ.scrollTop=aJ.scrollHeight}}if(!window.console){window.console={log:M,warn:M}}function ar(aH){ai.stage.addChild(aH)}function av(aH){ai.stage.removeChild(aH)}function ad(aL,aO,aI,aK,aM,aJ){(function(aP){var aS=(function(aT){var aU=aT.backingStorePixelRatio||aT.webkitBackingStorePixelRatio||aT.mozBackingStorePixelRatio||aT.msBackingStorePixelRatio||aT.oBackingStorePixelRatio||aT.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/aU})(aP),aR=function(aV,aT){for(var aU in aV){if(aV.hasOwnProperty(aU)){aT(aV[aU],aU)}}},aQ={fillRect:"all",clearRect:"all",strokeRect:"all",moveTo:"all",lineTo:"all",arc:[0,1,2],arcTo:"all",bezierCurveTo:"all",isPointinPath:"all",isPointinStroke:"all",quadraticCurveTo:"all",rect:"all",translate:"all",createRadialGradient:"all",createLinearGradient:"all",transform:[4,5],setTransform:[4,5],};if(aS===1){return}aR(aQ,function(aU,aT){aP[aT]=(function(aV){return function(){var aY,aW,aX=Array.prototype.slice.call(arguments);if(aU==="all"){aX=aX.map(function(aZ){return aZ*aS})}else{if(Array.isArray(aU)){for(aY=0,aW=aU.length;aY<aW;aY++){aX[aU[aY]]*=aS}}}return aV.apply(this,aX)}})(aP[aT])});aP.stroke=(function(aT){return function(){this.lineWidth*=aS;aT.apply(this,arguments);this.lineWidth/=aS}})(aP.stroke);aP.fillText=(function(aT){return function(){var aU=Array.prototype.slice.call(arguments);aU[1]*=aS;aU[2]*=aS;if(aU[3]){aU[3]*=aS}this.font=this.font.replace(/([.\d]+)(px|em|rem|pt)/g,function(aW,aV,aX){return(aV*aS)+aX});aT.apply(this,aU);this.font=this.font.replace(/([.\d]+)(px|em|rem|pt)/g,function(aW,aV,aX){return(aV/aS)+aX})}})(aP.fillText);aP.strokeText=(function(aT){return function(){var aU=Array.prototype.slice.call(arguments);aU[1]*=aS;aU[2]*=aS;this.font=this.font.replace(/([.\d]+)(px|em|rem|pt)/g,function(aW,aV,aX){return(aV*aS)+aX});aT.apply(this,aU);this.font=this.font.replace(/([.\d]+)(px|em|rem|pt)/g,function(aW,aV,aX){return(aV/aS)+aX})}})(aP.strokeText);aP.drawImage=(function(aT){return function(){var aU=Array.prototype.slice.call(arguments);if(aU.length===3){aU[1]*=aS;aU[2]*=aS}else{if(aU.length===5){aU[1]*=aS;aU[2]*=aS;aU[3]*=aS;aU[4]*=aS}else{if(aU.length===9){aU[5]*=aS;aU[6]*=aS;aU[7]*=aS;aU[8]*=aS}}}aT.apply(this,aU)}})(aP.drawImage);aP.putImageData=(function(aT){return function(){var aU=Array.prototype.slice.call(arguments);for(i=1,len=aU.length;i<len;i++){aU[i]*=aS}aT.apply(this,aU)}})(aP.putImageData)})(CanvasRenderingContext2D.prototype);ai.speed=ai.delta=aL;if(!aL){aL=ai.requestAnimFrame}var aN=function(){if(ai.canTouch&&ai.aspectRatio==J&&window.innerWidth<window.innerHeight){ai.horizontalError()}else{if(ai.canTouch&&ai.aspectRatio==d&&window.innerWidth>window.innerHeight){ai.verticalError()}else{setTimeout(aM,100)}}ai.startTimer=(new Date()).getTime()};var aH;if(typeof aL=="function"){ai.speed=null;ai.setCanvas(aO,aI,aK);aN();ai.currentTime=(new Date).getTime();aH=function(){var aP=(new Date).getTime();ai.delta=aP-ai.currentTime;ai.currentTime=aP;ai.delta>500&&(ai.delta=0);aL(aH);ai.onShow()}}else{aH=function(){ai.frameRate=setInterval(function(){ai.onShow()},aL);ai.setCanvas(aO,aI,aK);aN()}}if(aJ!=null&&aJ==A.INIT){aH()}else{A.addEventListener(window,"load",function(){aH()})}}var O=ad;function D(aM,aH,aI){var aK=null,aL=aM.constructor.prototype,aJ={};if(aM.constructor.name=="Object"){console.warn("When you use the extends. You must make a method like 'XX.prototype.xxx=function(){}'. but not 'XX.prototype={xxx:function(){}}'.")}if(typeof aM.__ll__parent__==ac){aM.__ll__parent__=[];aM.__ll__parent__=[]}aM.__ll__parent__.push(aH.prototype);for(aK in aL){aJ[aK]=1}for(aK in aH.prototype){if(!aJ[aK]){aL[aK]=aH.prototype[aK]}}if(aL.toString==Object.prototype.toString){aL.toString=s.prototype.toString}aH.apply(aM,aI)}var H=D;function al(){return(new Date()).getTime()-ai.startTimer}function ae(aJ){var aH,aI=/([^#?]+\.)([^.#?]+)/;aH=aJ.match(aI);if(aH.length>=3){return aH[2].toLowerCase()}return null}var s=(function(){function aH(){this.type="LObject";this.objectIndex=++ai.objectIndex;this.objectindex=this.objectIndex}aH.prototype={callParent:function(aI,aK){if(!aI||!aK){return}var aL=this,aN=false,aM,aJ="__ll__parent_call"+aI;if(typeof aL[aJ]=="undefined"){aN=true;aL[aJ]=0}else{aL[aJ]++}if(aL[aJ]>=aL.__ll__parent__.length){return false}if(!aL.__ll__parent__[aL[aJ]][aI]){aM=aL.callParent(aI,aK)}else{aM=aL.__ll__parent__[aL[aJ]][aI].apply(aL,aK)}if(aN){delete aL[aJ]}return aM},copyProperty:function(aI){var aK=this,aJ;for(aJ in aI){if(typeof aI[aJ]=="number"||typeof aI[aJ]=="string"||typeof aI[aJ]=="boolean"){if(aJ=="objectindex"||aJ=="objectIndex"){continue}aK[aJ]=aI[aJ]}else{if(Array.isArray(aI[aJ])){aK[aJ]=aI[aJ].slice()}}}if(aI.mask){aK.mask=aI.mask.clone()}},toString:function(){return"[object "+this.constructor.name+"]"}};return aH})();var C=(function(){function aI(aJ,aL){var aK=this;H(aK,f,[]);aK.type="LTimer";aK.delay=aJ;aK.repeatCount=aL?aL:2147904;aK.running=false;aK.currentCount=0;aK.reset();aI.TimerManager.add(aK)}aI.TimerManager=(function(){function aJ(){this.childList=[]}aJ.prototype={ll_show:function(){var aL=this,aM;for(var aK=0;aK<aL.childList.length;aK++){aM=aL.childList[aK];if(aM){aM.ll_show()}}},add:function(aK){this.childList.push(aK)},remove:function(aN){var aM=this,aO=aM.childList,aL,aK;for(aL=0,aK=aO.length;aL<aK;aL++){if(aN.objectIndex==aO[aL].objectIndex){aM.childList.splice(aL,1);break}}}};return new aJ()})();p={start:function(){this.running=true},stop:function(){this.running=false},reset:function(){var aJ=this;aJ.currentTime=0;aJ.initTime=new Date().getTime();aJ.currentCount=0;aJ.stop()},destroy:function(){aI.TimerManager.remove(this)},ll_show:function(){var aJ=this;if(!aJ.running||aJ.currentCount>=aJ.repeatCount){return}if(ai.speed){aJ.currentTime+=ai.speed}else{aJ.currentTime=new Date().getTime()-aJ.initTime}if(aJ.currentTime<aJ.delay){return}aJ.currentTime=0;aJ.currentCount++;aJ.dispatchEvent(ag.TIMER);if(aJ.currentCount>=aJ.repeatCount){aJ.dispatchEvent(ag.TIMER_COMPLETE)}}};for(var aH in p){aI.prototype[aH]=p[aH]}ai.childList.push(aI.TimerManager);return aI})();var Z=(function(){function aH(aN,aI,aL,aK,aP,aM,aJ,aQ){var aO=this;H(aO,s,[]);aO.redMultiplier=aN;aO.greenMultiplier=aI;aO.blueMultiplier=aL;aO.alphaMultiplier=aK;aO.redOffset=aP;aO.greenOffset=aM;aO.blueOffset=aJ;aO.alphaOffset=aQ}return aH})();var c=(function(){function aH(){var aI=this;H(aI,s,[]);aI.matrix=null}return aH})();var aF=(function(){function aI(aP,aO,aN,aM,aL,aK,aS,aR,aQ){var aT=this;H(aT,s,[]);aT.a=1;aT.b=0;aT.u=0;aT.c=0;aT.d=1;aT.v=0;aT.tx=0;aT.ty=0;aT.w=1;if(typeof aP!=ac){aT.a=aP}if(typeof aO!=ac){aT.b=aO}if(typeof aN!=ac){aT.c=aN}if(typeof aM!=ac){aT.d=aM}if(typeof aL!=ac){aT.tx=aL}if(typeof aK!=ac){aT.ty=aK}if(typeof aS!=ac){aT.u=aS}if(typeof aR!=ac){aT.v=aR}if(typeof aQ!=ac){aT.w=aQ}}var aJ={setTo:function(aP,aO,aN,aM,aL,aK,aS,aR,aQ){var aT=this;if(typeof aP!=ac){aT.a=aP}if(typeof aO!=ac){aT.b=aO}if(typeof aN!=ac){aT.c=aN}if(typeof aM!=ac){aT.d=aM}if(typeof aL!=ac){aT.tx=aL}if(typeof aK!=ac){aT.ty=aK}if(typeof aS!=ac){aT.u=aS}if(typeof aR!=ac){aT.v=aR}if(typeof aQ!=ac){aT.w=aQ}return aT},isIdentity:function(){var aK=this;return(aK.a==1&&aK.b==0&&aK.c==0&&aK.d==1&&aK.tx==0&&aK.ty==0&&u==0&&v==0&&w==1)},transform:function(aL){var aK=this;aL.transform(aK.a,aK.b,aK.c,aK.d,aK.tx,aK.ty);return aK},identity:function(){this.setTo(1,0,0,1,0,0,0,0,1)},rotate:function(aO){var aM=this,aP=aO*Math.PI/180,aN=Math.cos(aP),aK=Math.sin(aP),aL=new aI(aN,aK,-aK,aN,0,0,0,0,1);aM.add(aL);return aM},scale:function(aN,aM){var aL=this,aK=new aI(aN,0,0,aM,0,0,0,0,1);aL.add(aK);return aL},translate:function(aL,aK){var aN=this,aM=new aI(1,0,0,1,aL,aK,0,0,1);aN.add(aM);return aN},skew:function(aN,aK){var aM=this,aL=new aI(1,aK,aN,1,0,0,0,0,1);aM.add(aL);return aM},add:function(aK){var aU=this,aQ,aP,aO,aN,aM,aL,aT,aS,aR;aQ=aU.a*aK.a+aU.b*aK.c+aU.u*aK.tx;aP=aU.a*aK.b+aU.b*aK.d+aU.u*aK.ty;aT=aU.a*aK.u+aU.b*aK.v+aU.u*aK.w;aO=aU.c*aK.a+aU.d*aK.c+aU.v*aK.tx;aN=aU.c*aK.b+aU.d*aK.d+aU.v*aK.ty;aS=aU.c*aK.u+aU.d*aK.v+aU.v*aK.w;aM=aU.tx*aK.a+aU.ty*aK.c+aU.w*aK.tx;aL=aU.tx*aK.b+aU.ty*aK.d+aU.w*aK.ty;aR=aU.tx*aK.u+aU.ty*aK.v+aU.w*aK.w;aU.setTo(aQ,aP,aO,aN,aM,aL,aT,aS,aR)},toArray:function(aK){var aX=this;if(Array.isArray(aK)&&aK.length==3){var aM=aK[0]*aX.a+aK[1]*aX.c+aK[2]*aX.tx,aL=aK[0]*aX.b+aK[1]*aX.d+aK[2]*aX.ty,aN=aK[0]*aX.u+aK[1]*aX.v+aK[2]*aX.w;return[aM,aL,aN]}else{var aT=aX.a*aK.a+aX.b*aK.c+aX.u*aK.tx,aS=aX.a*aK.b+aX.b*aK.d+aX.u*aK.ty,aW=aX.a*aK.u+aX.b*aK.v+aX.u*aK.w,aR=aX.c*aK.a+aX.d*aK.c+aX.v*aK.tx,aQ=aX.c*aK.b+aX.d*aK.d+aX.v*aK.ty,aV=aX.c*aK.u+aX.d*aK.v+aX.v*aK.w,aP=aX.tx*aK.a+aX.ty*aK.c+aX.w*aK.tx,aO=aX.tx*aK.b+aX.ty*aK.d+aX.w*aK.ty,aU=aX.tx*aK.u+aX.ty*aK.v+aX.w*aK.w;return[aT,aS,aR,aQ,aP,aO,aW,aV,aU]}},clone:function(){var aK=this;return new aI(aK.a,aK.b,aK.c,aK.d,aK.tx,aK.ty,aK.u,aK.v,aK.w)}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var I=(function(){function aH(aI,aJ){this.x=aI||0;this.y=aJ||0}aH.dot=function(aJ,aI){return aJ.x*aI.x+aJ.y*aI.y};aH.cross=function(aJ,aI){return aJ.x*aI.y-aJ.y*aI.x};aH.distance=function(aK,aJ){var aI=aK.x-aJ.x;var aL=aK.y-aJ.y;return Math.sqrt(aI*aI+aL*aL)};aH.getMinMax=function(aQ,aK){var aJ=aH.dot(aQ[0],aK);var aM=aH.dot(aQ[0],aK);var aN=0;var aP=0;for(var aO=1;aO<aQ.length;aO++){var aL=aH.dot(aQ[aO],aK);if(aJ>aL){aJ=aL;aN=aO}if(aM<aL){aM=aL;aP=aO}}var aI={min_o:aJ,min_i:aN,max_o:aM,max_i:aP};return aI};aH.prototype={length:function(){var aI=this;return Math.sqrt(aI.x*aI.x+aI.y*aI.y)},normalize:function(){var aJ=this,aI=aJ.length();return new aH(aJ.x/aI,aJ.y/aI)},normR:function(){return new aH(-this.y,this.x)},normL:function(){return new aH(this.y,-this.x)}};return aH})();var f=(function(){function aI(){var aK=this;H(aK,s,[]);aK._eventList=new Array()}var aJ={addEventListener:function(aK,aL){this._eventList.push({listener:aL,type:aK})},removeEventListener:function(aM,aO){var aL=this,aK,aN;aN=aL._eventList.length;for(aK=0;aK<aN;aK++){if(!aL._eventList[aK]){continue}if(aM==aL._eventList[aK].type&&(!aO||aL._eventList[aK].listener==aO)){aL._eventList.splice(aK,1);return}}},removeAllEventListener:function(){this._eventList=[]},dispatchEvent:function(aO){var aM=this,aK,aN=aM._eventList.length,aL=(typeof aO=="string")?aO:aO.eventType;for(aK=0;aK<aN;aK++){if(!aM._eventList[aK]){continue}if(aL==aM._eventList[aK].type){if(typeof aO=="string"){aM.currentTarget=aM.target=aM;aM.eventType=aM.event_type=aL;aM._eventList[aK].listener(aM);delete aM.currentTarget;delete aM.target;delete aM.eventType}else{if(!aO.target){aO.target=aM}if(!aO.currentTarget){aO.currentTarget=aO.target}aO._ll_preventDefault=false;aM._eventList[aK].listener(aO);if(aO._ll_preventDefault){return false}}return true}}return false},hasEventListener:function(aM,aO){var aL=this,aK,aN=aL._eventList.length;for(aK=0;aK<aN;aK++){if(!aL._eventList[aK]){continue}if(aM==aL._eventList[aK].type){if(typeof aO==ac||aO==aL._eventList[aK].listener){return true}}}return false}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var T=(function(){function aJ(){var aK=this;H(aK,f,[]);aK.name="instance"+aK.objectIndex;aK.x=0;aK.y=0;aK.width=0;aK.height=0;aK.scaleX=1;aK.scaleY=1;aK.alpha=1;aK.visible=true;aK.rotate=0;aK.mask=null;aK.blendMode=null;aK.filters=null;aK.transform=new c();aK.parent=null}var aI={_createCanvas:function(){var aK=this;if(!aK._canvas){aK._canvas=document.createElement("canvas");aK._context=aK._canvas.getContext("2d")}},ll_show:function(){var aK=this,aL=ai.canvas;if(!aK._canShow()){return}aK._ll_trans=false;if(!ai.box2d&&typeof aK._ll_loopframe=="function"){aK._ll_loopframe()}aL.save();aK._showReady(aL);if(aK.blendMode){aL.globalCompositeOperation=aK.blendMode}if(aK.filters){aK._ll_setFilters()}aK._rotateReady();if(aK.mask!=null&&aK.mask.ll_show){aK.mask.ll_show();aL.clip()}aK._transformRotate();aK._transformScale();aK._coordinate(aL);if(aK.transform.matrix){aK.transform.matrix.transform(aL)}if(aK.alpha<1){aK._ll_trans=true;aL.globalAlpha=aK.alpha}if(ai.fpsStatus){ai.fpsStatus.display++;if(aK._ll_trans){ai.fpsStatus.transform++}}if(aK._ll_cacheAsBitmap){aK._ll_cacheAsBitmap._ll_show()}else{aK._ll_show(aL)}aL.restore();if(ai.box2d!=null&&typeof aK._ll_loopframe=="function"){aK._ll_loopframe()}},_canShow:function(){return this.visible},_coordinate:function(aL){var aK=this;if(aK.x!=0||aK.y!=0){aK._ll_trans=true;aL.transform(1,0,0,1,aK.x,aK.y)}},_rotateReady:function(){},_showReady:function(aK){},_ll_show:function(aK){},_ll_setFilters:function(){var aM=this,aN=aM.filters,aL,aK;if(!aN){return}for(aL=0,aK=aN.length;aL<aK;aL++){aN[aL].ll_show(aM)}},startX:function(){return 0},startY:function(){return 0},getWidth:function(){return 1},getHeight:function(){return 1},_transformRotate:function(){var aK=this,aL;if(aK.rotate==0){return}aK._ll_trans=true;aL=ai.canvas,rotateFlag=Math.PI/180,rotateObj=new aF();if((typeof aK.rotatex)==ac){aK.rotatex=0;aK.rotatey=0}if(aK.box2dBody){rotateFlag=1}rotateObj.a=Math.cos(aK.rotate*rotateFlag);rotateObj.b=Math.sin(aK.rotate*rotateFlag);rotateObj.c=-rotateObj.b;rotateObj.d=rotateObj.a;rotateObj.tx=aK.x+aK.rotatex;rotateObj.ty=aK.y+aK.rotatey;rotateObj.transform(aL).setTo(1,0,0,1,-rotateObj.tx,-rotateObj.ty).transform(aL)},_transformScale:function(){var aK=this,aM=ai.canvas,aL;if(aK.scaleX==1&&aK.scaleY==1){return}aK._ll_trans=true;aL=new aF();if(aK.scaleX!=1){aL.tx=aK.x}if(aK.scaleY!=1){aL.ty=aK.y}aL.a=aK.scaleX;aL.d=aK.scaleY;aL.transform(aM).setTo(1,0,0,1,-aL.tx,-aL.ty).transform(aM)},getAbsoluteScale:function(){var aK=this,aN,aM,aL;aN=aK.scaleX;aM=aK.scaleY;aL=aK.parent;while(aL&&aL!="root"){aN*=aL.scaleX;aM*=aL.scaleY;aL=aL.parent}return{scaleX:aN,scaleY:aM}},getRootCoordinate:function(){return this.localToGlobal(new aA(0,0))},localToGlobal:function(aL){var aM=this,aK,aO,aN;m=aM.getRootMatrix();aN=m.toArray([aL.x,aL.y,1]);return new aA(aN[0],aN[1])},globalToLocal:function(aL){var aM=this,aK,aO,aN;m=aM.getLocalMatrix();aN=m.toArray([aL.x,aL.y,1]);return new aA(aN[0],aN[1])},getBounds:function(aP){if(typeof aP==ac){return new R(0,0,0,0)}var aN=this,aK=0,aR=0,aL=0,aM=0,aO,aQ;if(aN.objectIndex!=aP.objectIndex){aO=aN.getRootCoordinate();aQ=aP.getRootCoordinate();aK=aO.x-aQ.x;aR=aO.y-aQ.y}if(aP.getWidth){aL=aP.getWidth()}if(aP.getHeight){aM=aP.getHeight()}return new R(aK,aR,aL,aM)},cacheAsBitmap:function(aQ,aR,aM){var aS=this;if(!aQ){aS._ll_cacheAsBitmap=null;return}var aP=aS.x-aS.startX(),aN=aS.y-aS.startY();var aL=aS.getDataCanvas(aP,aN,aS.getWidth(),aS.getHeight());var aO=new t(aL,0,0,null,null,t.DATA_CANVAS);var aK=new r(aO,0,0,aS.getWidth(),aS.getHeight());aK.x=-aP;aK.y=-aN;aS._ll_cacheAsBitmap=aK},getDataCanvas:function(aS,aR,aT,aM){var aU=this,aK,aL,aN,aP,aQ,aO;aU._createCanvas();aL=ai.canvasObj;aP=ai.canvas;aK=aU._canvas;aN=aU._context;aU.width=aT||aU.getWidth();aU.height=aM||aU.getHeight();aK.width=aU.width;aK.height=aU.height;aN.clearRect(0,0,aU.width,aU.height);ai.canvasObj=aU._canvas;ai.canvas=aU._context;aQ=aU.x;aO=aU.y;aU.x=aS||0;aU.y=aR||0;aU.ll_show();aU.x=aQ;aU.y=aO;aU._canvas=aK;aU._context=aN;ai.canvasObj=aL;ai.canvas=aP;return aU._canvas},getDataURL:function(){var aK=this,aL=aK.getDataCanvas();return aL.toDataURL.apply(aL,arguments)},ismouseonShapes:function(aK,aR,aO){var aT=this,aP=aT,aM,aL,aN,aQ,aS;if(typeof aK==ac){aK=aT.shapes}aM=aT.getRootMatrix();for(aN=aK.length-1;aN>=0;aN--){aL=aK[aN];aS=aL.arg;aQ=aT._changeShape(aL.type,aS,aM);if(aL.type==n.VERTICES){if(ai.hitPolygon(aQ,aR,aO)){return true}}else{if(aL.type==n.RECT){if(ai.hitPolygon(aQ,aR,aO)){return true}}else{if(aL.type==n.ARC){if((aQ[0]-aR)*(aQ[0]-aR)+(aQ[1]-aO)*(aQ[1]-aO)<aQ[3]){return true}}}}}return false},_changeShape:function(aO,aS,aL){var aR,aS=aS,aK,aN,aM,aQ,aP;if(aO==n.VERTICES){aR=[];for(aN=0,aM=aS.length;aN<aM;aN++){aR[aN]=aL.toArray([aS[aN][0],aS[aN][1],1])}}else{if(aO==n.RECT){aR=[[aS[0],aS[1]],[aS[0]+aS[2],aS[1]],[aS[0]+aS[2],aS[1]+aS[3]],[aS[0],aS[1]+aS[3]]];for(aN=0,aM=aR.length;aN<aM;aN++){aR[aN]=aL.toArray([aR[aN][0],aR[aN][1],1])}}else{if(aO==n.ARC){aQ=aL.toArray([aS[0],aS[1],1]);aP=aL.toArray([aS[0]+aS[2],aS[1],1]);aK=(aQ[0]-aP[0])*(aQ[0]-aP[0])+(aQ[1]-aP[1])*(aQ[1]-aP[1]);aR=[aQ[0],aQ[1],Math.sqrt(aK),aK]}}}return aR},getRootMatrix:function(){var aL=this,aK=new aF();while(aL&&aL!="root"){if(aL.scaleX!=1||aL.scaleY!=1){aK.scale(aL.scaleX,aL.scaleY)}if(aL.rotate!=0){aK.rotate(aL.rotate)}if(aL.x!=0||aL.y!=0){aK.translate(aL.x,aL.y)}aL=aL.parent}return aK},getLocalMatrix:function(){var aM=this,aK=new aF(),aN=[];while(aM&&aM!="root"){aN.push(aM);aM=aM.parent}for(var aL=aN.length-1;aL>=0;aL--){aM=aN[aL];if(aM.x!=0||aM.y!=0){aK.translate(-aM.x,-aM.y)}if(aM.rotate!=0){aK.rotate(-aM.rotate)}if(aM.scaleX!=1||aM.scaleY!=1){aK.scale(1/aM.scaleX,1/aM.scaleY)}}return aK},remove:function(){var aK=this,aL=aK.parent;if(!aL||aL=="root"){return}aL.removeChild(aK);aK._ll_removeFromSelf=true}};for(var aH in aI){aJ.prototype[aH]=aI[aH]}return aJ})();var h=(function(){function aH(){var aK=this;H(aK,T,[]);aK.type="LInteractiveObject";aK.mouseEnabled=true;aK.mouseList=new Array()}var aJ={addEventListener:function(aL,aM){var aK=this;if(aL.indexOf("mouse")>=0||aL.indexOf("touch")>=0||aL==g.DOUBLE_CLICK){if(at.container[aL]||((aL==g.MOUSE_OVER||aL==g.MOUSE_OUT)&&at.container[g.MOUSE_MOVE])){at.addMouseEvent(aK,aL,aM);return}aK.mouseList.push({listener:aM,type:aL})}else{aK._eventList.push({listener:aM,type:aL})}},removeEventListener:function(aM,aO){var aL=this,aK,aN;if(aM.indexOf("mouse")>=0||aM.indexOf("touch")>=0||aM==g.DOUBLE_CLICK){if(at.container[aM]||((aM==g.MOUSE_OVER||aM==g.MOUSE_OUT)&&at.container[g.MOUSE_MOVE])){at.removeMouseEvent(aL,aM,aO);return}aN=aL.mouseList.length;for(aK=0;aK<aN;aK++){if(!aL.mouseList[aK]){continue}if(aM==aL.mouseList[aK].type&&aL.mouseList[aK].listener==aO){aL.mouseList.splice(aK,1);return}}}else{return aL.callParent("removeEventListener",arguments)}},removeAllEventListener:function(){var aK=this;aK.mouseList.length=0;aK._eventList.length=0;if(at.container[g.MOUSE_DOWN]){at.removeMouseEvent(aK,g.MOUSE_DOWN)}if(at.container[g.MOUSE_UP]){at.removeMouseEvent(aK,g.MOUSE_UP)}if(at.container[g.MOUSE_MOVE]){at.removeMouseEvent(aK,g.MOUSE_MOVE);at.removeMouseEvent(aK,g.MOUSE_OVER);at.removeMouseEvent(aK,g.MOUSE_OUT)}},hasEventListener:function(aM,aO){var aL=this,aK,aN;if(at.container[aM]){return at.hasEventListener(aL,aM,aO)}if(aM.indexOf("mouse")>=0||aM.indexOf("touch")>=0||aM==g.DOUBLE_CLICK){aN=aL.mouseList.length;for(aK=0;aK<aN;aK++){if(!aL.mouseList[aK]){continue}if(aM==aL.mouseList[aK].type&&(!aO||aL.mouseList[aK].listener==aO)){return true}}}else{return aL.callParent("hasEventListener",arguments)}return false}};for(var aI in aJ){aH.prototype[aI]=aJ[aI]}return aH})();var ak=(function(){function aJ(){var aK=this;H(aK,h,[]);aK.childList=new Array();aK.numChildren=0;aK.mouseChildren=true}var aI={addChild:function(aM){var aL=this,aK;if(aM.parent){aK=ai.destroy;ai.destroy=false;aM.parent.removeChild(aM);ai.destroy=aK}aM.parent=aL;aL.childList.push(aM);aL.numChildren=aL.childList.length;aL._ll_removeFromSelf=false;return aM},addChildAt:function(aN,aL){var aM=this,aK;if(aL<0||aL>aM.childList.length){return}if(typeof aN.remove=="function"){aK=ai.destroy;ai.destroy=false;aN.remove();ai.destroy=aK}aN.parent=aM;aM.childList.splice(aL,0,aN);aM.numChildren=aM.childList.length;aM._ll_removeFromSelf=false;return aN},removeChild:function(aN){var aM=this,aO=aM.childList,aL,aK;for(aL=0,aK=aO.length;aL<aK;aL++){if(aN.objectIndex==aO[aL].objectIndex){if(ai.destroy&&aN.die){aN.die()}aM.childList.splice(aL,1);break}}aM.numChildren=aM.childList.length;delete aN.parent},getChildAt:function(aK){var aL=this,aM=aL.childList;if(aM.length==0||aM.length<=aK){return null}return aM[aK]},getChildByName:function(aO){var aM=this,aN=aM.childList,aL,aK;for(aL=0,aK=aN.length;aL<aK;aL++){if(!aN[aL]){continue}if(aN[aL].name==aO){return aN[aL]}}return null},removeChildAt:function(aK){var aL=this,aN=aL.childList;if(aN.length<=aK){return}if(ai.destroy&&aN[aK].die){aN[aK].die()}var aM=aL.childList.splice(aK,1);aL.numChildren=aL.childList.length;return aM},getChildIndex:function(aO){if(!aO){return -1}var aM=this,aN=aM.childList,aL,aK=aN.length;for(aL=0;aL<aK;aL++){if(aN[aL].objectIndex==aO.objectIndex){return aL}}return -1},setChildIndex:function(aP,aL){var aN=this,aO=aN.childList,aM,aK=aO.length;if(aP.parent=="root"||aP.parent.objectIndex!=aN.objectIndex||aL<0||aL>=aK){return -1}for(aM=0;aM<aK;aM++){if(aO[aM].objectIndex==aP.objectIndex){break}}aN.childList.splice(aM,1);aN.childList.splice(aL,0,aP);return aL},resize:function(){var aK=this;aK.width=aK.getWidth();aK.height=aK.getHeight()},removeAllChild:function(){var aM=this,aN=aM.childList,aL,aK;for(aL=0,aK=aN.length;aL<aK;aL++){if(ai.destroy&&aN[aL].die){aN[aL].die()}}aM.childList.length=0;aM.width=0;aM.height=0;aM.numChildren=0}};for(var aH in aI){aJ.prototype[aH]=aI[aH]}return aJ})();var au=(function(){function aH(){var aI=this;H(aI,f,[]);aI.type="LLoader"}aH.TYPE_BITMAPDATE="bitmapData";aH.prototype.load=function(aI,aJ){var aK=this;if(!aJ){aJ=aH.TYPE_BITMAPDATE}aK.loadtype=aJ;if(aJ==aH.TYPE_BITMAPDATE){aK.content=new Image();aK.content.onload=function(){aK.content.onload=null;var aL=new A(A.COMPLETE);aL.currentTarget=aK;aL.target=aK.content;aK.dispatchEvent(aL);delete aK.content};aK.content.src=aI}};return aH})();var j=(function(){function aH(){var aI=this;H(aI,f,[]);aI.type="LURLLoader";aI.loadtype="";aI.content=null;aI.event={}}aH.TYPE_TEXT="text";aH.TYPE_JS="js";aH.prototype.load=function(aJ,aK){var aM=this,aN,aL;if(!aK){aL=ae(aJ);if(aL=="txt"){aK=aH.TYPE_TEXT}else{if(aL=="js"){aK=aH.TYPE_JS}}}aM.loadtype=aK;if(aK==aH.TYPE_TEXT){af.get(aJ,{},function(aO){aN=new A(A.COMPLETE);aM.data=aO;aN.currentTarget=aM;aN.target=aO;aM.dispatchEvent(aN);delete aM.content;delete aM.data})}else{if(aK==aH.TYPE_JS){var aI=document.createElement("script");aI.onload=function(){aN=new A(A.COMPLETE);aN.currentTarget=aM;aN.target=aM;aM.dispatchEvent(aN);delete aM.content};aI.src=aJ;aI.type="text/javascript";document.querySelector("head").appendChild(aI)}}};return aH})();var W=(function(){function aI(){var aL=this;H(aL,f,[]);aL.currentTime=0;aL.currentStart=0;aL.currentSave=0;aL.length=0;aL.loopStart=0;aL.loopEnd=0;aL.loopIndex=0;aL.loopLength=1;aL.playing=false;aL.volume=1;aL.soundType="LWebAudio";aL.soundCache=[];a.Container.add(aL)}aI.container=[];aI.containerCount=0;try{aI.audioTag=new Audio()}catch(aK){console.warn("ReferenceError: Can't find variable: Audio");aI.audioTag={canPlayType:function(){return false}}}aI._context=null;var aJ={getWebAudio:function(){var aL;if(aI.containerCount>0){aL=aI.container.shift()}else{if(typeof AudioContext!==ac){try{aL=new AudioContext()}catch(aM){aI.containerCount=aI.container.length;aL=aI.container.shift()}}else{if(typeof webkitAudioContext!==ac){try{aL=new webkitAudioContext()}catch(aM){aI.containerCount=aI.container.length;aL=aI.container.shift()}}else{throw"AudioContext not supported. :("}}}if(!aL.createGainNode){aL.createGainNode=aL.createGain}aI.container.push(aL);return aL},onload:function(aM){var aL=this;if(Object.prototype.toString.apply(aM)!=="[object AudioBuffer]"){aL.load(aM);return}if(!aL.data){aL.data=aL.getWebAudio()}aL.buffer=aM;aL.length=aL.buffer.duration;var aN=new A(A.COMPLETE);aN.currentTarget=aL;aN.target=aL.buffer;aL.dispatchEvent(aN)},_onended:function(){var aL=this;aL.dispatchEvent(A.SOUND_COMPLETE);aL.close();if(++aL.loopIndex<aL.loopLength){aL.play(aL.currentStart,undefined,aL.currentTimeTo)}},load:function(aS){var aT=this;if(typeof aS!=="string"){if(Object.prototype.toString.apply(aS)=="[object AudioBuffer]"){aT.onload(aS)}else{if(Object.prototype.toString.apply(aS)=="[object ArrayBuffer]"){if(!aT.data){aT.data=aT.getWebAudio()}aT.data.decodeAudioData(aS,aT.onload.bind(aT),function(aU){throw"AudioContext decodeAudioData error : "+aU.toString()})}}return}var aR,aQ,aP,aM,aO,aL={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};aR=aS.split(",");for(aM=0;aM<aR.length;aM++){aQ=aR[aM].split(".");aO=aQ[aQ.length-1];if(aL[aO]){aO=aL[aO]}else{aO=[aO]}aP=aO.some(function(aV,aU,aW){return aI.audioTag.canPlayType(aT._type+"/"+aV)});if(aP){af.responseType=af.ARRAY_BUFFER;af.get(aR[aM],{},aT.onload.bind(aT));return}else{console.warn("Not support "+aQ[aQ.length-1]+" : "+aR[aM]);var aN=new A(A.COMPLETE);aN.currentTarget=aN.target=aT;aT.dispatchEvent(aN)}}},getCurrentTime:function(){var aL=this;if(aL.playing){return aL.data.currentTime-aL.currentSave+aL.currentTime}else{return aL.currentSave}},setVolume:function(aL){var aM=this;aM.volume=aL;if(aM.playing){aM.volumeNode.gain.value=aL}},getVolume:function(){return this.volume},play:function(aO,aL,aN){var aM=this;if(aM.length==0){return}if(aL==="loop"){aM.loopIndex=0;aM.loopLength=99999}else{if(typeof aL!==ac){aM.loopIndex=0;aM.loopLength=aL}}if(typeof aO!==ac){aM.currentTime=aO;aM.currentStart=aO}if(typeof aN!==ac){aM.currentTimeTo=aN>aM.length?aM.length:aN}else{aM.currentTimeTo=aM.length}if(aM.playing&&aM.bufferSource){aM.soundCache.push(aM.bufferSource)}aM.data.loop=false;aM.playing=true;if(aM.timeout){clearTimeout(aM.timeout);delete aM.timeout}aM.timeout=setTimeout(aM._onended.bind(aM),(aM.currentTimeTo-aM.currentTime)*1000);aM.bufferSource=aM.data.createBufferSource();aM.bufferSource.buffer=aM.buffer;aM.volumeNode=aM.data.createGainNode();aM.volumeNode.gain.value=aM.volume;aM.volumeNode.connect(aM.data.destination);aM.bufferSource.connect(aM.volumeNode);aM.currentSave=aM.data.currentTime;if(aM.bufferSource.start){aM.bufferSource.start(0,aM.currentTime,aM.length-aM.currentTime)}else{aM.bufferSource.noteGrainOn(0,aM.currentTime,aM.length-aM.currentTime)}},playSegment:function(aN,aM,aL){this.playTo(aN,aN+aM,aL)},playTo:function(aN,aM,aL){this.play(aN,aL,aM)},stopCache:function(){var aM=this;var aN=null;for(var aL=0;aL<aM.soundCache.length;aL++){aN=aM.soundCache[aL];if(aN.stop){aN.stop(0)}else{aN.noteOff(0)}}aM.soundCache=[]},stop:function(){var aL=this;if(!aL.playing){return}if(aL.timeout){clearTimeout(aL.timeout);delete aL.timeout}if(aL.bufferSource.stop){aL.bufferSource.stop(0)}else{aL.bufferSource.noteOff(0)}aL.stopCache();aL.currentSave=aL.getCurrentTime();aL.currentTime=aL.currentSave;aL.playing=false},close:function(){var aL=this;if(!aL.playing){return}if(aL.timeout){clearTimeout(aL.timeout);delete aL.timeout}if(aL.bufferSource.stop){aL.bufferSource.stop(0)}else{aL.bufferSource.noteOff(0)}aL.stopCache();aL.playing=false;aL.currentTime=0;aL.currentSave=0},ll_check:function(){var aL=this;if(!aL.playing){return}if(aL.currentTimeTo<aL.data.currentTime-aL.currentSave+a.Container.time*0.001){aL._onended()}},die:function(){a.Container.remove(this)}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var z=(function(){function aI(){var aK=this;H(aK,T,[]);aK.length=0;aK.loopIndex=0;aK.loopLength=1;aK.playing=false;aK.oncomplete=null;aK.onsoundcomplete=null;aK.currentStart=0;aK.soundType="LMedia";a.Container.add(this)}var aJ={onload:function(){var aK=this;if(aK.data.readyState){aK.length=aK.data.duration-(ai.android?0.1:0);var aL=new A(A.COMPLETE);aL.currentTarget=aK;aL.target=aK.data;aK.dispatchEvent(aL);aK.data.removeEventListener("canplaythrough",aK._canplaythrough,false);return}aK._canplaythrough=function(){aK.onload()};aK.data.addEventListener("canplaythrough",aK._canplaythrough,false)},_onended:function(){var aM=this,aL,aK;aM.dispatchEvent(A.SOUND_COMPLETE);if(++aM.loopIndex<aM.loopLength){aL=aM.loopIndex;aK=aM.loopLength;aM.close();aM.play(aM.currentStart,aM.loopLength,aM.currentTimeTo);aM.loopIndex=aL}else{aM.close()}},load:function(aR){var aS=this;if(Object.prototype.toString.apply(aR)=="[object HTMLAudioElement]"){aS.data=aR;aS.onload();return}var aQ,aP,aO,aL,aN,aK={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};aQ=aR.split(",");for(aL=0;aL<aQ.length;aL++){aP=aQ[aL].split(".");aN=aP[aP.length-1];if(aK[aN]){aN=aK[aN]}else{aN=[aN]}aO=aN.some(function(aU,aT,aV){return aS.data.canPlayType(aS._type+"/"+aU)});if(aO){aS.data.src=aQ[aL];aS.onload();aS.data.load();return}else{console.warn("Not support "+aP[aP.length-1]+" : "+aQ[aL]);var aM=new A(A.COMPLETE);aM.currentTarget=aM.target=aS;aS.dispatchEvent(aM)}}if(aS.oncomplete){aS.oncomplete({})}},getCurrentTime:function(){return this.data.currentTime},setVolume:function(aK){this.data.volume=aK},getVolume:function(){return this.data.volume},play:function(aN,aK,aM){var aL=this;if(typeof aK!=ac){aL.data.loop=aK}aL.data.play()},playSegment:function(aM,aL,aK){this.playTo(aM,aM+aL,aK)},playTo:function(aM,aL,aK){this.play(aM,aK,aL)},stop:function(){var aK=this;aK.data.pause()},close:function(){var aK=this;aK.data.pause();aK.data.currentTime=0;aK.currentSave=0},ll_check:function(){var aK=this;if(!aK.playing){return}if(aK.data.duration!=aK._ll_duration){aK._ll_duration=aK.data.duration;aK.length=aK.data.duration-(ai.android?0.1:0)}if(aK.currentTimeTo<aK.data.currentTime+a.Container.time*0.005){aK._onended()}},die:function(){a.Container.remove(this)}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var a=(function(){function aH(aK){var aL=this;aL.type="LSound";aL._type="audio";if(aH.webAudioEnabled&&ai.webAudio){H(aL,W,[])}else{H(aL,z,[]);try{aL.data=new Audio()}catch(aM){console.warn("ReferenceError: Can't find variable: Audio");aL.data={}}aL.data.loop=false;aL.data.autoplay=false}if(aK){aL.load(aK)}}aH.TYPE_SOUND="sound";aH.webAudioEnabled=false;var aJ=location.protocol;if(aJ=="http:"||aJ=="https:"){if(typeof AudioContext!==ac){try{W._context=new AudioContext()}catch(aI){}}else{if(typeof webkitAudioContext!==ac){try{W._context=new webkitAudioContext()}catch(aI){}}}if(W._context){W.container.push(W._context);aH.webAudioEnabled=true}}aH.Container={ll_save:0,time:0,list:[],ll_show:function(){var aN=aH.Container;var aM=(new Date()).getTime();aN.time=aM-(aN.ll_save?aN.ll_save:aM);aN.ll_save=aM;var aK=aN.list;for(var aL=aK.length-1;aL>=0;aL--){if(aK[aL]){aK[aL].ll_check()}}},add:function(aK){if(aH.Container.list.indexOf(aK)>=0){return}aH.Container.list.push(aK)},remove:function(aM){var aK=aH.Container.list;for(var aL=aK.length-1;aL>=0;aL--){if(aK[aL].objectIndex==aM.objectIndex){aK.splice(aL,1);break}}},stopOther:function(aM){var aK=aH.Container.list;for(var aL=aK.length-1;aL>=0;aL--){if(aK[aL].objectIndex!=aM.objectIndex){aK[aL].stop()}}}};ai.childList.push(aH.Container);return aH})();var y=(function(){function aI(aK){var aL=this;H(aL,z,[]);aL.type="LVideo";aL._type="video";aL.rotatex=0;aL.rotatey=0;aL.data=document.createElement("video");aL.data.style.display="none";document.body.appendChild(aL.data);aL.data.id="video_"+aL.objectIndex;aL.data.loop=false;aL.data.autoplay=false;if(aK){aL.load(aK)}}var aJ={_ll_show:function(aL){var aK=this;aL.drawImage(aK.data,aK.x,aK.y)},die:function(){var aK=this;document.body.removeChild(aK.data);delete aK.data},getWidth:function(){return this.data.width},getHeight:function(){return this.data.height}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var aA=(function(){function aH(aI,aK){var aJ=this;aJ.x=aI;aJ.y=aK}aH.distance=function(aJ,aI){return aH.distance2(aJ.x,aJ.y,aI.x,aI.y)};aH.distance2=function(aK,aM,aJ,aL){var aI=aK-aJ,aN=aM-aL;return Math.sqrt(aI*aI+aN*aN)};aH.interpolate=function(aK,aJ,aI){return new aH(aK.x+(aJ.x-aK.x)*(1-aI),aK.y+(aJ.y-aK.y)*(1-aI))};aH.polar=function(aJ,aI){return new aH(aJ*Math.cos(aI),aJ*Math.sin(aI))};aH.prototype={toString:function(){return"[object LPoint("+this.x+","+this.y+")]"},length:function(){return aH.distance2(this.x,this.y,0,0)},add:function(aI){return new aH(this.x+aI.x,this.y+aI.y)},clone:function(){return new aH(this.x,this.y)},setTo:function(aI,aJ){this.x=aI,this.y=aJ},copyFrom:function(aI){this.setTo(aI.x,aI.y)},equals:function(aI){return this.x==aI.x&&this.y==aI.y},normalize:function(aI){var aJ=this,aK=aI/aJ.length();aJ.x*=aK,aJ.y*=aK},offset:function(aJ,aI){this.x+=aJ;this.y+=aI},subtract:function(aI){return new aH(this.x-aI.x,this.y-aI.y)}};return aH})();var R=(function(){function aH(aI,aM,aJ,aL){var aK=this;aK.x=aI;aK.y=aM;aK.width=aJ;aK.height=aL;aK.setRectangle()}aH.prototype={setRectangle:function(){var aI=this;aI.bottom=aI.y+aI.height;aI.right=aI.x+aI.width;aI.left=aI.x;aI.top=aI.y},clone:function(){var aI=this;return new aH(aI.x,aI.y,aI.width,aI.height)},contains:function(aI,aK){var aJ=this;return aI>=aJ.x&&aI<=aJ.right&&aK>=aJ.y&&aK<=aJ.bottom},containsRect:function(aJ){var aI=this;return aJ.x>=aI.x&&aJ.right<=aI.right&&aJ.y>=aI.y&&aJ.bottom<=aI.bottom},equals:function(aI){var aJ=this;return aI.x==aJ.x&&aI.width==aJ.width&&aI.y==aJ.y&&aI.height==aJ.height},inflate:function(aJ,aI){var aK=this;aK.width+=aJ;aK.height+=aI;aK.setRectangle()},intersection:function(aK){var aL=this;var aJ=aL.x>aK.x?aL.x:aK.x;var aI=aL.y>aK.y?aL.y:aK.y;var aN=aL.right>aK.right?aK.right:aL.right;var aM=aL.bottom>aK.bottom?aK.bottom:aL.bottom;if(aJ<=aN&&aI<=aM){return new aH(aJ,aI,aN,aM)}else{return new aH(0,0,0,0)}},intersects:function(aK){var aL=this;var aJ=aL.x>aK.x?aL.x:aK.x;var aI=aL.y>aK.y?aL.y:aK.y;var aN=aL.right>aK.right?aK.right:aL.right;var aM=aL.bottom>aK.bottom?aK.bottom:aL.bottom;return aJ<=aN&&aI<=aM},isEmpty:function(){var aI=this;return aI.x==0&&aI.y==0&&aI.width==0&&aI.height==0},offset:function(aJ,aI){var aK=this;aK.x+=aJ;aK.y+=aI;aK.setRectangle()},setEmpty:function(){var aI=this;aI.x=0;aI.y=0;aI.width=0;aI.height=0;aI.setRectangle()},setTo:function(aM,aJ,aI,aL){var aK=this;aK.x=aM;aK.y=aJ;aK.width=aI;aK.height=aL;aK.setRectangle()},toString:function(){var aI=this;return"[object LRectangle("+aI.x+","+aI.y+","+aI.width+","+aI.height+")]"},union:function(aI){var aJ=this;return new aH(aJ.x>aI.x?aI.x:aJ.x,aJ.y>aI.y?aI.y:aJ.y,aJ.right>aI.right?aJ.right:aI.right,aJ.bottom>aI.bottom?aJ.bottom:aI.bottom)}};return aH})();var l=(function(){function aI(){var aK=this;H(aK,s,[]);aK.type="LGraphics";aK.color="#000000";aK.alpha=1;aK.bitmap=null;aK.setList=new Array();aK.showList=new Array()}var aJ={ll_show:function(){var aM=this,aL,aK=aM.setList.length;if(aK==0){return}for(aL=0;aL<aK;aL++){aM.setList[aL]();if(ai.fpsStatus){ai.fpsStatus.graphics++}}},clone:function(){var aN=this,aL=new aI(),aM,aK,aO;aL.color=aN.color;aL.alpha=aN.alpha;aL.bitmap=aN.bitmap;for(aM=0,aK=aN.setList.length;aM<aK;aM++){aO=aN.setList[aM];aL.setList.push(aO)}for(aM=0,aK=aN.showList.length;aM<aK;aM++){aO=aN.showList[aM];aL.showList.push(aO)}return aL},lineCap:function(aK){var aL=this;aL.setList.push(function(){ai.canvas.lineCap=aK})},lineJoin:function(aK){var aL=this;aL.setList.push(function(){ai.canvas.lineJoin=aK})},lineWidth:function(aK){var aL=this;aL.setList.push(function(){ai.canvas.lineWidth=aK})},strokeStyle:function(aL){var aK=this;aK.setList.push(function(){ai.canvas.strokeStyle=aL})},stroke:function(){var aK=this;aK.setList.push(function(){ai.canvas.stroke()})},beginPath:function(){var aK=this;aK.setList.push(function(){ai.canvas.beginPath()})},closePath:function(){var aK=this;aK.setList.push(function(){ai.canvas.closePath()})},moveTo:function(aK,aM){var aL=this;aL.setList.push(function(){ai.canvas.moveTo(aK,aM)});aL.showList.push({type:n.POINT,arg:[aK,aM]})},lineTo:function(aK,aM){var aL=this;aL.setList.push(function(){ai.canvas.lineTo(aK,aM)});aL.showList.push({type:n.POINT,arg:[aK,aM]})},rect:function(aK,aO,aL,aN){var aM=this;aM.setList.push(function(){ai.canvas.rect(aK,aO,aL,aN)});aM.showList.push({type:n.RECT,arg:[aK,aO,aL,aN]})},fillStyle:function(aL){var aK=this;aK.setList.push(function(){ai.canvas.fillStyle=aL})},fill:function(){var aK=this;aK.setList.push(function(){ai.canvas.fill()})},arc:function(aL,aQ,aO,aK,aN,aP){var aM=this;aM.setList.push(function(){ai.canvas.arc(aL,aQ,aO,aK,aN,aP)});aM.showList.push({type:n.ARC,arg:aK})},lineStyle:function(aK,aM){var aL=this,aN;if(aM==null){aM=aL.color}aL.color=aM;aL.setList.push(function(){aN=ai.canvas;aN.lineWidth=aK;aN.strokeStyle=aM})},clear:function(){var aK=this;aK.bitmap=null;aK.setList.length=0;aK.showList.length=0},beginBitmapFill:function(aK){var aL=this;aL.setList.push(function(){aL.bitmap=aK})},drawEllipse:function(aK,aO,aN,aL,aP){var aM=this;aM.setList.push(function(){var aX,aZ,aY,a0,aU,aT,aS,aQ,a1,aW,aV,aR;aX=ai.canvas;aX.beginPath();aT=0.5522848;aZ=aN[0];aY=aN[1];a0=aN[2];aU=aN[3];aS=(a0/2)*aT;aQ=(aU/2)*aT;a1=aZ+a0;aW=aY+aU;aV=aZ+a0/2;aR=aY+aU/2;aX.moveTo(aZ,aR);aX.bezierCurveTo(aZ,aR-aQ,aV-aS,aY,aV,aY);aX.bezierCurveTo(aV+aS,aY,a1,aR-aQ,a1,aR);aX.bezierCurveTo(a1,aR+aQ,aV+aS,aW,aV,aW);aX.bezierCurveTo(aV-aS,aW,aZ,aR+aQ,aZ,aR);if(aM.bitmap){aX.save();aX.clip();aX.drawImage(aM.bitmap.image,aM.bitmap.x,aM.bitmap.y,aM.bitmap.width,aM.bitmap.height,0,0,aM.bitmap.width,aM.bitmap.height);aX.restore();aM.bitmap=null;return}if(aL){aX.fillStyle=aP;aX.fill()}if(aK>0){aX.lineWidth=aK;aX.strokeStyle=aO;aX.stroke()}});aM.showList.push({type:n.RECT,arg:aN})},drawArc:function(aK,aO,aN,aL,aQ,aP){var aM=this;aM.setList.push(function(){var aR=ai.canvas;aR.beginPath();if(aN.length>6&&aN[6]&&!aP){aR.moveTo(aN[0],aN[1])}aR.arc(aN[0],aN[1],aN[2],aN[3],aN[4],aN[5]);if(aN.length>6&&aN[6]&&!aP){aR.lineTo(aN[0],aN[1])}if(aM.bitmap){aR.save();aR.clip();aR.drawImage(aM.bitmap.image,aM.bitmap.x,aM.bitmap.y,aM.bitmap.width,aM.bitmap.height,0,0,aM.bitmap.width,aM.bitmap.height);aR.restore();aM.bitmap=null;return}if(aL){aR.fillStyle=aQ;aR.fill()}if(aK>0){aR.lineWidth=aK;aR.strokeStyle=aO;aR.stroke()}});aM.showList.push({type:n.ARC,arg:aN})},drawRect:function(aK,aO,aN,aL,aP){var aM=this;aM.setList.push(function(){var aQ=ai.canvas;aQ.beginPath();aQ.rect(aN[0],aN[1],aN[2],aN[3]);aQ.closePath();if(aM.bitmap){aQ.save();aQ.clip();aQ.drawImage(aM.bitmap.image,aM.bitmap.x,aM.bitmap.y,aM.bitmap.width,aM.bitmap.height,0,0,aM.bitmap.width,aM.bitmap.height);aQ.restore();aM.bitmap=null;return}if(aL){aQ.fillStyle=aP;aQ.fill()}if(aK>0){aQ.lineWidth=aK;aQ.strokeStyle=aO;aQ.stroke()}});aM.showList.push({type:n.RECT,arg:aN})},drawRoundRect:function(aK,aO,aN,aL,aP){var aM=this;aM.setList.push(function(){var aQ=ai.canvas;aQ.beginPath();aQ.moveTo(aN[0]+aN[4],aN[1]);aQ.lineTo(aN[0]+aN[2]-aN[4],aN[1]);aQ.arcTo(aN[0]+aN[2],aN[1],aN[0]+aN[2],aN[1]+aN[4],aN[4]);aQ.lineTo(aN[0]+aN[2],aN[1]+aN[3]-aN[4]);aQ.arcTo(aN[0]+aN[2],aN[1]+aN[3],aN[0]+aN[2]-aN[4],aN[1]+aN[3],aN[4]);aQ.lineTo(aN[0]+aN[4],aN[1]+aN[3]);aQ.arcTo(aN[0],aN[1]+aN[3],aN[0],aN[1]+aN[3]-aN[4],aN[4]);aQ.lineTo(aN[0],aN[1]+aN[4]);aQ.arcTo(aN[0],aN[1],aN[0]+aN[4],aN[1],aN[4]);aQ.closePath();if(aM.bitmap){aQ.save();aQ.clip();aQ.drawImage(aM.bitmap.image,0,0,aM.bitmap.width,aM.bitmap.height,0,0,aM.bitmap.width,aM.bitmap.height);aQ.restore();aM.bitmap=null;return}if(aL){aQ.fillStyle=aP;aQ.fill()}if(aK>0){aQ.lineWidth=aK;aQ.strokeStyle=aO;aQ.stroke()}});aM.showList.push({type:n.RECT,arg:aN})},drawVertices:function(aK,aO,aL,aM,aP){var aN=this;if(aL.length<3){return}aN.setList.push(function(){var aT=ai.canvas;aT.beginPath();aT.moveTo(aL[0][0],aL[0][1]);var aR,aQ=aL.length,aS;for(aR=1;aR<aQ;aR++){aS=aL[aR];aT.lineTo(aS[0],aS[1])}aT.lineTo(aL[0][0],aL[0][1]);aT.closePath();if(aN.bitmap){aT.save();aT.clip();aT.drawImage(aN.bitmap.image,aN.bitmap.x,aN.bitmap.y,aN.bitmap.width,aN.bitmap.height,0,0,aN.bitmap.width,aN.bitmap.height);aT.restore();aN.bitmap=null;return}if(aM){aT.fillStyle=aP;aT.fill()}if(aK>0){aT.lineWidth=aK;aT.strokeStyle=aO;aT.closePath();aT.stroke()}});aN.showList.push({type:n.VERTICES,arg:aL})},drawTriangles:function(aP,aK,aS,aR,aL){var aT=this;var aO,aN,aM=aK.length,aQ;aT.setList.push(function(){aQ=ai.canvas;var a3=aP,a0,aU,a2;for(aO=0,aN=0;aO<aM;aO+=3){a0=0;aQ.save();aQ.beginPath();aQ.moveTo(a3[aK[aO]*2],a3[aK[aO]*2+1]);aQ.lineTo(a3[aK[aO+1]*2],a3[aK[aO+1]*2+1]);aQ.lineTo(a3[aK[aO+2]*2],a3[aK[aO+2]*2+1]);aQ.lineTo(a3[aK[aO]*2],a3[aK[aO]*2+1]);aQ.closePath();if(aR){aQ.lineWidth=aR;aQ.strokeStyle=aL;aQ.stroke()}aQ.clip();if(aO%6==0){a2=-1;var a1=(aS[aK[aO+1+aN]*2]-aS[aK[aO+aN]*2])*aT.bitmap.width;var aX=(aS[aK[aO+2]*2+1]-aS[aK[aO]*2+1])*aT.bitmap.height;if(aN==0&&a1<0){for(aU=aO+9;aU<aM;aU+=3){if(aS[aK[aO+2]*2+1]==aS[aK[aU+2]*2+1]){aN=aU-aO;break}}if(aN==0){aN=aM-aO}a1=(aS[aK[aO+1+aN]*2]-aS[aK[aO+aN]*2])*aT.bitmap.width}if(aO+aN>=aM){a1=(aS[aK[aO+aN-aM]*2]-aS[aK[aO+1]*2])*aT.bitmap.width;a2=aS[aK[aO]*2]==1?0:aT.bitmap.width*aS[aK[aO]*2]+a1;if(a2>aT.bitmap.width){a2-=aT.bitmap.width}}else{a2=aT.bitmap.width*aS[aK[aO+aN]*2]}sh=aT.bitmap.height*aS[aK[aO]*2+1];if(aX<0){aX=(aS[aK[aO+2-(aO>0?6:-6)]*2+1]-aS[aK[aO-(aO>0?6:-6)]*2+1])*aT.bitmap.height;sh=0}var aZ=(a3[aK[aO+1]*2]-a3[aK[aO]*2])/a1;var aY=(a3[aK[aO+1]*2+1]-a3[aK[aO]*2+1])/a1;var aW=(a3[aK[aO+2]*2]-a3[aK[aO]*2])/aX;var aV=(a3[aK[aO+2]*2+1]-a3[aK[aO]*2+1])/aX;aQ.transform(aZ,aY,aW,aV,a3[aK[aO]*2],a3[aK[aO]*2+1]);aQ.drawImage(aT.bitmap.image,aT.bitmap.x+a2,aT.bitmap.y+sh,a1,aX,0,0,a1,aX)}else{var a1=(aS[aK[aO+2+aN]*2]-aS[aK[aO+1+aN]*2])*aT.bitmap.width;var aX=(aS[aK[aO+2]*2+1]-aS[aK[aO]*2+1])*aT.bitmap.height;if(aN==0&&a1<0){for(aU=aO+9;aU<aM;aU+=3){if(aS[aK[aO+2]*2+1]==aS[aK[aU+2]*2+1]){aN=aU-aO;break}}if(aN==0){aN=aM-aO}a1=(aS[aK[aO+2+aN]*2]-aS[aK[aO+1+aN]*2])*aT.bitmap.width}if(aO+1+aN>=aM){a1=(aS[aK[aO+1+aN-aM]*2]-aS[aK[aO+2]*2])*aT.bitmap.width;a2=aS[aK[aO+1]*2]==1?0:aT.bitmap.width*aS[aK[aO+1]*2]+a1;if(a2>aT.bitmap.width){a2-=aT.bitmap.width}}else{a2=aT.bitmap.width*aS[aK[aO+1+aN]*2]}sh=aT.bitmap.height*aS[aK[aO]*2+1];if(aX<0){aX=(aS[aK[aO+2-(aO>0?6:-6)]*2+1]-aS[aK[aO-(aO>0?6:-6)]*2+1])*aT.bitmap.height;sh=0}var aZ=(a3[aK[aO+2]*2]-a3[aK[aO+1]*2])/a1;var aY=(a3[aK[aO+2]*2+1]-a3[aK[aO+1]*2+1])/a1;var aW=(a3[aK[aO+2]*2]-a3[aK[aO]*2])/aX;var aV=(a3[aK[aO+2]*2+1]-a3[aK[aO]*2+1])/aX;aQ.transform(aZ,aY,aW,aV,a3[aK[aO+1]*2],a3[aK[aO+1]*2+1]);aQ.drawImage(aT.bitmap.image,aT.bitmap.x+a2,aT.bitmap.y+sh,a1,aX,0,-aX,a1,aX)}aQ.restore()}})},drawLine:function(aK,aN,aM){var aL=this;aL.setList.push(function(){var aO=ai.canvas;aO.beginPath();aO.moveTo(aM[0],aM[1]);aO.lineTo(aM[2],aM[3]);aO.lineWidth=aK;aO.strokeStyle=aN;aO.closePath();aO.stroke()});aL.showList.push({type:n.LINE,arg:aM})},add:function(aK){this.setList.push(aK)},remove:function(aL){for(var aK=0,aM=this.setList.length;aK<aM;aK++){if(this.setList[aK]===aL){this.setList.splice(aK,1);return}}},ismouseon:function(aL,aM){var aK=this;if(aL==null||aL==ac||aK.showList.length==0||!aK.parent){return false}return aK.parent.ismouseonShapes(aK.showList,aL.offsetX,aL.offsetY)},getWidth:function(){var aQ=this,aO,aR,aP,aK,aN,aM,aL;for(aO=0,aM=aQ.showList.length;aO<aM;aO++){if(aQ.showList[aO].type==n.RECT){if(aP>aQ.showList[aO].arg[0]||typeof aP==ac){aP=aQ.showList[aO].arg[0]}if(aK<aQ.showList[aO].arg[0]+aQ.showList[aO].arg[2]||typeof aK==ac){aK=aQ.showList[aO].arg[0]+aQ.showList[aO].arg[2]}}else{if(aQ.showList[aO].type==n.ARC){if(aP>aQ.showList[aO].arg[0]-aQ.showList[aO].arg[2]||typeof aP==ac){aP=aQ.showList[aO].arg[0]-aQ.showList[aO].arg[2]}if(aK<aQ.showList[aO].arg[0]+aQ.showList[aO].arg[2]||typeof aK==ac){aK=aQ.showList[aO].arg[0]+aQ.showList[aO].arg[2]}}else{if(aQ.showList[aO].type==n.VERTICES){for(aR=0,aL=aQ.showList[aO].arg.length;aR<aL;aR++){aN=aQ.showList[aO].arg[aR];if(aP>aN[0]||typeof aP==ac){aP=aN[0]}if(aK<aN[0]||typeof aK==ac){aK=aN[0]}}}else{if(aQ.showList[aO].type==n.LINE){if(aP>aQ.showList[aO].arg[0]||typeof aP==ac){aP=aQ.showList[aO].arg[0]}if(aP>aQ.showList[aO].arg[2]||typeof aP==ac){aP=aQ.showList[aO].arg[2]}if(aK<aQ.showList[aO].arg[0]||typeof aK==ac){aK=aQ.showList[aO].arg[0]}if(aK<aQ.showList[aO].arg[2]||typeof aK==ac){aK=aQ.showList[aO].arg[2]}}else{if(aQ.showList[aO].type==n.POINT){if(aP>aQ.showList[aO].arg[0]||typeof aP==ac){aP=aQ.showList[aO].arg[0]}if(aK<aQ.showList[aO].arg[0]||typeof aK==ac){aK=aQ.showList[aO].arg[0]}}}}}}}if(typeof aP==ac){aP=aK=0}aQ.left=aP;if(aM>0&&aK==aP){aK=aP+1}return aK-aP},getHeight:function(){var aQ=this,aO=null,aR=null,aM,aL,aP,aK,aN;for(aO=0,aM=aQ.showList.length;aO<aM;aO++){if(aQ.showList[aO].type==n.RECT){if(aP>aQ.showList[aO].arg[1]||typeof aP==ac){aP=aQ.showList[aO].arg[1]}if(aK<aQ.showList[aO].arg[1]+aQ.showList[aO].arg[3]||typeof aK==ac){aK=aQ.showList[aO].arg[1]+aQ.showList[aO].arg[3]}}else{if(aQ.showList[aO].type==n.ARC){if(aP>aQ.showList[aO].arg[1]-aQ.showList[aO].arg[2]||typeof aP==ac){aP=aQ.showList[aO].arg[1]-aQ.showList[aO].arg[2]}if(aK<aQ.showList[aO].arg[1]+aQ.showList[aO].arg[2]||typeof aK==ac){aK=aQ.showList[aO].arg[1]+aQ.showList[aO].arg[2]}}else{if(aQ.showList[aO].type==n.VERTICES){for(aR=0,aL=aQ.showList[aO].arg.length;aR<aL;aR++){aN=aQ.showList[aO].arg[aR];if(aP>aN[1]||typeof aP==ac){aP=aN[1]}if(aK<aN[1]||typeof aK==ac){aK=aN[1]}}}else{if(aQ.showList[aO].type==n.LINE){if(aP>aQ.showList[aO].arg[1]||typeof aP==ac){aP=aQ.showList[aO].arg[1]}if(aP>aQ.showList[aO].arg[3]||typeof aP==ac){aP=aQ.showList[aO].arg[3]}if(aK<aQ.showList[aO].arg[1]||typeof aK==ac){aK=aQ.showList[aO].arg[1]}if(aK<aQ.showList[aO].arg[3]||typeof aK==ac){aK=aQ.showList[aO].arg[3]}}else{if(aQ.showList[aO].type==n.POINT){if(aP>aQ.showList[aO].arg[1]||typeof aP==ac){aP=aQ.showList[aO].arg[1]}if(aK<aQ.showList[aO].arg[1]||typeof aK==ac){aK=aQ.showList[aO].arg[1]}}}}}}}if(typeof aP==ac){aP=aK=0}aQ.top=aP;if(aM>0&&aK==aP){aK=aP+1}return aK-aP},startX:function(){var aK=this;aK.getWidth();return aK.left},startY:function(){var aK=this;aK.getHeight();return aK.top}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var n=(function(){function aH(){var aK=this;H(aK,h,[]);aK.type="LShape";aK.graphics=new l();aK.graphics.parent=aK}aH.POINT="point";aH.LINE="line";aH.ARC="arc";aH.RECT="rect";aH.VERTICES="vertices";var aJ={_ll_show:function(aL){var aK=this;aK.graphics.ll_show()},getWidth:function(aM){var aL=this,aO,aP,aN=aL.graphics.startX(),aK=aN+aL.graphics.getWidth();if(aM&&aL.mask){aO=aL.mask._startX?aL.mask._startX():aL.mask.startX();aP=aL.mask.getWidth();if(aN<aO){aN=aO}if(aK>aO+aP){aK=aO+aP}}aL.ll_left=aL.x+aN;aL.ll_right=aL.x+aK;return(aK-aN)*aL.scaleX},getHeight:function(aN){var aM=this,aP,aL,aO=aM.graphics.startY(),aK=aO+aM.graphics.getHeight();if(aN&&aM.mask){aP=aM.mask._startY?aM.mask._startY():aM.mask.startY();aL=aM.mask.getHeight();if(aO<aP){aO=aP}if(aK>aP+aL){aK=aP+aL}}aM.ll_top=aM.y+aO;aM.ll_bottom=aM.y+aK;return(aK-aO)*aM.scaleY},_startX:function(){var aK=this;aK.getWidth();return aK.ll_left},startX:function(){var aK=this;return aK._startX()*aK.scaleX},_startY:function(){var aK=this;aK.getHeight();return aK.ll_top},startY:function(){var aK=this;return aK._startY()*aK.scaleY},clone:function(){var aL=this,aK=new aH(),aN,aM;aK.copyProperty(aL);aK.graphics=aL.graphics.clone();aK.graphics.parent=aK;return aK},ismouseon:function(aM,aO){var aL=this,aK=false,aN;if(!aL.visible||aM==null){return false}if(aL.mask){if(!aL.mask.parent){aL.mask.parent=aL.parent}if(!aL.mask.ismouseon(aM,aO)){return false}}aN={x:aL.x*aO.scaleX+aO.x,y:aL.y*aO.scaleY+aO.y,scaleX:aO.scaleX*aL.scaleX,scaleY:aO.scaleY*aL.scaleY};if(aL.graphics){aK=aL.graphics.ismouseon(aM,aN)}return aK},die:function(){var aK=this;aK.graphics.clear()}};for(var aI in aJ){aH.prototype[aI]=aJ[aI]}return aH})();var ab=(function(){function aJ(aK){var aL=this;H(aL,ak,[]);aL.type="LSprite";aL.rotatex;aL.rotatey;aL.graphics=new l();aL.underGraphics=false;aL.graphics.parent=aL;aL.box2dBody=null;aL.shapes=new Array();aL.dragRange=null;aL.useCursor=null;if(aK){ar(aL)}}var aI={setRotate:function(aL){var aK=this;if(aK.box2dBody){aK.box2dBody.SetAngle(aL)}else{aK.rotate=aL}},_rotateReady:function(){var aK=this;if(aK.box2dBody){if((typeof aK.rotatex)==ac){aK.getRotateXY()}aK.x=aK.box2dBody.GetPosition().x*ai.box2d.drawScale-aK.parent.x-aK.rotatex;aK.y=aK.box2dBody.GetPosition().y*ai.box2d.drawScale-aK.parent.y-aK.rotatey;aK.rotate=aK.box2dBody.GetAngle()}},_ll_show:function(aL){var aK=this;if(aK.underGraphics){ai.show(aK.childList);aK.graphics.ll_show()}else{aK.graphics.ll_show();ai.show(aK.childList)}aK._ll_debugShape()},startDrag:function(aL){var aK=this;if(aK.ll_dragStart){return}aK.ll_touchPointID=aL;aK.ll_dragGlobalPoint=aK.parent.localToGlobal(new aA(aK.x,aK.y));aK.ll_dragMX=aj;aK.ll_dragMY=ah;aK.ll_dragStart=true;ai.dragList.push(aK)},stopDrag:function(){var aM=this,aL,aK;for(aL=0,aK=ai.dragList.length;aL<aK;aL++){if(aM.objectIndex==ai.dragList[aL].objectIndex){aM.ll_dragStart=false;ai.dragList.splice(aL,1);break}}},getRotateXY:function(aK,aM){var aL=this;if(!aK||!aM){aK=aL.getWidth();aM=aL.getHeight()}aL.rotatex=aK/2;aL.rotatey=aM/2},getWidth:function(aO){var aU=this,aN,aM,aK,aQ,aP,aS,aT,aL=aU.graphics.startX(),aR=aL+aU.graphics.getWidth();for(aN=0,aM=aU.childList.length;aN<aM;aN++){aK=aU.childList[aN];if(typeof aK.visible==ac||!aK.visible){continue}aQ=aK.x;if(typeof aK._startX=="function"){aQ=aK._startX()}aP=aQ+aK.getWidth(aO);if(aQ<aL){aL=aQ}if(aP>aR){aR=aP}}if(aO&&aU.mask){aS=aU.mask._startX?aU.mask._startX():aU.mask.startX();aT=aU.mask.getWidth();if(aL<aS){aL=aS}if(aR>aS+aT){aR=aS+aT}}aU.ll_left=aU.x+aL;aU.ll_right=aU.x+aR;return(aR-aL)*aU.scaleX},getHeight:function(aO){var aU=this,aN,aM,aL,aS,aR,aT,aP,aQ=aU.graphics.startY(),aK=aQ+aU.graphics.getHeight();for(aN=0,aM=aU.childList.length;aN<aM;aN++){aL=aU.childList[aN];if(typeof aL.visible==ac||!aL.visible){continue}aS=aL.y;if(typeof aL._startY=="function"){aS=aL._startY()}aR=aS+aL.getHeight(aO);if(aS<aQ){aQ=aS}if(aR>aK){aK=aR}}if(aO&&aU.mask){aT=aU.mask._startY?aU.mask._startY():aU.mask.startY();aP=aU.mask.getHeight();if(aQ<aT){aQ=aT}if(aK>aT+aP){aK=aT+aP}}aU.ll_top=aU.y+aQ;aU.ll_bottom=aU.y+aK;return(aK-aQ)*aU.scaleY},_startX:function(){var aK=this;aK.getWidth();return aK.ll_left},startX:function(){var aK=this;return aK._startX()*aK.scaleX},_startY:function(){var aK=this;aK.getHeight();return aK.ll_top},startY:function(){var aK=this;return aK._startY()*aK.scaleY},_ll_loopframe:function(){this.dispatchEvent(A.ENTER_FRAME)},clone:function(){var aN=this,aL=new aJ(),aP,aO,aM,aK;aL.copyProperty(aN);aL.graphics=aN.graphics.clone();aL.graphics.parent=aL;aL.childList.length=0;for(aM=0,aK=aN.childList.length;aM<aK;aM++){aP=aN.childList[aM];if(aP.clone){aO=aP.clone();aO.parent=aL;aL.childList.push(aO)}}return aL},_mevent:function(aM){var aL=this,aK;for(aK=0;aK<aL.mouseList.length;aK++){var aN=aL.mouseList[aK];if(aN.type==aM){return true}}return false},ll_dispatchMouseEvent:function(aN,aO,aQ,aL,aK){var aM=this;if(!aM.mouseEnabled){return}for(aH=0;aH<aM.mouseList.length;aH++){var aP=aM.mouseList[aH];if(aP.type==aN){aO.selfX=(aL-(aM.x*aQ.scaleX+aQ.x))/(aQ.scaleX*aM.scaleX);aO.selfY=(aK-(aM.y*aQ.scaleY+aQ.y))/(aQ.scaleY*aM.scaleY);aO.currentTarget=aO.clickTarget=aM;if(!aO.target){aO.target=aM}aP.listener(aO,aM)}}},ll_mouseout:function(aP,aO,aQ,aM,aK){var aN=this;if(aO==g.MOUSE_MOVE&&aN.ll_mousein){aN.ll_mousein=false;if(aN._mevent(g.MOUSE_OUT)){aN.ll_dispatchMouseEvent(g.MOUSE_OUT,aP,aQ,aM,aK)}if(aN.mouseChildren){for(var aL=aN.childList.length-1;aL>=0;aL--){if(aN.childList[aL].mouseEvent&&aN.childList[aL].ll_mouseout){aN.childList[aL].ll_mouseout(aP,aO,aQ,aM,aK)}}}}},mouseEvent:function(aQ,aR,aM){if(!aQ){return false}var aT=this,aO,aN,aL=aQ.offsetX,aK=aQ.offsetY,aP,aS;if(!aT.visible){return false}if(aM==null){aM={x:0,y:0,scaleX:1,scaleY:1}}aP=aT.ismouseon(aQ,aM);if(aP){if(ai.os==aE&&aT.useCursor&&aR==g.MOUSE_MOVE){ai.cursor=aT.useCursor}if(aR==g.MOUSE_MOVE&&!aT.ll_mousein){aT.ll_mousein=true;if(aT._mevent(g.MOUSE_OVER)){aT.ll_dispatchMouseEvent(g.MOUSE_OVER,aQ,aM,aL,aK)}}if(aT.mouseChildren){aS={x:aT.x*aM.scaleX+aM.x,y:aT.y*aM.scaleY+aM.y,scaleX:aM.scaleX*aT.scaleX,scaleY:aM.scaleY*aT.scaleY};for(aN=aT.childList.length-1;aN>=0;aN--){if(aT.childList[aN].mouseEvent){aO=aT.childList[aN].mouseEvent(aQ,aR,aS);if(aO){aQ.target=aT.childList[aN];if(aR!=g.MOUSE_MOVE){break}}}}if(aT._mevent(aR)){aT.ll_dispatchMouseEvent(aR,aQ,aM,aL,aK)}}return true}else{aT.ll_mouseout(aQ,aR,aM,aL,aK)}return false},hitTestPoint:function(aK,aN){var aM=this,aL=aM.shapes;if(!aL||aL.length==0){aM.getWidth();aM.getHeight();aL=[{type:n.RECT,arg:[aM.ll_left-aM.x,aM.ll_top-aM.y,aM.ll_right-aM.ll_left,aM.ll_bottom-aM.ll_top]}]}return aM.ismouseonShapes(aL,aK,aN)},hitTestObject:function(aP){var aV=this,aK=aV.shapes,aN=aP.shapes,aM,aT,aO,aL,aU,aQ,aS,aR;if(!aK||aK.length==0){aV.getWidth();aV.getHeight();aK=[{type:n.RECT,arg:[aV.ll_left-aV.x,aV.ll_top-aV.y,aV.ll_right-aV.ll_left,aV.ll_bottom-aV.ll_top]}]}if(!aN||aN.length==0){aP.getWidth();aP.getHeight();aN=[{type:n.RECT,arg:[aP.ll_left-aP.x,aP.ll_top-aP.y,aP.ll_right-aP.ll_left,aP.ll_bottom-aP.ll_top]}]}aM=aV.getRootMatrix();aT=aP.getRootMatrix();for(aO=aK.length-1;aO>=0;aO--){aL=aK[aO];aR=aV._changeShape(aL.type,aL.arg,aM);for(aU=aN.length-1;aU>=0;aU--){aQ=aN[aU];aS=aP._changeShape(aQ.type,aQ.arg,aT);if(aL.type==n.VERTICES||aL.type==n.RECT){if(aQ.type==n.VERTICES||aQ.type==n.RECT){if(ai.hitTestPolygon(aR,aS)){return true}}else{if(aQ.type==n.ARC){if(ai.hitTestPolygonArc(aR,aS)){return true}}}}else{if(aQ.type==n.VERTICES||aQ.type==n.RECT){if(ai.hitTestPolygonArc(aS,aR)){return true}}else{if(aQ.type==n.ARC){if(Math.sqrt((aR[0]-aS[0])*(aR[0]-aS[0])+(aR[1]-aS[1])*(aR[1]-aS[1]))<aR[2]+aS[2]){return true}}}}}}return false},addShape:function(aM,aK){var aL=this;if(aM==n.VERTICES&&aK.length<3){return}aL.shapes.push({type:aM,arg:aK});return aL.shapes},addShapes:function(aK){var aL=this;if(aL.shapes.length==0){aL.shapes=aK}else{aL.shapes=aL.shapes.concat(aK)}},clearShape:function(){this.shapes=[]},_ll_debugShape:function(){var aO=this,aN,aL,aR,aQ,aK,aM,aP;if(!ai.traceDebug||aO.shapes.length==0){return}for(aN=0,aL=aO.shapes.length;aN<aL;aN++){aR=aO.shapes[aN];aQ=ai.canvas;aK=aR.arg;aQ.beginPath();if(aR.type==n.RECT){aQ.rect(aK[0],aK[1],aK[2],aK[3])}else{if(aR.type==n.ARC){aQ.arc(aK[0],aK[1],aK[2],0,2*Math.PI)}else{if(aR.type==n.VERTICES){aQ.moveTo(aK[0][0],aK[0][1]);for(aM=1,aP=aK.length;aM<aP;aM++){aQ.lineTo(aK[aM][0],aK[aM][1])}aQ.lineTo(aK[0][0],aK[0][1])}}}aQ.closePath();aQ.strokeStyle="#00FF00";aQ.stroke()}},ismouseon:function(aO,aQ){var aN=this;if(!aN.visible||aO==null){return false}if(aN.mask){if(!aN.mask.parent){aN.mask.parent=aN.parent}if(!aN.mask.ismouseon(aO,aQ)){return false}}if(aN.shapes&&aN.shapes.length>0){return aN.ismouseonShapes(aN.shapes,aO.offsetX,aO.offsetY)}var aL,aM=false,aK=aN.childList,aP={x:aN.x*aQ.scaleX+aQ.x,y:aN.y*aQ.scaleY+aQ.y,scaleX:aQ.scaleX*aN.scaleX,scaleY:aQ.scaleY*aN.scaleY};for(aL=aK.length-1;aL>=0;aL--){if(aK[aL].ismouseon){aM=aK[aL].ismouseon(aO,aP)}if(aM){aO.target=aN.childList[aL];break}}if(!aM){aM=aN.graphics.ismouseon(aO,aP)}return aM},die:function(){var aM=this,aL,aN,aK;aM.graphics.clear();aM.removeAllEventListener();aM.stopDrag();if(aM.box2dBody){aM.clearBody()}for(aL=0,aN=aM.childList,aK=aN.length;aL<aK;aL++){if(aN[aL].die){aN[aL].die()}}}};for(var aH in aI){aJ.prototype[aH]=aI[aH]}return aJ})();var Q=(function(){function aJ(aL,aK,aO,aM){var aN=this;H(aN,ab,[]);aN.type="LButton";aN.addChild(aL);if(!aK){aK=aL}else{aN.addChild(aK)}if(!aO){aO=aK}else{aN.addChild(aO)}if(!aM){aM=aL}else{aN.addChild(aM)}aN.upState=aN.bitmap_up=aL;aN.overState=aN.bitmap_over=aK;aN.downState=aO;aN.disableState=aM;aN._ll_down_sx=aN.downState.scaleX;aN._ll_down_sy=aN.downState.scaleY;aN.overState.visible=false;aN.downState.visible=false;aN.upState.visible=true;aN.buttonMode=true;aN.staticMode=false;aN.setState(aJ.STATE_ENABLE);if(at.container[g.MOUSE_MOVE]){at.pushButton(aN)}aN.addEventListener(g.MOUSE_DOWN,aN.ll_modeDown);aN.setCursorEnabled(true)}aJ.STATE_DISABLE="disable";aJ.STATE_ENABLE="enable";var aI={setState:function(aL){var aK=this;if(aL==aJ.STATE_DISABLE){aK.upState.visible=false;aK.overState.visible=false;aK.downState.visible=false;aK.disableState.visible=true;aK.mouseEnabled=false}else{if(aL==aJ.STATE_ENABLE){aK.overState.visible=false;aK.downState.visible=false;aK.disableState.visible=false;aK.upState.visible=true;aK.mouseEnabled=true}else{return}}aK.state=aL},ll_mouseout:function(aO,aN,aP,aL,aK){var aM=this;if(!aM.ll_mousein){return}aO.clickTarget=aM;aM.ll_modeOut(aO);aM.ll_mousein=false},mouseEvent:function(aM,aL,aN){if(!aM){return false}var aK=this;if(aL==g.MOUSE_MOVE&&aK.ll_button_mode){aK.ll_button_mode(aM)}return this.callParent("mouseEvent",arguments)},ll_button_mode:function(aL){var aK=this;if(!aK.visible){return}aL.clickTarget=aK;if(aK.hitTestPoint(aL.offsetX,aL.offsetY)){aK.ll_modeOver(aL)}else{aK.ll_modeOut(aL)}},ll_modeDown:function(aQ){var aU=aQ.clickTarget,aT,aO,aP,aK,aS,aR,aN,aM,aL;if(!aU.buttonMode||aU.tween){return}if(aU.state==aJ.STATE_DISABLE){aU.upState.visible=false;aU.overState.visible=false;aU.downState.visible=false;aU.disableState.visible=true;return}aU.upState.visible=false;aU.overState.visible=false;aU.downState.visible=true;aU._tweenOver=aU.ll_modeOver;aL=function(aW){var aV=aW.parent;delete aV.tween;aV._tweenOver({clickTarget:aV});delete aV._tweenOver};if(aU.staticMode){aU.tween=ax.to(aU.downState,0.3,{}).to(aU.downState,0.1,{onComplete:aL})}else{aT=aU.downState.getWidth();aO=aU.downState.getHeight();aP=aT*1.1;aK=aO*1.1;aS=aU.downState.x;aR=aU.downState.y;aN=aS+(aT-aP)*0.5;aM=aR+(aO-aK)*0.5;aU.tween=ax.to(aU.downState,0.3,{x:aN,y:aM,scaleX:aU._ll_down_sx*1.1,scaleY:aU._ll_down_sy*1.1,ease:Quart.easeOut}).to(aU.downState,0.1,{x:aS,y:aR,scaleX:aU._ll_down_sx,scaleY:aU._ll_down_sy,ease:Quart.easeOut,onComplete:aL})}},ll_modeOver:function(aL){var aK=aL.clickTarget;if(!aK.buttonMode){return}if(aK.tween){aK._tweenOver=aK.ll_modeOver;return}if(aK.state==aJ.STATE_DISABLE){aK.upState.visible=false;aK.overState.visible=false;aK.downState.visible=false;aK.disableState.visible=true;return}aK.upState.visible=false;aK.downState.visible=false;aK.overState.visible=true},ll_modeOut:function(aL){var aK=aL.clickTarget;if(!aK.buttonMode){return}if(aK.tween){aK._tweenOver=aK.ll_modeOut;return}if(aK.state==aJ.STATE_DISABLE){aK.upState.visible=false;aK.overState.visible=false;aK.downState.visible=false;aK.disableState.visible=true;return}aK.overState.visible=false;aK.downState.visible=false;aK.upState.visible=true},setCursorEnabled:function(aK){this.useCursor=aK?"pointer":null},clone:function(){var aK=this;return new aJ(aK.upState.clone(),aK.overState.clone(),aK.downState.clone(),aK.disableState.clone())},die:function(){var aK=this;if(at.container[g.MOUSE_MOVE]){at.removeButton(aK)}aK.callParent("die",arguments)}};for(var aH in aI){aJ.prototype[aH]=aI[aH]}return aJ})();function X(){throw"LBlendMode cannot be instantiated"}X.SOURCE_OVER="source-over";X.SOURCE_ATOP="source-atop";X.SOURCE_IN="source-in";X.SOURCE_OUT="source-out";X.DESTINATION_OVER="destination-over";X.DESTINATION_ATOP="destination-atop";X.DESTINATION_IN="destination-in";X.DESTINATION_OUT="destination-out";X.LIGHTER="lighter";X.COPY="copy";X.XOR="xor";X.NONE=null;X.NORMAL=null;var Y=function(){throw"LTextFieldType cannot be instantiated"};Y.INPUT="input";Y.DYNAMIC=null;LStyleSheet=(function(){function aH(){var aI=this;H(aI,s,[]);aI.styleIndex=0;aI.styleNames={}}aH.prototype.clone=function(){var aJ=this,aI=new aJ.constructor();aI.copyProperty(aJ);return aI};aH.prototype.setStyle=function(aM,aJ){this.styleIndex++;if(aJ===null){if(this.styleNames[aM]){delete this.styleNames[aM]}return}var aI=aJ.replace(/(^\{)|(\}$)/g,"").split(";"),aL,aK;aJ={};for(aL=0;aL<aI.length;aL++){if(!aI[aL]){continue}var aK=aI[aL].split(":");if(!aK[0]){continue}aJ[aK[0]]=aK[1]}this.styleNames[aM]=aJ};aH.prototype.getStyle=function(aI){return this.styleNames[aI]};return aH})();LTextFormat=(function(){function aH(aK,aM,aJ,aL,aI,aO){var aN=this;H(aN,s,[]);aN.font=aK?aK:"Arial";aN.size=aM?aM:15;aN.color=aJ?aJ:"#000000";aN.bold=aL?aL:false;aN.italic=aI?aI:false;aN.underline=aO?aO:false}aH.prototype.clone=function(){var aJ=this,aI=new aJ.constructor();aI.copyProperty(aJ);return aI};aH.prototype.getFontText=function(){var aI=this;return(aI.italic?"italic ":"")+(aI.bold?"bold ":"")+aI.size+"px "+aI.font};aH.prototype.setCss=function(aJ){var aK=this,aI;for(aI in aJ){switch(aI){case"color":aK.color=aJ[aI];break;case"font-family":aK.font=aJ[aI];break;case"font-size":aK.size=aJ[aI];break;case"font-style":aK.italic=(aJ[aI]=="italic");break;case"font-weight":aK.bold=(aJ[aI]=="bold");break;case"text-decoration":aK.color=(aJ[aI]=="underline");break}}};return aH})();var an=(function(){function aJ(){var aK=this;H(aK,h,[]);aK.type="LTextField";aK.texttype=null;aK.text="";aK.htmlText="";aK.styleSheet="";aK.font="Arial";aK.size=15;aK.color="#000000";aK.weight="normal";aK.textAlign="left";aK.textBaseline="top";aK.heightMode=aJ.HEIGHT_MODE_BOTTOM;aK.stroke=false;aK.lineWidth=1;aK.lineColor="#000000";aK.width=150;aK.height=aK.size;aK.displayAsPassword=false;aK.wordWrap=false;aK.multiline=false;aK.numLines=1;aK.speed=0;aK._speedIndex=100}aJ.HEIGHT_MODE_BOTTOM="bottom";aJ.HEIGHT_MODE_BASELINE="baseline";var aI={_showReady:function(aL){var aK=this;aL.font=aK.weight+" "+aK.size+"px "+aK.font;aL.textAlign=aK.textAlign;aL.textBaseline=aK.textBaseline},ll_getStyleSheet:function(aR,aP,aL,aS){var aT=this,aQ,aM=aR.clone();if(aP=="font"){var aN=0;while(aL){if(aN++>4){break}aQ=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g;var aO=aQ.exec(aL);if(!aO||!aO[0]){break}switch(aO[2]){case"face":aM.font=aO[6];break;case"color":aM.color=aO[6];break;case"size":aM.size=aO[6];break}aL=aL.replace(aO[0],"").replace(/(^\s*)|(\s*$)|(\n)/g,"")}}else{if(aP=="b"){aM.bold=true}else{if(aP=="u"){aM.underline=true}else{if(aP=="i"){aM.italic=true}else{if(aP=="p"&&aT.wordWrap){aS="\n"+aS+"\n"}else{if(aT.styleSheet){var aK;if(aP=="span"){aQ=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g;var aO=aQ.exec(aL);if(aO&&aO[0]){switch(aO[2]){case"class":aK=aT.styleSheet.getStyle("."+aO[6]);break}}}else{if(aT.styleSheet.getStyle(aP)){aK=aT.styleSheet.getStyle(aP)}}if(aK){aM.setCss(aK)}}}}}}}aT.ll_getHtmlText(aM,aS)},ll_getHtmlText:function(aL,aR){if(!aR){return}var aS=this,aP,aO,aK,aM,aQ=/<(.*?)(\s*)(.*?)>(.*?)<\/\1>/g,aN=aQ.exec(aR);if(!aN||!aN[0]){aS.ll_htmlTexts.push({textFormat:aL.clone(),text:aR});return}if(aN.index>0){aS.ll_htmlTexts.push({textFormat:aL.clone(),text:aR.substring(0,aN.index)})}aP=aN[1];aK=aN.index;aM=aK;do{aM=aR.indexOf("</"+aP,aM+1);aK=aR.indexOf("<"+aP,aK+1)}while(aK>0&&aK<aM);aO=aR.substring(aR.indexOf(">",aN.index)+1,aM);aS.ll_getStyleSheet(aL,aP,aN[3],aO);aS.ll_getHtmlText(aL,aR.substring(aM+aP.length+3))},_ll_show:function(aV){var aY=this,aT,aW,aQ,aK,aP,aN,aO,aM,aX,aR,aS,aL,aU;if(aY.texttype==Y.INPUT){aY.inputBackLayer.ll_show();aK=aY.getRootCoordinate();if(ai.inputBox.name=="input"+aY.objectIndex){ai.inputBox.style.marginTop=(parseInt(ai.canvasObj.style.marginTop)+(((aK.y+aY.inputBackLayer.startY())*parseInt(ai.canvasObj.style.height)/ai.canvasObj.height)>>>0))+"px";ai.inputBox.style.marginLeft=(parseInt(ai.canvasObj.style.marginLeft)+(((aK.x+aY.inputBackLayer.startX())*parseInt(ai.canvasObj.style.width)/ai.canvasObj.width)>>>0))+"px"}if(ai.inputTextField&&ai.inputTextField.objectIndex==aY.objectIndex){return}}if(ai.fpsStatus){ai.fpsStatus.text++}aV.fillStyle=aY.color;if(aY.stroke){aV.strokeStyle=aY.lineColor;aV.lineWidth=aY.lineWidth+1}if(aY.htmlText){if(aY.ll_htmlText!=aY.htmlText||(aY.styleSheet&&(aY.ll_style_objectIndex!=aY.styleSheet.objectIndex||aY.ll_styleIndex==aY.styleSheet.styleIndex))){aL=new LTextFormat();aY.ll_htmlTexts=[];aY.ll_htmlText=aY.htmlText;if(aY.styleSheet){aY.ll_style_objectIndex=aY.styleSheet.objectIndex;aY.ll_styleIndex=aY.styleSheet.styleIndex}aY.ll_getHtmlText(aL,aY.htmlText)}aP=0,aO=0,aM=0,aX=0;aY._wordHeight=aY.wordHeight||30;if(!aJ.underlineY){aJ.underlineY={alphabetic:0,top:1,bottom:-0.2,middle:0.4,hanging:0.8}}aY.ll_htmlTexts.forEach(function(aZ){var a0=aZ.textFormat,a1=aZ.text;aV.font=a0.getFontText();aV.fillStyle=a0.color;for(aQ=0,aN=a1.length;aQ<aN;aQ++){aS=/(?:\r\n|\r|\n|¥n)/.exec(a1.substr(aQ,1));if(aS){aP=0;aO=aQ+1;aM++}else{aR=aV.measureText("O").width*1.2;if(aY.stroke){aV.strokeText(a1.substr(aQ,1),aP,aM*aY._wordHeight)}aV.fillText(a1.substr(aQ,1),aP,aM*aY._wordHeight);if(a0.underline){aV.beginPath();aU=aM*aY._wordHeight+aR*aJ.underlineY[aY.textBaseline];aV.moveTo(aP,aU);aV.lineTo(aP+aV.measureText(a1.substr(aQ,1)).width,aU);aV.stroke()}}aP+=aV.measureText(a1.substr(aQ,1)).width;if(aY.wordWrap&&aP+aV.measureText(a1.substr(aQ+1,1)).width>aY.width){aP=0;aO=aQ+1;aM++}}aY.height=(aM+1)*aY._wordHeight});return}aW=aY.text;if(aY.displayAsPassword){aW="";for(aQ=0,aN=aY.text.length;aQ<aN;aQ++){aW+="*"}}if(aY.wordWrap||aY.multiline){aP=0,aO=0,aM=0,aX=0;for(aQ=0,aN=aY.text.length;aQ<aN;aQ++){aS=/(?:\r\n|\r|\n|¥n)/.exec(aW.substr(aQ,1));if(aS){aP=0;aO=aQ+1;aM++}else{if(aY.stroke){aV.strokeText(aW.substr(aQ,1),aP,aM*aY.wordHeight)}aV.fillText(aW.substr(aQ,1),aP,aM*aY.wordHeight)}aY.numLines=aM;aP=aV.measureText(aY.text.substr(aO,aQ+1-aO)).width;if(aY.wordWrap&&aP+aV.measureText(aW.substr(aQ,1)).width>aY.width){aP=0;aO=aQ+1;aM++}}aY.height=(aM+1)*aY.wordHeight}else{aY.numLines=1;if(aY.stroke){aV.strokeText(aW,0,0,aV.measureText(aW).width)}aV.fillText(aW,0,0,aV.measureText(aW).width)}if(aY.windRunning){aY._ll_windRun()}},_wordHeight:function(aL){var aK=this;if(aL>0){aK.wordHeight=aL}else{aK.wordWrap=false;aK.wordHeight=aK.getHeight()}aK.height=0},setMultiline:function(aK,aM){var aL=this;if(aK){aL._wordHeight(aM)}aL.multiline=aK},setWordWrap:function(aK,aM){var aL=this;if(aK){aL._wordHeight(aM)}aL.wordWrap=aK},setType:function(aM,aK){var aL=this;if(aL.texttype!=aM&&aM==Y.INPUT){if(aK==null||aK.type!="LSprite"){aL.inputBackLayer=new ab();aL.inputBackLayer.graphics.drawRect(1,"#000000",[0,-aL.getHeight()*0.4,aL.width,aL.getHeight()*1.5])}else{aL.inputBackLayer=aK}aL.inputBackLayer.parent=aL;if(at.container[g.MOUSE_DOWN]){at.pushInputBox(aL)}}else{aL.inputBackLayer=null;at.removeInputBox(aL)}aL.texttype=aM},ismouseon:function(aM,aL){var aK=this;if(!aM){return false}if(!aK.visible){return false}if(!aL){aL={x:0,y:0,scaleX:1,scaleY:1}}if(aK.mask){if(!aK.mask.parent){aK.mask.parent=aK.parent}if(!aK.mask.ismouseon(aM,aL)){return false}}if(aK.inputBackLayer){return aK.inputBackLayer.ismouseon(aM,{x:aK.x*aL.scaleX+aL.x,y:aK.y*aL.scaleY+aL.y,scaleX:aL.scaleX*aK.scaleX,scaleY:aL.scaleY*aK.scaleY})}return aK.ismouseonShapes([{type:n.RECT,arg:[0,0,aK._getWidth(),aK._getHeight()]}],aM.offsetX,aM.offsetY)},clone:function(){var aL=this,aK=new aL.constructor();aK.copyProperty(aL);aK.texttype=null;if(aL.texttype==Y.INPUT){aK.setType(Y.INPUT)}return aK},mouseEvent:function(aN,aM,aO){var aL=this,aK;if(aL.inputBackLayer==null||aM!=g.MOUSE_DOWN){return}aK=aL.ismouseon(aN,aO);if(!aK){return}aL.focus()},_ll_getValue:function(){if(ai.inputBox.style.display!=V){ai.inputTextField.text=ai.inputTextBox.value;A.removeEventListener(ai.inputTextBox,E.KEY_DOWN,ai.inputTextField._ll_input);ai.inputBox.style.display=V;ai.inputTextField.dispatchEvent(aw.FOCUS_OUT);ai.inputTextField=null}},updateInput:function(){var aK=this;if(aK.texttype==Y.INPUT&&ai.inputTextField.objectIndex==aK.objectIndex){ai.inputTextBox.value=ai.inputTextField.text}},_ll_input:function(aL){var aK=new A(ay.TEXT_INPUT);aK.keyCode=aL.keyCode;ai.inputTextField.text=ai.inputTextBox.value;if(ai.inputTextField.hasEventListener(ay.TEXT_INPUT)){aL.returnValue=ai.inputTextField.dispatchEvent(aK)}else{aL.returnValue=true}},focus:function(){var aK=this,aL,aM;if(!aK.parent){return}if(aK.texttype!=Y.INPUT){return}if(ai.inputTextField&&ai.inputTextField.objectIndex!=aK.objectIndex){aK._ll_getValue()}aK.dispatchEvent(aw.FOCUS_IN);aL=aK.getAbsoluteScale();ai.inputBox.style.display="";ai.inputBox.name="input"+aK.objectIndex;ai.inputTextField=aK;ai.inputTextareaBoxObj.style.display=V;ai.inputTextBoxObj.style.display=V;ai.passwordBoxObj.style.display=V;if(aK.displayAsPassword){ai.inputTextBox=ai.passwordBoxObj}else{if(aK.multiline){ai.inputTextBox=ai.inputTextareaBoxObj}else{ai.inputTextBox=ai.inputTextBoxObj}}aM=parseInt(ai.canvasObj.style.width)/ai.canvasObj.width;sy=parseInt(ai.canvasObj.style.height)/ai.canvasObj.height;ai.inputTextBox.style.display="";ai.inputTextBox.value=aK.text;ai.inputTextBox.style.height=aK.inputBackLayer.getHeight()*aL.scaleY*aK.scaleY*sy+"px";ai.inputTextBox.style.width=aK.inputBackLayer.getWidth()*aL.scaleX*aK.scaleX*aM+"px";ai.inputTextBox.style.color=aK.color;ai.inputTextBox.style.fontSize=((aK.size*parseFloat(ai.canvasObj.style.height)/ai.canvasObj.height)>>0)+"px";ai.inputTextBox.style.fontFamily=aK.font;A.addEventListener(ai.inputTextBox,E.KEY_DOWN,ai.inputTextField._ll_input);if(aK.texttype==Y.INPUT){rc=aK.getRootCoordinate();if(ai.inputBox.name=="input"+aK.objectIndex){ai.inputBox.style.marginTop=(parseInt(ai.canvasObj.style.marginTop)+(((rc.y+aK.inputBackLayer.startY())*parseInt(ai.canvasObj.style.height)/ai.canvasObj.height)>>>0))+"px";ai.inputBox.style.marginLeft=(parseInt(ai.canvasObj.style.marginLeft)+(((rc.x+aK.inputBackLayer.startX())*parseInt(ai.canvasObj.style.width)/ai.canvasObj.width)>>>0))+"px"}}setTimeout(function(){ai.inputTextBox.focus()},0)},_getWidth:function(){var aK=this;if(aK.wordWrap){return aK.width}ai.canvas.font=aK.size+"px "+aK.font;return ai.canvas.measureText(aK.text).width},getWidth:function(aM){var aL=this,aK,aN,aO;aK=aL._getWidth()*aL.scaleX;if(aM&&aL.mask){aN=aL.mask._startX?aL.mask._startX():aL.mask.startX();if(aN>aK){return 0}aO=aL.mask.getWidth();if(aN+aO>aK){return aK-aN}else{return aO}}return aK},_getHeight:function(){var aP=this,aR=ai.canvas,aO,aL,aN,aM,aK,aQ;if(aP.wordWrap){aR.font=aP.weight+" "+aP.size+"px "+aP.font;if(aP.height==0){aN=0,aM=0,aK=0;for(aO=0,aL=aP.text.length;aO<aL;aO++){aN=aR.measureText(aP.text.substr(aM,aO-aM)).width;aQ=/(?:\r\n|\r|\n|¥n)/.exec(aP.text.substr(aO,1));if((aP.wordWrap&&aN>aP.width)||aQ){aN=0;aM=aO;aK++;if(aQ){aM++}}}aP.height=(aK+1)*aP.wordHeight}return aP.height}aR.font=aP.weight+" "+aP.size+"px "+aP.font;aL=aR.measureText("O").width*1.2;if(aP.heightMode==aJ.HEIGHT_MODE_BASELINE){aL=aL*1.2}return aL},getHeight:function(aN){var aM=this,aL,aO,aK;aL=aM._getHeight()*aM.scaleY;if(aN&&aM.mask){aO=aM.mask._startY?aM.mask._startY():aM.mask.startY();if(aO>aL){return 0}aK=aM.mask.getHeight();if(aO+aK>aL){return aL-aO}else{return aK}}return aL},wind:function(aL){var aK=this;aK.wind_over_function=aL;aK.windRunning=true;aK._ll_wind_text=aK.text;aK.text="";aK._ll_wind_length=0},_ll_windRun:function(){var aK=this;if(aK._speedIndex++<aK.speed){return}aK._speedIndex=0;if(aK._ll_wind_length>aK._ll_wind_text.length){aK.windRunning=false;if(aK.wind_over_function){aK.wind_over_function()}aK.dispatchEvent(new A(ay.WIND_COMPLETE));return}aK.text=aK._ll_wind_text.substring(0,aK._ll_wind_length);aK._ll_wind_length++},die:function(){at.removeInputBox(this)}};for(var aH in aI){aJ.prototype[aH]=aI[aH]}return aJ})();var r=(function(){function aH(aP,aK,aO,aL,aN){var aM=this;H(aM,T,[]);aM.type="LBitmap";aM.rotateCenter=true;if(aP.type&&aP.type==="LBitmapData"){aM.bitmapData=aP}else{aM.bitmapData=new t(aP)}aM.width=aL||aM.bitmapData.width;aM.height=aN||aM.bitmapData.height;aM.x=aK||0;aM.y=aO||0}var aJ={_canShow:function(){return(this.visible&&this.bitmapData)},_rotateReady:function(){var aK=this;if(aK.rotate!=0&&aK.rotateCenter){aK.rotatex=aK.getWidth()*0.5;aK.rotatey=aK.getHeight()*0.5}else{aK.rotatex=aK.rotatey=0}},_coordinate:function(aK){},_ll_show:function(){this.ll_draw()},ll_draw:function(){var aK=this;if(ai.fpsStatus){ai.fpsStatus.bitmapData++}ai.canvas.drawImage(aK.bitmapData.image,aK.bitmapData.x,aK.bitmapData.y,aK.bitmapData.width,aK.bitmapData.height,aK.x,aK.y,aK.width,aK.height)},clone:function(){var aL=this,aK=new aH(aL.bitmapData.clone(),aL.x,aL.y,aL.width,aL.height);aK.copyProperty(aL);aK.rotateCenter=aL.rotateCenter;return aK},ismouseon:function(aM,aL){var aK=this;if(!aM){return false}if(!aK.visible||!aK.bitmapData){return false}if(aK.mask){if(!aK.mask.parent){aK.mask.parent=aK.parent}if(!aK.mask.ismouseon(aM,aL)){return false}}return aK.ismouseonShapes([{type:n.RECT,arg:[0,0,aK.width,aK.height]}],aM.offsetX,aM.offsetY)},getWidth:function(aM){var aL=this,aK,aN,aO;aK=aL.width||(aL.bitmapData!=null?aL.bitmapData.width*(aL.scaleX>0?aL.scaleX:-aL.scaleX):0);if(aM&&aL.mask){aN=aL.mask._startX?aL.mask._startX():aL.mask.startX();if(aN>aK){return 0}aO=aL.mask.getWidth();if(aN+aO>aK){return aK-aN}else{return aO}}aL.ll_left=aL.x;aL.ll_right=aL.x+aK;return aK},getHeight:function(aN){var aM=this,aL,aO,aK;aL=aM.height||(aM.bitmapData!=null?aM.bitmapData.height*(aM.scaleY>0?aM.scaleY:-aM.scaleY):0);if(aN&&aM.mask){aO=aM.mask._startY?aM.mask._startY():aM.mask.startY();if(aO>aL){return 0}aK=aM.mask.getHeight();if(aO+aK>aL){return aL-aO}else{return aK}}aM.ll_top=aM.y;aM.ll_bottom=aM.y+aL;return aL},startX:function(){return this.x},startY:function(){return this.y},die:function(){}};for(var aI in aJ){aH.prototype[aI]=aJ[aI]}return aH})();var t=(function(){function aI(aL,aQ,aO,aK,aR,aP){var aS=this;H(aS,s,[]);aS.type="LBitmapData";if(typeof aP==ac){aP=aI.DATA_IMAGE}aS.oncomplete=null;aS._locked=false;aS._setPixel=false;aS.x=(aQ==null?0:aQ);aS.y=(aO==null?0:aO);aS.width=0;aS.height=0;aS.dataType=null;if(aL&&typeof aL=="object"){aS.image=aL;aS.dataType=aI.DATA_IMAGE;aS.width=(aK==null?aS.image.width:aK);aS.height=(aR==null?aS.image.height:aR);aS._setDataType(aP)}else{aS._createCanvas();aS.dataType=aI.DATA_CANVAS;aS._canvas.width=aS.width=(aK==null?1:aK);aS._canvas.height=aS.height=(aR==null?1:aR);if(typeof aL=="string"){aL=parseInt(aL.replace("#","0x"))}if(typeof aL=="number"){var aN=aS._context.createImageData(aS.width,aS.height);for(var aM=0;aM<aN.data.length;aM+=4){aN.data[aM+0]=aL>>16&255;aN.data[aM+1]=aL>>8&255;aN.data[aM+2]=aL&255;aN.data[aM+3]=255}aS._context.putImageData(aN,0,0)}aS.image=aS._canvas;if(aP==aI.DATA_IMAGE){aS._setDataType(aP)}}aS.resize()}aI.DATA_IMAGE="data_image";aI.DATA_CANVAS="data_canvas";var aJ={_setDataType:function(aK){var aL=this;if(aL.dataType==aK){return}if(aK==aI.DATA_CANVAS){aL._createCanvas();aL._canvas.width=aL.image.width;aL._canvas.height=aL.image.height;aL._context.clearRect(0,0,aL._canvas.width,aL._canvas.height);aL._context.drawImage(aL.image,0,0);aL.image=aL._canvas}else{if(aK==aI.DATA_IMAGE){aL.image=new Image();aL.image.width=aL._canvas.width;aL.image.height=aL._canvas.height;aL.image.src=aL._canvas.toDataURL()}}aL.dataType=aK},_createCanvas:function(){var aK=this;if(!aK._canvas){aK._canvas=document.createElement("canvas");aK._context=aK._canvas.getContext("2d")}},clear:function(){var aK=this;aK._createCanvas();aK._canvas.width=aK.image.width;if(aK.dataType==aI.DATA_IMAGE){aK.image.src=aK._canvas.toDataURL()}},setProperties:function(aL,aO,aN,aK){var aM=this;aM.x=aL;aM.y=aO;aM.width=aN;aM.height=aK;aM.resize()},setCoordinate:function(aK,aM){var aL=this;aL.x=aK;aL.y=aM;aL.resize()},clone:function(){var aK=this;return new aI(aK.image,aK.x,aK.y,aK.width,aK.height,aK.dataType)},_ready:function(){var aK=this;aK._dataType=aK.dataType;aK._setDataType(aI.DATA_CANVAS);aK._data=aK._context.getImageData(aK.x,aK.y,aK.width,aK.height)},_update:function(){var aK=this;aK._context.putImageData(aK._data,aK.x,aK.y,0,0,aK.width,aK.height);aK._setDataType(aK._dataType);aK._data=null},applyFilter:function(aQ,aN,aK,aM){var aL=this;var aO=aL._context.getImageData(aL.x+aN.x,aL.y+aN.y,aN.width,aN.height);var aP=aM.filter(aO,aN.width);aL.putPixels(new R(aK.x,aK.y,aN.width,aN.height),aP)},getPixel:function(aK,aP,aL){var aN=this,aM,aO;aK=aK>>0;aP=aP>>0;if(!aN._locked){aN._ready()}aM=aN.width*4*aP+aK*4;aO=aN._data.data;if(!aN._locked){aN._update()}if(aL=="number"){return aO[aM]<<16|aO[aM+1]<<8|aO[aM+2]}else{return[aO[aM],aO[aM+1],aO[aM+2],aO[aM+3]]}},setPixel:function(aK,aP,aN){var aM=this;aK=aK>>0;aP=aP>>0;if(!aM._locked){aM._ready()}var aO=aM._data,aL=aM.width*4*aP+aK*4;if(typeof aN=="object"){aO.data[aL+0]=aN[0];aO.data[aL+1]=aN[1];aO.data[aL+2]=aN[2];aO.data[aL+3]=aN[3]}else{if(typeof aN=="string"){aN=parseInt(aN.replace("#","0x"))}aO.data[aL+0]=aN>>16&255;aO.data[aL+1]=aN>>8&255;aO.data[aL+2]=aN&255;aO.data[aL+3]=255}if(!aM._locked){aM._update()}},getPixels:function(aM){var aK=this,aL;if(!aK._locked){aK._ready()}aL=aK._context.getImageData(aK.x+aM.x,aK.y+aM.y,aM.width,aM.height);if(!aK._locked){aK._update()}return aL},setPixels:function(aQ,aL){var aT=this,aM,aK,aN,aS,aO,aR,aP;if(!aT._locked){aT._ready()}aN=aT._data;if(typeof aL=="object"){aS=aT._canvas.width;for(aR=aQ.x;aR<aQ.right;aR++){for(aP=aQ.y;aP<aQ.bottom;aP++){aM=aS*4*(aT.y+aP)+(aT.x+aR)*4;aK=aL.width*4*(aP-aQ.y)+(aR-aQ.x)*4;aN.data[aM+0]=aL.data[aK+0];aN.data[aM+1]=aL.data[aK+1];aN.data[aM+2]=aL.data[aK+2];aN.data[aM+3]=aL.data[aK+3]}}}else{if(typeof aL=="string"){aL=parseInt(aL.replace("#","0x"))}aL=[aL>>16&255,aL>>8&255,aL&255];aS=aT._canvas.width;for(aR=aQ.x;aR<aQ.right;aR++){for(aP=aQ.y;aP<aQ.bottom;aP++){aM=aS*4*(aT.y+aP)+(aT.x+aR)*4;aN.data[aM+0]=aL[0];aN.data[aM+1]=aL[1];aN.data[aM+2]=aL[2];aN.data[aM+3]=255}}}if(!aT._locked){aT._update()}},putPixels:function(aL,aM){var aK=this;if(aK.dataType!=aI.DATA_CANVAS||typeof aM!="object"){return}aK._context.putImageData(aM,aK.x+aL.x,aK.y+aL.y,0,0,aL.width,aL.height)},lock:function(){var aK=this;aK._locked=true;aK._ready()},unlock:function(){var aK=this;aK._locked=false;aK._update()},draw:function(aK,aU,aL,aS,aM){var aX=this,aQ,aO=aK,aT,aR,aV,aN,aP=false;var aW=aX.dataType;aX._setDataType(aI.DATA_CANVAS);if(aU||aL||aS||aM){aX._context.save();aP=true}if(aM){if(!(aO instanceof aI)){aT=aR=0}else{aT=aO.x;aR=aO.y}aO=new aI(aO.getDataCanvas(),aT+aM.x,aR+aM.y,aM.width,aM.height,aI.DATA_CANVAS)}aV=aO.getWidth()>>>0;aN=aO.getHeight()>>>0;if(aV==0||aN==0){aX._setDataType(aW);return}aQ=aO.getDataCanvas();if(aL){aO.colorTransform(new R(0,0,aV,aN),aL);aQ=aO.image}if(aU){aX._context.setTransform(aU.a,aU.b,aU.c,aU.d,aU.tx,aU.ty)}if(aS){aX._context.globalCompositeOperation=aS}aX._context.drawImage(aQ,aO.x,aO.y,aV,aN,0,0,aV,aN);if(aP){aX._context.restore()}aX._setDataType(aW);aX.resize()},getDataCanvas:function(){var aL=this;var aK=aL.dataType;aL._setDataType(aI.DATA_CANVAS);aL._setDataType(aK);return aL._canvas},getWidth:function(){return this.width},getHeight:function(){return this.height},resize:function(){var aM=this,aK=aM.image.width-aM.x,aL=aM.image.height-aM.y;aM.width=aM.width<aK?aM.width:aK;aM.height=aM.height<aL?aM.height:aL},colorTransform:function(aU,aM){var aY=this;if(aY.dataType!=aI.DATA_CANVAS){return}var aW=aU.x>>0,aT=aU.y>>0,aX=aU.width>>0,aQ=aU.height>>0;var aP=aY._context.getImageData(aY.x+aU.x,aY.y+aU.y,aU.width,aU.height);var aO=aP.data;for(var aN=0,aL=aO.length;aN<aL;aN+=4){var aK=aN,aR=aN+1,aS=aN+2,aV=aN+3;aO[aK]=aO[aK]*aM.redMultiplier+aM.redOffset;aO[aR]=aO[aR]*aM.greenMultiplier+aM.greenOffset;aO[aS]=aO[aS]*aM.blueMultiplier+aM.blueOffset;aO[aV]=aO[aV]*aM.alphaMultiplier+aM.alphaOffset}aY._context.putImageData(aP,aY.x+aU.x,aY.y+aU.y,0,0,aU.width,aU.height)},copyPixels:function(aM,aQ,aO){var aS=this,aL,aP,aK,aR,aN=aM;if(aS.dataType!=aI.DATA_CANVAS){return}aL=aN.x;aP=aN.y;aK=aN.width;aR=aN.height;aN.setProperties(aQ.x+aN.x,aQ.y+aN.y,aQ.width,aQ.height);aS._context.drawImage(aN.image,aN.x,aN.y,aN.width,aN.height,aO.x,aO.y,aN.width,aN.height);aN.x=aL;aN.y=aP;aN.width=aK;aN.height=aR}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var ao=(function(){function aH(){var aI=this;H(aI,s,[]);aI.type="LBitmapFilter"}aH.prototype.ll_show=function(aL){var aI=this;if(aI.cacheMaking){return}var aM=ai.canvas,aK=aL,aJ;if(aK.constructor.name=="LBitmap"){aJ=aK.bitmapData}else{if(!aK._ll_cacheAsBitmap){aI.cacheMaking=true;aK.cacheAsBitmap(true);aI.cacheMaking=false}aJ=aK._ll_cacheAsBitmap.bitmapData}if(aI.bitmapDataIndex===aJ.objectIndex){return}aI.bitmapDataIndex=aJ.objectIndex;aJ.applyFilter(aJ,new R(0,0,aJ.width,aJ.height),new aA(0,0),aI)};return aH})();var am=(function(){function aJ(aO,aN,aK,aM){var aL=this;H(aL,ao,[]);aL.type="LDropShadowFilter";aL.distance=aO?aO:0;aL.angle=aN?aN:0;aL.shadowColor=aK?aK:"#000000";aL.shadowBlur=aM?aM:20;aL.setShadowOffset()}var aI={setShadowOffset:function(){var aL=this;var aK=aL.angle*Math.PI/180;aL.shadowOffsetX=aL.distance*Math.cos(aK);aL.shadowOffsetY=aL.distance*Math.sin(aK)},ll_show:function(){var aK=this,aL=ai.canvas;aL.shadowColor=aK.shadowColor;aL.shadowBlur=aK.shadowBlur;aL.shadowOffsetX=aK.shadowOffsetX;aL.shadowOffsetY=aK.shadowOffsetY},setDistance:function(aK){this.distance=aK;this.setShadowOffset()},setAngle:function(aK){this.angle=aK;this.setShadowOffset()},setColor:function(aK){this.shadowColor=aK},setBlur:function(aK){this.shadowBlur=aK}};for(var aH in aI){aJ.prototype[aH]=aI[aH]}return aJ})();var ap=(function(){function aJ(aK){var aL=this;H(aL,ao,[]);aL.type="LColorMatrixFilter";aL.matrix=aK}var aI={filter:function(aK,aS){var aT=this,aO=ai.canvas;var aP=aK.data;var aN=aO.createImageData(aK);var aR=aN.data;var aM=aR.length;var aQ=aT.matrix;for(var aL=0;aL<aM;aL+=4){aR[aL]=(aQ[0]*aP[aL])+(aQ[1]*aP[aL+1])+(aQ[2]*aP[aL+2])+(aQ[3]*aP[aL+3])+aQ[4];aR[aL+1]=(aQ[5]*aP[aL])+(aQ[6]*aP[aL+1])+(aQ[7]*aP[aL+2])+(aQ[8]*aP[aL+3])+aQ[9];aR[aL+2]=(aQ[10]*aP[aL])+(aQ[11]*aP[aL+1])+(aQ[12]*aP[aL+2])+(aQ[13]*aP[aL+3])+aQ[14];aR[aL+3]=(aQ[15]*aP[aL])+(aQ[16]*aP[aL+1])+(aQ[17]*aP[aL+2])+(aQ[18]*aP[aL+3])+aQ[19]}return aN}};for(var aH in aI){aJ.prototype[aH]=aI[aH]}return aJ})();var b=(function(){function aI(aO,aL,aS,aK,aQ,aR,aP,aN,aM){var aT=this;H(aT,ao,[]);aT.type="LConvolutionFilter";aT.matrixX=aO?aO:0;aT.matrixY=aL?aL:0;aT.matrix=aS;if(!aK){aK=aS.reduce(function(aV,aU){return aV+aU})||1}aT.divisor=aK;aT.bias=aQ?aQ:0}var aJ={filter:function(aK,aT){var aU=this,aQ=ai.canvas;var aR=aK.data;var aP=aQ.createImageData(aK);var aS=aP.data;var aO=aS.length;for(var aN=0;aN<aO;aN++){if((aN+1)%4===0){aS[aN]=aR[aN];continue}res=0;var aL=[aR[aN-aT*4-4]||aR[aN],aR[aN-aT*4]||aR[aN],aR[aN-aT*4+4]||aR[aN],aR[aN-4]||aR[aN],aR[aN],aR[aN+4]||aR[aN],aR[aN+aT*4-4]||aR[aN],aR[aN+aT*4]||aR[aN],aR[aN+aT*4+4]||aR[aN]];for(var aM=0;aM<9;aM++){res+=aL[aM]*aU.matrix[aM]}res/=aU.divisor;if(aU.bias){res+=aU.bias}aS[aN]=res}return aP}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var k=(function(){function aI(aL,aO,aK,aN,aQ,aP,aR,aM){var aS=this;H(aS,ab,[]);aS.type="LAnimation";aS.index=0;aS.frameInc=0;aS.loop=aN||"loop";aS.fps=aK||60/1000;if(Array.isArray(aL)){aS.bitmapList=aL}else{aS.bitmapList=[aL]}aS.bitmap=new r(aS.bitmapList[0],aQ,aP,aR,aM);aS.imageArray=aO;aS.addChild(aS.bitmap);aS.index=0;aS.addEventListener(A.ENTER_FRAME,aS.onframe.bind(aS))}var aJ={change:function(aL,aO,aK,aN,aQ,aP,aR,aM){var aS=this;if(aL){if(Array.isArray(aL)){aS.bitmapList=aL}else{aS.bitmapList=[aL]}aS.bitmap.bitmapData=aS.bitmapList[0]}aQ&&(aS.bitmap.x=aQ);aP&&(aS.bitmap.y=aP);aR&&(aS.bitmap.width=aR);aM&&(aS.bitmap.height=aM);aO&&(aS.imageArray=aO);aK&&(aS.fps=aK);aN&&(aS.loop=aN);aS.index=0;aS.frameInc=0},onframe:function(){var aM=this,aK,aO=0,aN=aM.imageArray;if(aM._ll_stop){return}if(aM.loop==="none"){return}if(aM.bitmapList.length===1&&(!aN||!Array.isArray(aN)||aN.length<=1)){return}if(aM.index>=aN.length){aM.index=0}aM.frameInc+=aM.fps*ai.delta;var aL=Math.floor(aM.frameInc);aM.index=aL%aN.length;if(aM.bitmapList.length>1&&aM.index<aM.bitmapList.length){aM.bitmap.bitmapData=aM.bitmapList[aM.index]}if(aN&&Array.isArray(aN)){aK=aN[aM.index];if(typeof aK.dataIndex=="number"&&Array.isArray(aM.bitmapList)&&aK.dataIndex<aM.bitmapList.length){aM.bitmap.bitmapData=aM.bitmapList[aK.dataIndex]}if(typeof aK.width!=ac&&typeof aK.height!=ac){aM.bitmap.bitmapData.setProperties(aK.x,aK.y,aK.width,aK.height)}else{aM.bitmap.bitmapData.setCoordinate(aK.x,aK.y)}if(typeof aK.sx!=ac){aO=aK.sx}if(typeof aK.sy!=ac){aM.bitmap.y=aK.sy}if(typeof aK.mirror!=ac){aM.bitmap.rotateCenter=false;aM.bitmap.scaleX=aK.mirror?-1:1}aM.bitmap.x=aO+(aM.bitmap.scaleX==1?0:aM.bitmap.getWidth())}if(aM.index===aN.length-1){aM.dispatchEvent(A.COMPLETE);if(typeof aM.loop==="number"){aM.loop--;if(aM.loop<=0){aM.remove();aM.die()}}}},play:function(){this._ll_stop=false},stop:function(){this._ll_stop=true},clone:function(){var aL=this,aK=new aL.constructor(null,aL.bitmapList,aL.imageArray.slice(0));aK.copyProperty(aL);aK.childList.length=0;aK.bitmap=aL.bitmap.clone();aK.addChild(aK.bitmap);return aK}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var aC=(function(){function aH(){this.llname="ll.file.";this.llload="ll.load."}aH.prototype={load:function(aI,aJ,aL){var aK=this;if(!aI||aI.length==0){aL([]);return}aK.list=aI,aK.onupdate=aJ,aK.oncomplete=aL;aK.loader=aK,aK.index=0,aK.loadIndex=0,aK.result=[],aK.lresult=[];aK.loadInit()},loadInit:function(){var aI=this;if(aI.index>=aI.list.length){return}aI.loadIndex=0;aI.loadStart();aI.reloadtime=setTimeout(aI.loadInit.bind(aI),10000)},loadStart:function(){var aJ=this,aM,aL,aK,aI;if(aJ.loadIndex>=aJ.list.length){return}aM=aJ.list[aJ.loadIndex];if(!aM.name){aM.name=aJ.llname+aJ.loadIndex}if(!aJ.lresult[aJ.llload+aM.name]){if(!aM.type){aI=ae(aM.path);if(aI=="txt"){aM.type=j.TYPE_TEXT}else{if(aI=="js"){aM.type=j.TYPE_JS}else{if((new Array("mp3","ogg","wav","m4a")).indexOf(aI)>=0){aM.type=a.TYPE_SOUND}}}}if(aM.type==j.TYPE_TEXT||aM.type==j.TYPE_JS){aJ.loader=new j();aJ.loader.name=aM.name;aJ.loader.addEventListener(A.COMPLETE,aJ.loadComplete.bind(aJ));aJ.loader.load(aJ.url(aM.path),aM.type)}else{if(aM.type==a.TYPE_SOUND){aJ.loader=new a();aJ.loader.name=aM.name;aJ.loader.addEventListener(A.COMPLETE,aJ.loadComplete.bind(aJ));aJ.loader.load(aM.path)}else{aJ.loader=new au();aJ.loader.name=aM.name;aJ.loader.addEventListener(A.COMPLETE,aJ.loadComplete.bind(aJ));aJ.loader.load(aJ.url(aM.path),au.TYPE_BITMAPDATE)}}}aJ.loadIndex++;aJ.loadStart()},loadComplete:function(aK){var aI=this;if(aK&&aK.currentTarget&&aK.currentTarget.name){aK.currentTarget.removeEventListener(A.COMPLETE,aI.loadComplete);if(aK.currentTarget.name.indexOf(aI.llname)>=0){aK.target=1}if(aI.lresult[aI.llload+aK.currentTarget.name]){return}aI.result[aK.currentTarget.name]=aK.target;aI.lresult[aI.llload+aK.currentTarget.name]=1}aI.index++;if(aI.onupdate){aI.onupdate(Math.floor(aI.index*100/aI.list.length))}if(aI.index>=aI.list.length){if(aI.reloadtime){clearTimeout(aI.reloadtime)}aI.loader=null;var aJ=aI.result;ai.forceRefresh=true;aI.oncomplete(aJ)}},url:function(aI){if(!ai.traceDebug){return aI}return aI+(aI.indexOf("?")>=0?"&":"?")+"t="+(new Date()).getTime()}};aH.load=function(aI,aJ,aL){var aK=new aH();aK.load(aI,aJ,aL)};return aH})();var x={None:{easeIn:function(aI,aH,aK,aJ){return aH+aI*aK/aJ},easeOut:function(aI,aH,aK,aJ){return aH+aI*aK/aJ},easeInOut:function(aI,aH,aK,aJ){return aH+aI*aK/aJ}},Quad:{easeIn:function(aI,aH,aK,aJ){return aK*(aI/=aJ)*aI+aH},easeOut:function(aI,aH,aK,aJ){return -aK*(aI/=aJ)*(aI-2)+aH},easeInOut:function(aI,aH,aK,aJ){if((aI/=aJ/2)<1){return aK/2*aI*aI+aH}return -aK/2*((--aI)*(aI-2)-1)+aH}},Cubic:{easeIn:function(aI,aH,aK,aJ){return aK*(aI/=aJ)*aI*aI+aH},easeOut:function(aI,aH,aK,aJ){return aK*((aI=aI/aJ-1)*aI*aI+1)+aH},easeInOut:function(aI,aH,aK,aJ){if((aI/=aJ/2)<1){return aK/2*aI*aI*aI+aH}return aK/2*((aI-=2)*aI*aI+2)+aH}},Quart:{easeIn:function(aI,aH,aK,aJ){return aK*(aI/=aJ)*aI*aI*aI+aH},easeOut:function(aI,aH,aK,aJ){return -aK*((aI=aI/aJ-1)*aI*aI*aI-1)+aH},easeInOut:function(aI,aH,aK,aJ){if((aI/=aJ/2)<1){return aK/2*aI*aI*aI*aI+aH}return -aK/2*((aI-=2)*aI*aI*aI-2)+aH}},Quint:{easeIn:function(aI,aH,aK,aJ){return aK*(aI/=aJ)*aI*aI*aI*aI+aH},easeOut:function(aI,aH,aK,aJ){return aK*((aI=aI/aJ-1)*aI*aI*aI*aI+1)+aH},easeInOut:function(aI,aH,aK,aJ){if((aI/=aJ/2)<1){return aK/2*aI*aI*aI*aI*aI+aH}return aK/2*((aI-=2)*aI*aI*aI*aI+2)+aH}},Sine:{easeIn:function(aI,aH,aK,aJ){return -aK*Math.cos(aI/aJ*(Math.PI/2))+aK+aH},easeOut:function(aI,aH,aK,aJ){return aK*Math.sin(aI/aJ*(Math.PI/2))+aH},easeInOut:function(aI,aH,aK,aJ){return -aK/2*(Math.cos(Math.PI*aI/aJ)-1)+aH}},Strong:{easeIn:function(aI,aH,aK,aJ){return aK*(aI/=aJ)*aI*aI*aI*aI+aH},easeOut:function(aI,aH,aK,aJ){return aK*((aI=aI/aJ-1)*aI*aI*aI*aI+1)+aH},easeInOut:function(aI,aH,aK,aJ){if((aI/=aJ/2)<1){return aK/2*aI*aI*aI*aI*aI+aH}return aK/2*((aI-=2)*aI*aI*aI*aI+2)+aH}},Expo:{easeIn:function(aI,aH,aK,aJ){return(aI==0)?aH:aK*Math.pow(2,10*(aI/aJ-1))+aH},easeOut:function(aI,aH,aK,aJ){return(aI==aJ)?aH+aK:aK*(-Math.pow(2,-10*aI/aJ)+1)+aH},easeInOut:function(aI,aH,aK,aJ){if(aI==0){return aH}if(aI==aJ){return aH+aK}if((aI/=aJ/2)<1){return aK/2*Math.pow(2,10*(aI-1))+aH}return aK/2*(-Math.pow(2,-10*--aI)+2)+aH}},Circ:{easeIn:function(aI,aH,aK,aJ){return -aK*(Math.sqrt(1-(aI/=aJ)*aI)-1)+aH},easeOut:function(aI,aH,aK,aJ){return aK*Math.sqrt(1-(aI=aI/aJ-1)*aI)+aH},easeInOut:function(aI,aH,aK,aJ){if((aI/=aJ/2)<1){return -aK/2*(Math.sqrt(1-aI*aI)-1)+aH}return aK/2*(Math.sqrt(1-(aI-=2)*aI)+1)+aH}},Elastic:{easeIn:function(aJ,aH,aN,aM,aI,aL){var aK;if(aJ==0){return aH}if((aJ/=aM)==1){return aH+aN}if(!aL){aL=aM*0.3}if(!aI||aI<Math.abs(aN)){aI=aN;aK=aL/4}else{aK=aL/(2*Math.PI)*Math.asin(aN/aI)}return -(aI*Math.pow(2,10*(aJ-=1))*Math.sin((aJ*aM-aK)*(2*Math.PI)/aL))+aH},easeOut:function(aJ,aH,aN,aM,aI,aL){var aK;if(aJ==0){return aH}if((aJ/=aM)==1){return aH+aN}if(!aL){aL=aM*0.3}if(!aI||aI<Math.abs(aN)){aI=aN;aK=aL/4}else{aK=aL/(2*Math.PI)*Math.asin(aN/aI)}return(aI*Math.pow(2,-10*aJ)*Math.sin((aJ*aM-aK)*(2*Math.PI)/aL)+aN+aH)},easeInOut:function(aJ,aH,aN,aM,aI,aL){var aK;if(aJ==0){return aH}if((aJ/=aM/2)==2){return aH+aN}if(!aL){aL=aM*(0.3*1.5)}if(!aI||aI<Math.abs(aN)){aI=aN;aK=aL/4}else{aK=aL/(2*Math.PI)*Math.asin(aN/aI)}if(aJ<1){return -0.5*(aI*Math.pow(2,10*(aJ-=1))*Math.sin((aJ*aM-aK)*(2*Math.PI)/aL))+aH}return aI*Math.pow(2,-10*(aJ-=1))*Math.sin((aJ*aM-aK)*(2*Math.PI)/aL)*0.5+aN+aH}},Back:{easeIn:function(aI,aH,aL,aK,aJ){if(typeof aJ==ac){aJ=1.70158}return aL*(aI/=aK)*aI*((aJ+1)*aI-aJ)+aH},easeOut:function(aI,aH,aL,aK,aJ){if(typeof aJ==ac){aJ=1.70158}return aL*((aI=aI/aK-1)*aI*((aJ+1)*aI+aJ)+1)+aH},easeInOut:function(aI,aH,aL,aK,aJ){if(typeof aJ==ac){aJ=1.70158}if((aI/=aK/2)<1){return aL/2*(aI*aI*(((aJ*=(1.525))+1)*aI-aJ))+aH}return aL/2*((aI-=2)*aI*(((aJ*=(1.525))+1)*aI+aJ)+2)+aH}},Bounce:{easeIn:function(aI,aH,aK,aJ){return aK-x.Bounce.easeOut(aJ-aI,0,aK,aJ)+aH},easeOut:function(aI,aH,aK,aJ){if((aI/=aJ)<(1/2.75)){return aK*(7.5625*aI*aI)+aH}else{if(aI<(2/2.75)){return aK*(7.5625*(aI-=(1.5/2.75))*aI+0.75)+aH}else{if(aI<(2.5/2.75)){return aK*(7.5625*(aI-=(2.25/2.75))*aI+0.9375)+aH}else{return aK*(7.5625*(aI-=(2.625/2.75))*aI+0.984375)+aH}}}},easeInOut:function(aI,aH,aK,aJ){if(aI<aJ/2){return x.Bounce.easeIn(aI*2,0,aK,aJ)*0.5+aH}return x.Bounce.easeOut(aI*2-aJ,0,aK,aJ)*0.5+aK*0.5+aH}}};var ax;var G=(function(){function aL(aM,aO,aN){var aP=this;H(aP,s,[]);aP.type="LTweenLiteChild";aP.toNew=[];aP.init(aM,aO,aN)}var aK={init:function(aN,aS,aR){var aW=this,aP=null,aU=null;if(typeof aR.tweenTimeline==ac){aR.tweenTimeline=aI.TYPE_FRAME}aW.target=aN;aW.duration=aS||0.001;aW.vars=aR;aW.delay=aW.vars.delay||0;if(aW.vars.tweenTimeline==aI.TYPE_TIMER){aW.currentTime=(new Date()).getTime()/1000;aW.initTime=aW.currentTime;aW.startTime=aW.initTime+aW.delay}else{aW.currentTime=0;aW.duration*=1000;aW.currentTime-=aW.delay*1000;aW.initTime=(new Date()).getTime()-aW.currentTime}aW.combinedTimeScale=aW.vars.timeScale||1;aW.active=aW.duration==0&&aW.delay==0;aW.varsto={};aW.varsfrom={};aW.varsDiff={};aW.varsListIndex={};aW.varsListCurr={};aW.varsListTo={};aW.varsListLength={};aW.stop=false;if(typeof aW.vars.ease==="string"){aU=aW.vars.ease.split(".");if(Array.isArray(aU)){aW.vars.ease=x[aU[0]][aU[1]]}}if(typeof aW.vars.ease!=="function"){aW.vars.ease=x.None.easeIn}aW.ease=aW.vars.ease;delete aW.vars.ease;if(aW.vars.onComplete){aW.onComplete=aW.vars.onComplete;delete aW.vars.onComplete}else{aW.onComplete=null}if(aW.vars.onUpdate){aW.onUpdate=aW.vars.onUpdate;delete aW.vars.onUpdate}else{aW.onUpdate=null}if(aW.vars.onStart){aW.onStart=aW.vars.onStart;delete aW.vars.onStart}else{aW.onStart=null}for(aP in aW.vars){if(aP=="coordinate"&&Array.isArray(aW.vars[aP])){var aT=0,aV={x:aW.target.x,y:aW.target.y};for(var aQ=0,aO=aW.vars[aP].length;aQ<aO;aQ++){var aM=aW.vars[aP][aQ];aT+=aA.distance(aM,aV);aV=aM}aW.varsListIndex[aP]=0;aW.varsListCurr[aP]=0;aW.varsListTo[aP]=aT;aW.varsto[aP]=aW.vars[aP];aW.varsfrom[aP]={x:aW.target.x,y:aW.target.y};continue}else{if(typeof aW.vars[aP]!="number"){continue}}aW.varsto[aP]=aW.vars[aP];aW.varsfrom[aP]=aW.target[aP];aW.varsDiff[aP]=aW.vars[aP]-aW.target[aP]}},pause:function(){this.stop=true},resume:function(){this.stop=false},tween:function(){var aW=this,aS;var aU=(aW.vars.tweenTimeline==aI.TYPE_TIMER);if(aU){var aN=(new Date()).getTime()/1000,aO=aN-aW.startTime;if(aO<0){return}}else{if(aW.stop){return}if(ai.speed){aW.currentTime+=ai.speed}else{aW.currentTime=((new Date()).getTime()-aW.initTime)}if(this._end){aW.currentTime=aW.duration}if(aW.currentTime<0){return}}for(aH in aW.varsto){if(typeof aW.varsListTo[aH]!=ac){var aV=aW.ease(aU?aO:aW.currentTime,0,aW.varsListTo[aH],aW.duration);if(aV>aW.varsListTo[aH]){aV=aW.varsListTo[aH]}var aR=aW.varsListIndex[aH]>0?aW.vars[aH][aW.varsListIndex[aH]-1]:aW.varsfrom[aH];var aT=aW.vars[aH][aW.varsListIndex[aH]];var aQ=aA.distance(aR,aT);while(aW.varsListCurr[aH]+aQ<aV){aW.varsListCurr[aH]+=aQ;aR=aT;aW.varsListIndex[aH]++;aT=aW.vars[aH][aW.varsListIndex[aH]];aQ=aA.distance(aR,aT)}aW.target.x=aR.x;aW.target.y=aR.y;if(aQ!=0&&aT.x-aR.x!=0){aW.target.x+=(aT.x-aR.x)*(aV-aW.varsListCurr[aH])/aQ}if(aQ!=0&&aT.y-aR.y!=0){aW.target.y+=(aT.y-aR.y)*(aV-aW.varsListCurr[aH])/aQ}continue}aW.target[aH]=aW.ease(aU?aO:aW.currentTime,aW.varsfrom[aH],aW.varsDiff[aH],aW.duration)}if(aW.onStart){aW._dispatchEvent(aW.onStart);delete aW.onStart}var aP;if(aU){aP=(aO>=aW.duration)}else{aP=(aW.currentTime>=aW.duration)}if(aP){for(aS in aW.varsto){if(typeof aW.varsListTo[aS]!=ac){var aM=aW.varsto[aS][aW.vars[aS].length-1];aW.target.x=aM.x;aW.target.y=aM.y;continue}aW.target[aS]=aW.varsto[aS]}if(aW.onComplete){aW._dispatchEvent(aW.onComplete)}return true}else{if(aW.onUpdate){aW._dispatchEvent(aW.onUpdate)}}return false},_dispatchEvent:function(aN){var aM=this;aM.target.target=aM.target;aM.target.currentTarget=aM;aN(aM.target);delete aM.target.currentTarget;delete aM.target.target},to:function(aM,aO,aN){var aP=this;aP.toNew.push({target:aM,duration:aO,vars:aN});return aP},end:function(aM){this._end=true;this._endCallback=aM},keep:function(){var aO=this,aN,aP,aM;if(aO.toNew.length>0){aN=aO.toNew.shift();if(aN.vars.loop){aO.loop=true}if(aO.loop){aP={};for(aM in aN.vars){aP[aM]=aN.vars[aM]}aO.to(aN.target,aN.duration,aP)}aO.init(aN.target,aN.duration,aN.vars);return true}return false}};for(var aH in aK){aL.prototype[aH]=aK[aH]}function aI(){var aM=this;H(aM,s,[]);aM.type="LTweenLite";aM.tweens=[]}aI.TYPE_FRAME="type_frame";aI.TYPE_TIMER="type_timer";aK={count:function(){return this.tweens.length},ll_show:function(){var aO=this;var aN,aP=aO.tweens.length,aM;for(aN=0;aN<aP;aN++){aM=aO.tweens[aN];if(aM&&aM.tween&&aM.tween()){aO.tweens.splice(aN,1);aN--;aP=aO.tweens.length;if(aM._end&&aM._endCallback){aM._dispatchEvent(aM._endCallback);aM=null}else{if(aM.keep()){aO.add(aM)}}}}},to:function(aM,aP,aO){if(!aM){return}var aQ=this;var aN=new aL({},0,{});aQ.tweens.push(aN);aN.to(aM,aP,aO);return aN},add:function(aM){this.tweens.push(aM)},remove:function(aO){var aP=this;if(typeof aO==ac){return}for(var aN=0,aM=aP.tweens.length;aN<aM;aN++){if(aO.objectIndex==aP.tweens[aN].objectIndex){aP.tweens.splice(aN,1);break}}},endAll:function(aO){var aN=this;for(var aM=0;aM<aN.tweens.length;aM++){aN.tweens[aM].end()}},removeAll:function(){this.tweens.splice(0,this.tweens.length)},pauseAll:function(){for(var aN=0,aM=this.tweens.length;aN<aM;aN++){this.tweens[aN].pause()}},resumeAll:function(){for(var aN=0,aM=this.tweens.length;aN<aM;aN++){this.tweens[aN].resume()}}};for(var aH in aK){aI.prototype[aH]=aK[aH]}ax=new aI();ai.childList.push(ax);var aJ=new aI();aJ.TYPE_FRAME=aI.TYPE_FRAME;aJ.TYPE_TIMER=aI.TYPE_TIMER;ai.childList.push(aJ);return aJ})();var af=(function(){function aH(){this.responseType=null}aH.prototype={TEXT:"text",JSON:"json",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",get:function(aJ,aL,aK,aI){this.getRequest("GET",aJ,aL,aK,aI)},post:function(aJ,aL,aK,aI){this.getRequest("POST",aJ,aL,aK,aI)},getRequest:function(aR,aI,aO,aJ,aK){var aS=this,aL,aM="",aQ="";aS.err=aK;var aP=aS.getHttp();if(!aP){return}if(aO){for(aL in aO){aM+=(aQ+aL+"="+aO[aL]);aQ="&"}}if(aR.toLowerCase()=="get"&&aM.length>0){aI+=((aI.indexOf("?")>=0?"&":"?")+aM);aM=null}aP.open(aR,aI,true);if(aS.responseType){if(aS.responseType==aS.JSON){try{aP.responseType=aS.responseType}catch(aN){aP.responseType=aS.TEXT;aP._responseType="json"}}else{aP.responseType=aS.responseType}aS.responseType=aS.TEXT}aP.setRequestHeader("Content-Type","application/x-www-form-urlencoded");aP.onreadystatechange=function(){if(aP.readyState==4){if(aP.status>=200&&aP.status<300||aP.status===304){if(aJ){if(aP._responseType==aS.JSON){aP._responseType=aS.TEXT;aJ(JSON.parse(aP.responseText))}else{if(aP.responseType==aS.ARRAY_BUFFER||aP.responseType==aS.BLOB||aP.responseType==aS.JSON){aJ(aP.response)}else{if(aP.responseText.length>0){aJ(aP.responseText)}else{aJ(null)}}}}}else{if(aK){aK(aP)}}}};aP.send(aM)},getHttp:function(){if(typeof XMLHttpRequest!=ac){return new XMLHttpRequest()}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(aI){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(aI){if(!this.err){this.err(aI)}}}return false}};return new aH()})();var L=(function(){function aI(){var aK=this;H(aK,f,[]);aK.display=document.createElement("div");aK.iframe=document.createElement("iframe");aK.display.style.position="absolute";aK.display.style.marginTop="0px";aK.display.style.marginLeft="0px";aK.display.style.zIndex=11;if(ai.ios){aK.display.style.overflow="auto";aK.display.style.webkitOverflowScrolling="touch"}aK.display.appendChild(aK.iframe);aK.idAdded=false}var aJ={loadURL:function(aK){var aL=this;aL.iframe.src=aK;aL.iframe.onload=function(){aL.dispatchEvent(A.COMPLETE)}},show:function(){var aK=this;if(!aK.idAdded){ai.object.appendChild(aK.display);aK.idAdded=true}if(aK.display.style.display=="none"){aK.display.style.display=""}},die:function(){ai.object.removeChild(this.display);this.idAdded=false},hide:function(){this.display.style.display="none"},setViewPort:function(aL){var aK=this,aN=parseInt(ai.canvasObj.style.width)/ai.canvasObj.width,aM=parseInt(ai.canvasObj.style.height)/ai.canvasObj.height;aK.display.style.marginTop=(parseInt(ai.canvasObj.style.marginTop)+((aL.y*aM)>>>0))+"px";aK.display.style.marginLeft=(parseInt(ai.canvasObj.style.marginLeft)+((aL.x*aN)>>>0))+"px";aK.iframe.style.width=aK.display.style.width=(aL.width*aN>>>0)+"px";aK.iframe.style.height=aK.display.style.height=(aL.height*aM>>>0)+"px"}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();var F=(function(){function aH(){var aJ=this;H(aJ,ab,[]);if(!ai.fpsStatus){ai.fpsStatus={a:0,b:0,c:0,d:0,e:0,bitmapData:0,display:0,transform:0,graphics:0,text:0,reset:function(){this.a=this.bitmapData;this.b=this.display-1;this.c=this.transform-1;this.d=this.graphics-1;this.e=this.text-5;this.bitmapData=0;this.display=0;this.transform=0;this.graphics=0;this.text=0}}}aJ.fps=[];aJ.back=new n();aJ.back.alpha=0.5;aJ.addChild(aJ.back);for(var aI=0;aI<5;aI++){var aK=new an();aK.color="#ffffff";aK.y=aI*20;aJ.addChild(aK);aJ.fps.push(aK)}aJ.fpsCount=0;aJ.fpsTime=(new Date()).getTime();aJ.addEventListener(A.ENTER_FRAME,aJ.showFPS)}aH.prototype.showFPS=function(aL){var aJ=aL.currentTarget,aI,aK;aJ.fpsCount++;aI=(new Date()).getTime();if(aI-aJ.fpsTime<1000){return}aJ.fps[0].text="FPS : "+Math.round(aJ.fpsCount*10000/(aI-aJ.fpsTime))/10;aK=ai.fpsStatus;aJ.fps[1].text="DisplayObject : "+aK.c+"/"+aK.b;aJ.fps[2].text="Draw image : "+aK.a;aJ.fps[3].text="Draw graphics : "+aK.d;aJ.fps[4].text="Draw text : "+aK.e;aJ.fpsTime=aI;aJ.fpsCount=0;aJ.back.graphics.clear();aJ.back.graphics.drawRect(0,"#000000",[0,0,aJ.fps[1].getWidth(),100],true,"#000000")};aH.prototype.die=function(){var aI=this;ai.fpsStatus=null;aI.callParent("die",arguments)};return aH})();var U=(function(){function aI(aL){var aK=this;H(aK,s,[]);aK.q1=null;aK.q2=null;aK.q3=null;aK.q4=null;aK.parent=null;aK.data=[];aK.rect=aL;aK.root=aK}var aJ={createChildren:function(aL){if(aL==0){return}var aN=this;var aK=aN.rect.width/2,aM=aN.rect.height/2;aN.q1=new aI(new R(aN.rect.x+aK,aN.rect.y,aK,aM));aN.q2=new aI(new R(aN.rect.x+aK,aN.rect.y+aM,aK,aM));aN.q3=new aI(new R(aN.rect.x,aN.rect.y+aM,aK,aM));aN.q4=new aI(new R(aN.rect.x,aN.rect.y,aK,aM));aN.q1.parent=aN.q2.parent=aN.q3.parent=aN.q4.parent=aN;aN.q1.root=aN.q2.root=aN.q3.root=aN.q4.root=aN.root;aN.q1.createChildren(aL-1);aN.q2.createChildren(aL-1);aN.q3.createChildren(aL-1);aN.q4.createChildren(aL-1)},hasChildren:function(){var aK=this;return aK.q1&&aK.q2&&aK.q3&&aK.q4},clear:function(){var aK=this;if(aK.hasChildren()){return aK.q1.clear()||aK.q2.clear()||aK.q3.clear()||aK.q4.clear()}else{aK.q1=null;aK.q2=null;aK.q3=null;aK.q4=null;aK.parent=null;aK.data=[];return aK}},add:function(aL,aK,aN){var aM=this;if(!aM.isIn(aK,aN)){return null}if(aM.hasChildren()){return aM.q1.add(aL,aK,aN)||aM.q2.add(aL,aK,aN)||aM.q3.add(aL,aK,aN)||aM.q4.add(aL,aK,aN)}else{aM.data.push(aL);return aM}},remove:function(aL,aK,aO){var aN=this;if(!aN.isIn(aK,aO)){return null}if(aN.hasChildren()){return aN.q1.remove(aL,aK,aO)||aN.q2.remove(aL,aK,aO)||aN.q3.remove(aL,aK,aO)||aN.q4.remove(aL,aK,aO)}else{var aM=aN.data.indexOf(aL);if(aM!=-1){aN.data.splice(aM,1);return aN}else{return null}}},isIn:function(aK,aM){var aL=this;return(typeof aK==ac||(aK>=aL.rect.x&&aK<aL.rect.right))&&(typeof aM==ac||(aM>=aL.rect.y&&aM<aL.rect.bottom))},getDataInRect:function(aM){var aK=this;if(!aK.rect.intersects(aM)){return[]}var aL=aK.data.concat();if(aK.hasChildren()){aL.push.apply(aL,aK.q1.getDataInRect(aM));aL.push.apply(aL,aK.q2.getDataInRect(aM));aL.push.apply(aL,aK.q3.getDataInRect(aM));aL.push.apply(aL,aK.q4.getDataInRect(aM))}return aL}};for(var aH in aJ){aI.prototype[aH]=aJ[aH]}return aI})();LF.addChild=ar;LF.removeChild=av;LF.base=D;LF.FPS=F;LF.accelerometerEvent=e;LF.ajax=af;LF.animation=k;LF.bitmap=r;LF.bitmapData=t;LF.bitmapFilter=ao;LF.blendMode=X;LF.button=Q;LF.colorMatrixFilter=ap;LF.colorTransform=Z;LF.convolutionFilter=b;LF.displayObject=T;LF.displayObjectContainer=ak;LF.dropShadowFilter=am;LF.easing=x;LF.event=A;LF.eventDispatcher=f;LF.focusEvent=aw;LF.global=ai;LF.graphics=l;LF.init=O;LF.interactiveObject=h;LF.keyboardEvent=E;LF.loadManage=aC;LF.loader=au;LF.matrix=aF;LF.media=z;LF.mouseEvent=g;LF.mouseEventContainer=at;LF.multitouch=K;LF.multitouchInputMode=az;LF.object=s;LF.point=aA;LF.rectangle=R;LF.shape=n;LF.sound=a;LF.sprite=ab;LF.stage=aB;LF.stageAlign=aD;LF.stageScaleMode=aq;LF.stageWebView=L;LF.styleSheet=LStyleSheet;LF.system=aG;LF.textEvent=ay;LF.textField=an;LF.textFieldType=Y;LF.textFormat=LTextFormat;LF.timer=C;LF.timerEvent=ag;LF.transform=c;LF.tweenLite=G;LF.tweenLiteTimeline=ax;LF.urlLoader=j;LF.vec2=I;LF.video=y;LF.webAudio=W;LF.quadTree=U;LF.guide=(function(){function aH(aI,aO,aJ,aN,aK){if(typeof aI==="object"){aK=aI.color;aN=aI.h;aJ=aI.w;aO=aI.y;aI=aI.x}aK=aK||"#fff";var aM=this;LF.base(aM,LF.shape,[]);aM.x=aI;aM.y=aO;aM.w=aJ;aM.h=aN;aM.r=Math.min(aJ,aN)/2;aM.tweens=[];aM.timers=[];aM.arcList=[];for(var aL=0;aL<3;aL++){(function(){var aP={r:0,p:1};aM.graphics.add(function(){var aQ=LF.global.canvas;aQ.save();aQ.beginPath();aQ.arc(aM.w/2,aM.h/2,aP.r,0,2*Math.PI);aQ.closePath();aQ.fillStyle=aK;aQ.globalAlpha=aP.p;aQ.fill();aQ.restore()});aM.arcList.push(aP)})()}}aH.prototype.play=function(){var aI=this;aI.stop();aI.arcList.forEach(function(aJ,aK){aI.timers.push(setTimeout(function(){aI.tweens.push(LF.tweenLite.to(aJ,1,{r:aI.r,p:0,loop:true,onComplete:function(aL){aJ.r=0;aJ.p=1}}))},(2-aK)*200))});return aI};aH.prototype.change=function(aJ){var aI=this;aJ.x&&(aI.x=aJ.x);aJ.y&&(aI.y=aJ.y);return aI};aH.prototype.stop=function(){var aI=this;aI.tweens.forEach(function(aK,aJ){LF.tweenLite.remove(aK);clearTimeout(aI.timers[aJ]);aI.arcList[aJ].r=0;aI.arcList[aJ].p=1});aI.tweens=[];aI.timers=[];return aI};return aH})()})();