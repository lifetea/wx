if (typeof HdGame == "undefined") {
    HdGame = {}
}
HdGame.encodeHtml = function(a) {
    return a && a.replace ? (a.replace(/&/g, "&amp;").replace(/ /g, "&nbsp;").replace(/\b&nbsp;+/g, " ").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\\/g, "&#92;").replace(/\'/g, "&#39;").replace(/\"/g, "&quot;").replace(/\n/g, "<br/>").replace(/\r/g, "")) : a
};
HdGame.encodeUrl = function(a) {
    return typeof a === "undefined" ? "": encodeURIComponent(a)
};
HdGame.IsPC = function() {
    var a = navigator.userAgent;
    var d = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"];
    var b = true;
    for (var c = 0; c < d.length; c++) {
        if (a.indexOf(d[c]) > 0) {
            b = false;
            break
        }
    }
    return b
};
HdGame.fadOut = function(a, b) {
    if (a.is(":visible")) {
        b && b();
        return
    }
    a.css("opacity", 0);
    a.show();
    a.addClass("poupFadIn");
    setTimeout(function() {
        a.removeClass("poupFadIn");
        a.css("opacity", 1);
        b && b()
    },
    200)
};
HdGame.fadIn = function(a, b) {
    if (a.is(":hidden")) {
        b && b();
        return
    }
    a.css("opacity", 1);
    a.addClass("poupFadOut");
    setTimeout(function() {
        a.hide();
        a.removeClass("poupFadOut");
        a.css("opacity", 1);
        b && b()
    },
    200)
};
HdGame.statusMsg = (function() {
    var c = null;
    var e = '<div class="statusTip" style="display:none; opacity:0;"><div style="padding-top:0.75rem;line-height:1rem;"><div id="statusTip-msg"></div><div class="sTime" style="font-size:0.6rem; line-height:0.8rem">详情留意活动说明</div></div></div>';
    var a = $(e);
    var b = a.find("#statusTip-msg");
    var d = a.find(".sTime");
    var f = false;
    return function(g) {
        var h = "";
        if (g === 1) {
            h = "活动尚未开始";
            d.text("活动开始时间为" + g_startTime)
        }
        if (g === 3) {
            h = "活动已结束";
            d.text("请关注期待下次活动")
        }
        if (g === 4) {
            h = "您今天已经没有抽奖机会了";
            d.text("明天可继续抽奖哦")
        }
        if (g === 5) {
            h = "未授权用户无法进行游戏。"
        }
        if (g === 6) {
            h = "您的抽奖机会已经用完"
        }
        if (typeof g === "string") {
            h = g
        }
        b.text(h);
        if (g == 4) {
            a.css("width", "13.5rem")
        } else {
            a.css("width", "11rem")
        }
        if (!f) {
            $("body").append(a);
            f = true
        }
        clearTimeout(c);
        HdGame.fadOut(a);
        c = setTimeout(function() {
            HdGame.fadIn(a,
            function() {
                a.remove();
                f = false
            })
        },
        2000)
    }
})();
HdGame.unPublishMsg = function() {
    var a = '<div class="unPublish">活动尚未发布，当前仅供预览</div>';
    $("body").prepend(a)
};
HdGame.share = function() {
    if ($("#sharePanel").length > 0) {
        $("#sharePanel").show();
        return
    }
    $("body").append("<div id='sharePanel'></div>");
    $("#sharePanel").on("touchend touchstart",
    function() {
        $(this).hide()
    })
};
HdGame.favorite = function() {
    if ($("#favoritePanel").length > 0) {
        $("#favoritePanel").show();
        return
    }
    $("body").append("<div id='favoritePanel'></div>");
    $("#favoritePanel").on("touchend touchstart",
    function(a) {
        setTimeout(function() {
            $("#favoritePanel").hide()
        },
        500)
    })
};
HdGame.getLevelName = function(a) {
    a = parseInt(a);
    switch (a) {
    case 1:
        return "一等奖";
    case 2:
        return "二等奖";
    case 3:
        return "三等奖";
    case 4:
        return "四等奖";
    case 5:
        return "五等奖";
    case 6:
        return "六等奖";
    case 7:
        return "七等奖";
    case 8:
        return "八等奖";
    case 900:
        return "安慰奖"
    }
};
HdGame.getStatusName = function(a) {
    switch (a) {
    case 0:
        return "未领取";
    case 1:
        return "已兑奖";
    case 2:
        return "未兑奖";
    case 3:
        return "已过期";
    case 4:
        return "已作废"
    }
};
HdGame.setRemBase = function() {
    var b = window.screen.width - $(window).height();
    var a = Math.min($(window).width(), $(window).height() + b) / 16;
    if (a == 0) {
        a = "20px"
    }
    $("html").css("font-size", a)
}; (function() {
    var c = null;
    _lastWrap = null,
    _stop = function(d) {
        if (d) {
            if (d.data("_guide")) {
                d.data("_guide").remove();
                d.removeData("_guide")
            }
        } else {
            if (c) {
                c.remove();
                c = null;
                _lastWrap && _lastWrap.removeData("_guide")
            }
        }
    };
    var b = function(h, j, k) {
        var e = $('<div class="ball-scale-multiple"><div></div><div></div><div></div></div>');
        if (h.css("position") === "static") {
            h.css("position", "relative")
        }
        if (typeof j === "object" && typeof j.x !== "undefined" && typeof j.y !== "undefined" && typeof j.w !== "undefined" && typeof j.h !== "undefined") {
            var i = Math.min(j.w, j.h) * (k || 1);
            e.children().css({
                width: i,
                height: i
            });
            e.css({
                left: j.x + (j.w - i) / 2,
                top: j.y + (j.h - i) / 2
            })
        } else {
            k = k || 0.8;
            var d = h.outerHeight();
            var f = h.outerWidth();
            var g = (j === "w" ? f / 2 : (j === "h" ? d / 2 : (j === "min" ? Math.min(d, f) / 2 : Math.max(d, f) / 2))) * k;
            e.css({
                left: f / 2 - g,
                top: d / 2 - g
            });
            e.children().css({
                width: 2 * g,
                height: 2 * g
            })
        }
        h.append(e);
        c = e;
        h.data("_guide", e);
        _lastWrap = h
    };
    var a = {
        play: b,
        stop: _stop
    };
    HdGame.Guide = a
})();
HdGame.homePoup = function(b) {
    var d = $(".poupTitle");
    if (b == 1) {
        d.text("排行榜");
        $("#rankBox").show()
    } else {
        if (b == 3) {
            d.text("我的奖品");
            $("#awardBox").show()
        } else {
            if (b == 4) {
                d.text("获奖名单");
                $("#regAwardBox").show()
            }
        }
    }
    $("#poupInfoBox").show();
    var c = parseInt($("html").css("font-size"));
    var a = $("#poupInfoBox").height() - $(".poupHead").height() - $(".getRankHeight").height() - 3 * c;
    var e = $("#poupInfoBox").height() - $(".poupHead").height() - 2.3 * c;
    if (b == 3) {
        e = $("#poupInfoBox").height() - $(".poupHead").outerHeight() - $("#awardBox .attentionBox").outerHeight() * 1.2 - $("#awardInfo").outerHeight();
        $("#awardScrollWrap").css("height", e)
    } else {
        if (b == 1) {
            $("#rankBox").css("height", e)
        } else {
            if (b == 2) {
                $("#ruleBox").css("height", e)
            } else {
                if (b == 4) {
                    $("#regAwardBox").css("height", e)
                }
            }
        }
    }
    $("#rankHeight").css("height", a)
};
HdGame.poupAjaxComplete = function(a) {
    var b = $(".ajaxLoadBar");
    b.addClass("ajaxComplete");
    setTimeout(function() {
        b.removeClass("ajaxLoad");
        b.removeClass("ajaxComplete");
        $(".ajaxLoadBg").hide();
        HdGame.homePoup(a)
    },
    500)
};
HdGame.changePoup = function(r, j, u, e, k, g, d, h) {
    var f = $(".poupTitle");
    var q = $(".bottomSkill").is(":visible");
    $(".poupMain").hide();
    $("#poupInfoBox").removeClass("poupFadOut").addClass("poupFadIn");
    if (!_manage) {
        $(".gameBox").add(".home").addClass("overflow-y-hidden");
        q && $(".bottomSkill").hide()
    }
    $(".poupClose").unbind("touchend");
    setTimeout(function() {
        $(".poupClose").bind("touchend",
        function() {
            var i = $("#poupInfoBox");
            i.removeClass("poupFadIn").addClass("poupFadOut");
            if (!_manage) {
                $(".gameBox").add(".home").removeClass("overflow-y-hidden");
                q && $(".bottomSkill").show()
            }
            setTimeout(function() {
                i.hide()
            },
            200)
        })
    },
    500);
    if (r == 1) {
        if (g_isDoubleGame) {
            $("#rankBox").addClass("isDoubleGame")
        }
        if (d) {
            var p = [{
                name: "magazine",
                achievement: 999
            },
            {
                name: "hubert",
                achievement: 999
            },
            {
                name: "lvox",
                achievement: 999
            },
            {
                name: "hth",
                achievement: 999
            }];
            $("#rankMain").show();
            HdGame.homePoup(r);
            var l = $("#rankInfoBox");
            l.find(".rankInfo").remove();
            var m = "";
            if (g_isDoubleGame) {
                m = '<div class="userImg manImg"></div><div class="userImg girlImg"></div>'
            } else {
                m = '<div class="userImg manImg"></div>'
            }
            for (var s = 0; s < p.length; s++) {
                var b = '<tr class="rankInfo"><td>No.' + (s + 1) + "</td><td>" + m + '</td><td class="userName">' + HdGame.encodeHtml(p[s].name) + "</td><td>" + p[s].achievement + g_scoreUnit + "</td></tr>";
                l.append(b)
            }
        } else {
            if (!d) {
                HdGame.logDog(1000010, 0)
            }
            $(".ajaxLoadBg").show();
            $(".ajaxLoadBar").addClass("ajaxLoad");
            $("#noRank").hide();
            $("#rankMain").hide();
            $.ajax({
                type: "post",
                url: j,
                error: function() {
                    HdGame.poupAjaxComplete(r)
                },
                success: function(z) {
                    var A = $.parseJSON(z);
                    var i = A.rankList;
                    var B = A.rank;
                    var y = $("#rankInfoBox");
                    HdGame.poupAjaxComplete(r);
                    setTimeout(function() {
                        if (B == 0) {
                            $("#rank").text("无")
                        } else {
                            $("#rank").text(B + "位")
                        }
                        HdGame.logDog(1000010);
                        y.find(".rankInfo").remove();
                        var G = i.length;
                        if (G == 0) {
                            $("#noRank").show()
                        } else {
                            $("#rankMain").show();
                            for (var E = 0; E < i.length; E++) {
                                var J = i[E].info.length > 0 ? $.parseJSON(i[E].info).headImg: null;
                                var D = J == null ? "": "src='" + J + "'";
                                var F = "";
                                if (g_isDoubleGame) {
                                    var C = i[E].info.length > 0 ? $.parseJSON(i[E].info).headImgB: null;
                                    var I = C == null ? "": "src='" + C + "'";
                                    F = '<img class="userImg" ' + I + " />"
                                }
                                var H = '<tr class="rankInfo"><td>No.' + (E + 1) + '</td><td><div><img class="userImg" ' + D + " />" + F + '</div></td><td class="userName">' + i[E].name + "</td><td>" + i[E].achievement + g_scoreUnit + "</td></tr>";
                                y.append(H)
                            }
                        }
                    },
                    500)
                }
            })
        }
        if (g_isDoubleGame) {
            $(".userImg").css({})
        }
    } else {
        if (r == 2) {
            if (!d) {
                HdGame.logDog(1000009, 0)
            }
            f.text("活动及奖品说明");
            $("#ruleBox").show();
            $("#poupInfoBox").show();
            if (!h) {
                $("#haveScore").hide()
            }
            var c = parseInt($("html").css("font-size"));
            var n = $("#poupInfoBox").height() - $(".poupHead").height() - 2.3 * c;
            $("#ruleBox").css("height", n);
            HdGame.logDog(1000009)
        } else {
            if (r == 3) {
                if (!d) {
                    HdGame.logDog(1000011, 0)
                }
                var w = new Array();
                var a = $("#awardInfo");
                g_showSkillSup && HdGame.logDog(1000028, 1);
                g_showMenu && HdGame.logDog(1000036);
                if (d) {
                    var o = '<div style="line-height: 0.7rem;"><div class="isEmptyAward">一等奖：' + $("#awardLine .award").eq(0).text() + '<span style="float: right;margin-right: 5px;">未兑奖</span></div><div style="margin: 0.25rem 0px;">兑奖码：<span style="color:#ecfeaa;font-weight:bold;">888888</span></div></div>';
                    a.html("");
                    a.append(o);
                    HdGame.homePoup(r)
                } else {
                    w.push("gameId=", g);
                    w.push("&openId=", k);
                    if (g_isDoubleGame) {
                        w.push("&openIdB=", HdGame.otherOpenId)
                    }
                    $(".ajaxLoadBg").show();
                    $(".ajaxLoadBar").addClass("ajaxLoad");
                    $.ajax({
                        type: "post",
                        url: u,
                        data: w.join(""),
                        error: function() {
                            HdGame.poupAjaxComplete(r)
                        },
                        success: function(A) {
                            var G = $.parseJSON(A);
                            HdGame.poupAjaxComplete(r);
                            $("#Award_Round_Dot").hide();
                            HdGame.logDog(1000011);
                            if (G.success) {
                                var D = G.list;
                                for (var B = 0; B < D.length; B++) {
                                    var y = D[B];
                                    if (y.award.length > 0) {
                                        var z = HdGame.gameDomain;
                                        if (z == "hd.aaa.cn") {
                                            z = "m.faidev.cc/hd"
                                        }
                                        var F = (y.cusCode && y.cusCode.length > 0) ? y.cusCode: y.code;
                                        var E = '<div style="line-height: 0.7rem;"><div class="codeImgBox" style="display:inline-block;"><img src="http://' + HdGame.gameDomain + "/manage/qrCode.jsp?cmd=qrurl&siteUrl=" + HdGame.encodeUrl(F) + '" style="width:100%;"/></div><div class="isEmptyAward" style="    width: 210px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;">' + y.awardStyle + "：" + y.award + '</div><div style="margin: 0.25rem 0px;line-height:28px;">兑奖码：<span style="color:#ecfeaa;font-weight:bold;">' + F + '</span></div><div style="color: #ecb208;">' + HdGame.getStatusName(y.codeStatus) + '</div></div><div class="hide bg codeDetailImgBox"><div class="absCenter imgBox"><img src="http://' + HdGame.gameDomain + "/manage/qrCode.jsp?cmd=qrurl&siteUrl=" + HdGame.encodeUrl(F) + '" style="width:10rem;height:10rem;"/><div class="codeDescribe" style="">联系商家核实扫描二维码兑奖</div></div></div><div class="favoriteTip"><div class="favoriteText">收藏活动链接</div><div style="font-size: 90%;color: #999;">兑奖随时出示</div></div>';
                                        a.html("");
                                        a.append(E);
                                        HdGame.logDog(1000045, 1);
                                        $(".favoriteTip").click(function() {
                                            HdGame.favorite();
                                            HdGame.logDog(1000045, 2)
                                        })
                                    }
                                }
                                $(".codeImgBox").click(function() {
                                    $(".codeDetailImgBox").show()
                                });
                                $(".codeDetailImgBox").click(function() {
                                    $(this).hide()
                                })
                            } else {
                                var C = "<div>暂无中奖纪录</div>";
                                a.html("");
                                a.append(C)
                            }
                        }
                    })
                }
            } else {
                if (r == 4) {
                    if (d) {
                        HdGame.homePoup(r);
                        var t = [];
                        var x = ["lvox、hubert", '<span style="color:#fff000">magazine</span>、tina', "monica、hth"];
                        var v = $(".regAwardList");
                        v.find(".playerName").html("");
                        v.each(function(y) {
                            $(this).find(".playerName").html(x[y])
                        })
                    } else {
                        HdGame.logDog(1000034);
                        $(".ajaxLoadBg").show();
                        $(".ajaxLoadBar").addClass("ajaxLoad");
                        if (g_isDoubleGame) {
                            e = e + "&openIdB=" + HdGame.otherOpenId
                        }
                        $.ajax({
                            type: "post",
                            url: e,
                            error: function() {
                                HdGame.poupAjaxComplete(r)
                            },
                            success: function(i) {
                                var y = $.parseJSON(i);
                                HdGame.poupAjaxComplete(r);
                                $("#Mingdan_Round_Dot").hide();
                                setTimeout(function() {
                                    var C = [];
                                    var z = $(".regAwardList");
                                    z.find(".playerName").html("");
                                    $("#noRegAward").hide();
                                    $("#regAwardMain").show();
                                    for (var A = 0; A < $(".regAwardList").length; A++) {
                                        var B = {};
                                        B.name = [];
                                        C.push(B)
                                    }
                                    if (y.length == 0) {
                                        $("#noRegAward").show();
                                        $("#regAwardMain").hide();
                                        return
                                    }
                                    $(y).each(function() {
                                        var G = $(this)[0].awardLevel;
                                        var E = G - 1;
                                        if (G == 900) {
                                            E = z.length - 1
                                        }
                                        var F = "";
                                        if ($(this)[0].openId == k) {
                                            F = 'style="color:#fff000;"'
                                        }
                                        var D = "<span " + F + ">" + $(this)[0].name + "</span>";
                                        C[E].name.push(D)
                                    });
                                    for (var A = 0; A < C.length; A++) {
                                        z.eq(A).find(".playerName").append(C[A].name.join("、"))
                                    }
                                },
                                500)
                            }
                        })
                    }
                }
            }
        }
    }
}; (function() {
    var b = Math.max($(window).height() / $(window).width(), $(window).width() / $(window).height()) > 22 / 16;
    var d = {
        startStatus: false,
        exposeFlag: false,
    };
    var a = {
        drawType: false,
        home: function() {},
        again: function() {},
        giftInit: function(e) {
            e && e()
        }
    };
    d.init = function(e) {
        $.extend(a, e);
        this.initArg = e;
        this.giftBox = $("#resule-gift-box");
        this.resuleBox = $(".resuleBox");
        this.statusBox = $("#resule-status-box");
        var f = this;
        if (HdGame.currentScore >= g_scoreSet) {
            HdGame.isplaySucess = true
        } else {
            HdGame.isplaySucess = false
        }
        HdGame.tlog(HdGame.currentScore);
        HdGame.tlog(HdGame.isplaySucess);
        $(".resule-status-home , .resule-gift-home").on("touchend",
        function() {
            event.preventDefault();
            event.stopPropagation();
            if (_manage) {
                return
            }
            HdGame.logDog(1000015);
            HdGame.fadIn(f.resuleBox,
            function() {
                f.giftBox.hide();
                f.statusBox.hide();
                $(".gameBox").add(".home").removeClass("overflow-y-hidden");
                if (g_showSkillSup) {
                    HdGame.logDog(1000028, 0);
                    $(".bottomSkill").show()
                }
            });
            e.home()
        });
        if (e.drawType === 0 || e.drawType === 2) {
            this.giftBox.find(".resule-gift-seeRank").remove();
            $(".resule-gift-home").css({
                width: "10rem",
                height: "2rem",
                "line-height": "2rem"
            });
            this.show = this.showGift
        } else {
            if (e.drawType === 1) {
                $(".resule-status-seeRank,.resule-gift-seeRank").on("touchstart",
                function() {
                    event.preventDefault();
                    event.stopPropagation();
                    if (_manage) {
                        return
                    }
                    window.showRank()
                });
                $(".resule-status-again").on("touchstart",
                function() {
                    event.preventDefault();
                    event.stopPropagation();
                    if (_manage) {
                        return
                    }
                    HdGame.logDog(1000016);
                    if (!g_isDoubleGame) {
                        HdGame.fadIn(f.resuleBox,
                        function() {
                            f.giftBox.hide();
                            f.statusBox.hide()
                        })
                    }
                    e.again()
                });
                Sound.load(_resRoot + "/image/yaoyiyao.wav", "yiy");
                window.addEventListener("devicemotion", c, false);
                $(".resule-status-gift").on("touchstart",
                function() {
                    if (_manage) {
                        return
                    }
                    exposeFlag && HdGame.logDog(1000014);
                    if (window.DeviceMotionEvent && !HdGame.IsPC()) {
                        if (f.resuleArg.isLimitDrawTotal && f.resuleArg.totalCount === 0) {
                            HdGame.statusMsg(6);
                            return
                        } else {
                            if (f.resuleArg.count === 0) {
                                HdGame.statusMsg(4);
                                return
                            }
                        }
                        $("#resule-status-scrollWrap").hide();
                        $("#resule-status-lotsBox").show();
                        d.startStatus = true
                    } else {
                        e.giftInit(function(g) {
                            f.showGift(g)
                        })
                    }
                    exposeFlag = false
                });
                $(".resule-status-reg").on("touchstart",
                function() {
                    if (_manage) {
                        return
                    }
                    HdGame.logDog(1000032);
                    $(".ajaxLoadBg").show();
                    $(".ajaxLoadBar").addClass("ajaxLoad");
                    var g = e.checkRegUrl;
                    if (g_isDoubleGame) {
                        g += "&openIdB=" + HdGame.otherOpenId
                    }
                    $.ajax({
                        type: "post",
                        url: e.checkRegUrl,
                        error: function() {
                            HdGame.otherAjaxComplete()
                        },
                        success: function(i) {
                            var h = $.parseJSON(i);
                            if (!h.isOutofRegNum) {
                                $.ajax({
                                    type: "post",
                                    url: e.regUrl,
                                    error: function() {
                                        HdGame.otherAjaxComplete()
                                    },
                                    success: function(k) {
                                        HdGame.otherAjaxComplete();
                                        HdGame.isReg = true;
                                        var j = $.parseJSON(k);
                                        if (j.success) {
                                            $(".resule-foot-one .resule-status-again").html("继续刷记录");
                                            $(".resule-foot-one .resule-status-reg").hide();
                                            $(".resule-foot-one .resule-status-again").show();
                                            $("#resule-status-count").hide();
                                            $("#resule-sucReg").show()
                                        }
                                    }
                                })
                            } else {
                                HdGame.otherAjaxComplete();
                                HdGame.statusMsg("报名人数已经满了")
                            }
                        }
                    })
                });
                this.show = this.showResult
            }
        }
    };
    d.showResult = function(h) {
        var g = {
            isSuc: false,
            gameScore: 0,
            minScore: 0,
            bestScore: 0,
            rank: 0,
            count: 3,
        };
        var f = $.extend(g, h);
        this.resuleArg = f;
        HdGame.currentRank = f.rank;
        HdGame.currentScore = f.bestScore;
        setWxShareByStatus();
        $("#resule-status-scrollWrap").show();
        $("#resule-status-lotsBox").hide();
        $(".resule-one-button").hide();
        this.statusBox.show();
        HdGame.fadOut(this.resuleBox);
        var i = $(".resuleArg");
        var e = f.isReg;
        if (f.gameScore === "fail") {
            $(".resuleArg-fail").text(f.minScore);
            $("#resule-status-body").hide();
            $("#resule-status-other").show()
        } else {
            $("#resule-status-body").show();
            $("#resule-status-other").hide()
        }
        if (g_scoreFlag == (f.gameScore >= g_drawLimitDef)) {
            if (typeof HdGame.oss_aof === "undefined") {
                HdGame.oss_aof = 0
            }
            HdGame.oss_aof++;
            if (HdGame.oss_aof >= 2) {
                HdGame.logDog(1000033, g_failSrcId);
                HdGame.oss_aof = 0
            }
        }
        if (f.gameType == 1) {
            $("#resule-status-scrollWrap").css("height", $(window).height() - $("#resule-status-box .attentionBox").height() - 1.1 * g_rem);
            g_showSkillSup && HdGame.logDog(1000028, 1);
            g_showMenu && HdGame.logDog(1000036)
        }
        if (f.isSuc) {
            HdGame.isplaySucess = true;
            $("#resule-status-bird").hide();
            $("#resule-status-ribbon").removeClass("resule-status-faiRibbon").addClass("resule-status-ribbon");
            $(".resule-status-userImg").css("border-color", "#70D572");
            $(".resule-status-minscore").hide();
            $("#resule-status-count").show();
            if (f.gameType == 0) {
                $(".resule-foot-one .resule-status-gift").show();
                $(".resule-foot-one .resule-status-again").hide();
                $(".resule-foot-two .resule-status-again").show();
                $(".resule-foot-two .resule-status-home").hide();
                HdGame.logDog(1000027)
            } else {
                if (f.gameType == 1) {
                    $("#resule-status-count").hide();
                    $("#resule-foot-box").css("margin-top", "0.6rem");
                    $(".resule-foot-two .resule-status-again").hide();
                    $(".resule-foot-two .resule-status-home").show();
                    HdGame.logDog(1000035);
                    if (!e) {
                        $(".resule-foot-one .resule-status-reg").show()
                    } else {
                        $(".resule-foot-one .resule-status-again").html("继续刷记录");
                        $(".resule-foot-one .resule-status-reg").hide();
                        $(".resule-foot-one .resule-status-again").show();
                        $("#resule-sucReg").show()
                    }
                }
            }
            exposeFlag = true;
            $("#resule-status-box .resule-bgLight").show();
            i.eq(0).text(f.gameScore);
            i.eq(1).text(f.minScore);
            i.eq(2).text(f.bestScore);
            i.eq(3).text(f.rank);
            i.eq(4).text(f.totalCount);
            i.eq(5).text(f.count);
            i.eq(6).text(f.count)
        } else {
            $("#resule-status-bird").show();
            $("#resule-status-ribbon").removeClass("resule-status-ribbon").addClass("resule-status-faiRibbon");
            $(".resule-status-userImg").css("border-color", "#B5B5B5");
            $(".resule-status-minscore").show();
            $("#resule-status-count").hide();
            $("#resule-status-box .resule-bgLight").hide();
            $(".resule-foot-one .resule-status-gift").hide();
            $(".resule-foot-one .resule-status-reg").hide();
            $(".resule-foot-one .resule-status-again").show();
            $(".resule-foot-two .resule-status-again").hide();
            $(".resule-foot-two .resule-status-home").show();
            $("#resule-status-bird").removeClass("resule-status-birdfly").addClass("resule-status-birdfly");
            i.eq(0).text(f.gameScore);
            i.eq(1).text(f.minScore);
            i.eq(2).text(f.bestScore);
            i.eq(3).text(f.rank);
            i.eq(4).text(f.count);
            HdGame.isplaySucess = false
        }
    };
    d.showGift = function(f) {
        var g = {
            isSuc: false,
            giftName: "",
            giftStyle: "",
            giftCode: 0,
        };
        var e = $.extend({},
        g, f);
        if (this.statusBox) {
            HdGame.fadIn(this.statusBox)
        }
        HdGame.fadOut(this.resuleBox);
        HdGame.fadOut(this.giftBox);
        $(".menuAgain,.menuBack").css({
            bottom: $("#resule-gift-box").find(".attentionBox").height(),
            "line-height": "1.9rem"
        });
        $("#resule-gift-scrollWrap").css("height", $(window).height() - $("#resule-gift-box .attentionBox").height() - 1.8 * g_rem + 0.2 * g_rem);
        var h = $(".gifArg");
        g_showSkillSup && HdGame.logDog(1000028, 1);
        g_showMenu && HdGame.logDog(1000036);
        if (e.isSuc) {
            $("#resule-gift-box").css("height", "auto");
            $("#resule-gift-scrollWrap").show();
            $("#faiImgBox").hide();
            $("#Award_Round_Dot").css("display", "inline-block");
            HdGame.currentAward = e.giftName;
            HdGame.currentAwardStyle = e.giftStyle;
            setWxShareByStatus();
            this.hasGift = true;
            h.eq(0).text(e.giftStyle);
            h.eq(1).text(e.giftName);
            h.eq(2).text(e.giftCode);
            HdGame.logDog(1000003, 0);
            if (!_manage) {
                $(".gameBox").add(".home").addClass("overflow-y-hidden");
                $(".bottomSkill").is(":visible") && $(".bottomSkill").hide()
            }
        } else {
            $("#resule-gift-box").css("height", $(window).height() - $("#resule-gift-box .attentionBox").height());
            $("#resule-gift-scrollWrap").hide();
            $("#faiImgBox").show()
        }
    };
    var c = (function() {
        var j = 1.5;
        var g = 0;
        var f, l, k;
        var i, h, e;
        return function(n) {
            if (!d.startStatus) {
                return
            }
            var p = new Date().getTime();
            if ((p - g) > 100) {
                var m = n.accelerationIncludingGravity;
                g = p;
                f = m.x;
                l = m.y;
                k = m.z;
                var o = Math.sqrt(f * f + l * l + k * k) / Math.sqrt(i * i + h * h + e * e);
                if (o > j) {
                    d.startStatus = false;
                    d.initArg.giftInit(function(q) {
                        Sound.play("yiy");
                        setTimeout(function() {
                            d.showGift(q)
                        },
                        1500)
                    })
                }
                i = f;
                h = l;
                e = k
            }
        }
    })();
    HdGame.resulePoup = d
})();
HdGame.otherAjaxComplete = function() {
    var a = $(".ajaxLoadBar");
    a.addClass("ajaxComplete");
    setTimeout(function() {
        a.removeClass("ajaxLoad");
        a.removeClass("ajaxComplete");
        $(".ajaxLoadBg").hide()
    },
    500)
};
HdGame.initModuleLayer = (function() {
    var a = 1;
    return function(c, e, h, b, g) {
        var d = c; (typeof c === "string") && (d = $(c));
        if (! (d instanceof jQuery) || d.length <= 0) {
            return
        }
        if (d.length > 1) {
            d.each(function() {
                HdGame.initModuleLayer($(this), e, h, b, g)
            });
            return
        }
        var f = d.data("layerId");
        if (!f) {
            f = "layerId-" + a;
            d.addClass(f);
            d.data("layerId", f);
            a++
        }
        d.addClass("defBgColor");
        d.off("mouseover").off("mouseleave").on("mouseover",
        function(i) {
            HdGame.removeAllEditLayer();
            HdGame.addMoveFrame(f);
            if (e !== -2) {
                HdGame.addModuleLayer(f, e, h, b, g)
            }
        }).on("mouseleave",
        function(i) {
            clearTimeout(HdGame.initModuleLayer.timer);
            HdGame.initModuleLayer.timer = setTimeout(function() {
                var k = f + "moduleLayer";
                var m = $("#" + k);
                var j = m.attr("_mouseIn");
                var l = $("." + f).attr("_mouseIn");
                typeof j === "undefined" && (j = 0);
                typeof l === "undefined" && (l = 0);
                if (j == 0 && l == 0) {
                    HdGame.removeMoveFrame(f);
                    m.remove()
                }
            },
            20)
        });
        d = null
    }
})();
HdGame.addMoveFrame = function(a) {
    var e = $("." + a);
    var g = true;
    var i = true;
    var d = true;
    var h = true;
    var b = e.outerWidth();
    var j = e.outerHeight();
    var c = $("#" + a + "moveFrameLeft");
    if (c.length < 1) {
        var f = "<div id='" + a + "moveFrameLeft' class='moveFrame'></div>";
        c = $(f);
        c.appendTo("body");
        c.css("width", "0px");
        c.css("height", j + "px");
        c.css("left", e.offset().left);
        c.css("top", e.offset().top);
        c.css("background", "#79cef9");
        c.css("border-left-width", "1px");
        c.css({
            opacity: g ? 1 : 0
        })
    }
    var c = $("#" + a + "moveFrameRight");
    if (c.length < 1) {
        var f = "<div id='" + a + "moveFrameRight' class='moveFrame'></div>";
        c = $(f);
        c.appendTo("body");
        c.css("height", j + "px");
        c.css("left", e.offset().left + b - 1);
        c.css("top", e.offset().top);
        c.css("width", "0px");
        c.css("background", "#79cef9 ");
        c.css("border-right-width", "1px");
        c.css({
            opacity: i ? 1 : 0
        })
    }
    var c = $("#" + a + "moveFrameTop");
    if (c.length < 1) {
        var f = "<div id='" + a + "moveFrameTop' class='moveFrame'></div>";
        c = $(f);
        c.appendTo("body");
        c.css("left", e.offset().left);
        c.css("top", e.offset().top);
        c.css("width", b + "px");
        c.css("height", "0px");
        c.css("background", "#79cef9 ");
        c.css("border-top-width", "1px");
        c.css({
            opacity: d ? 1 : 0
        });
        c.mouseover(function() {
            $(this).attr("_mouseIn", 1)
        }).mouseleave(function() {
            $(this).attr("_mouseIn", 0)
        })
    }
    var c = $("#" + a + "moveFrameBottom");
    if (c.length < 1) {
        var f = "<div id='" + a + "moveFrameBottom' class='moveFrame'></div>";
        c = $(f);
        c.appendTo("body");
        c.css("width", b + "px");
        c.css("height", "0px");
        c.css("left", e.offset().left);
        c.css("top", e.offset().top + j - 1);
        c.css("background", "#79cef9 ");
        c.css("border-bottom-width", "1px");
        c.css({
            opacity: h ? 1 : 0
        })
    }
    e = null;
    c = null
};
HdGame.addModuleLayer = function(b, c, g, d, j) {
    var h = [];
    var e = b + "moduleLayer";
    var f = $("." + b);
    h.push("<div id='" + e + "' class='moduleLayer' _mouseIn='0'>");
    h.push("		<div class='item'>");
    if (j) {
        var l = "样式";
        if (g == "gameTopBar") {
            l = "样式设置"
        }
        h.push("			<a class='item tool css' hidefocus='true' href='javascript:;'>" + l + "</a>")
    }
    if (g != "gameTopBar") {
        h.push("			<a class='item tool edit' hidefocus='true' href='javascript:;' >编辑</a>")
    }
    h.push("		</div>");
    h.push("</div>");
    var a = $(h.join(""));
    $("#" + e).remove();
    a.appendTo("body");
    a.css("margin", 0);
    $("#" + e + " .item .css").click(function() {
        parent.showEditByGame(c, g, d, true);
        parent.operateFlagList[21] = true;
        return false
    });
    $("#" + e + " .item .edit").click(function() {
        parent.showEditByGame(c, g, d);
        parent.operateFlagList[17] = true;
        if (g == "awardSetting") {
            HdGame.removeMoveFrame(b);
            $("#" + e).remove()
        }
        return false
    });
    var k = f.outerWidth();
    a.css("left", f.offset().left + k - a.outerWidth() - 1);
    var i = (f.offset().top - a.height() - 1);
    a.css("top", i > 0 ? i: 0 + "px");
    a.mouseover(function() {
        $(this).attr("_mouseIn", 1)
    });
    a.mouseleave(function(n) {
        $(this).attr("_mouseIn", 0);
        HdGame.removeMoveFrame(b);
        var m = $("#" + e);
        m.remove()
    });
    f = null;
    return a
};
HdGame.removeMoveFrame = function(a) {
    $("#" + a + "moveFrameLeft").remove();
    $("#" + a + "moveFrameRight").remove();
    $("#" + a + "moveFrameTop").remove();
    $("#" + a + "moveFrameBottom").remove()
};
HdGame.Img = {};
HdGame.Img = {
    MODE_SCALE_FILL: 1,
    MODE_SCALE_WIDTH: 2,
    MODE_SCALE_HEIGHT: 3,
    MODE_SCALE_DEFLATE_WIDTH: 4,
    MODE_SCALE_DEFLATE_HEIGHT: 5,
    MODE_SCALE_DEFLATE_FILL: 6,
    MODE_SCALE_DEFLATE_MAX: 7
};
HdGame.Img.optimize = function(d, f) {
    var b = new Image();
    b.src = d.src;
    var c = b.width;
    var a = b.height;
    if (HdGame.isNull(c) || c == 0 || HdGame.isNull(a) || a == 0) {
        c = d.width;
        a = d.height
    }
    var e = HdGame.Img.calcSize(c, a, f.width, f.height, f.mode);
    d.width = e.width;
    d.height = e.height;
    if (f.display == 1) {
        d.style.display = "inline"
    } else {
        if (f.display == 2) {
            d.style.display = "none"
        } else {
            d.style.display = "block"
        }
    }
    return {
        width: d.width,
        height: d.height
    }
};
HdGame.Img.calcSize = function(e, a, g, f, h) {
    var c = {
        width: e,
        height: a
    };
    if (h == HdGame.Img.MODE_SCALE_FILL) {
        var d = e / g;
        var b = a / f;
        if (d > b) {
            c.width = g;
            c.height = a / d
        } else {
            c.width = e / b;
            c.height = f
        }
    } else {
        if (h == HdGame.Img.MODE_SCALE_WIDTH) {
            var d = e / g;
            c.width = g;
            c.height = a / d
        } else {
            if (h == HdGame.Img.MODE_SCALE_HEIGHT) {
                var b = a / f;
                c.width = e / b;
                c.height = f
            } else {
                if (h == HdGame.Img.MODE_SCALE_DEFLATE_WIDTH) {
                    var d = e / g;
                    if (d > 1) {
                        c.width = g;
                        c.height = a / d
                    }
                } else {
                    if (h == HdGame.Img.MODE_SCALE_DEFLATE_HEIGHT) {
                        var b = a / f;
                        if (b > 1) {
                            c.width = e / b;
                            c.height = f
                        }
                    } else {
                        if (h == HdGame.Img.MODE_SCALE_DEFLATE_FILL) {
                            var d = e / g;
                            var b = a / f;
                            if (d > b) {
                                if (d > 1) {
                                    c.width = g;
                                    c.height = a / d
                                }
                            } else {
                                if (b > 1) {
                                    c.width = e / b;
                                    c.height = f
                                }
                            }
                        } else {
                            if (h == HdGame.Img.MODE_SCALE_DEFLATE_MAX) {
                                if (e > g && a > f) {
                                    var d = e / g;
                                    var b = a / f;
                                    if (d < b) {
                                        c.width = g;
                                        c.height = a / d
                                    } else {
                                        c.width = e / b;
                                        c.height = f
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    c.width = Math.floor(c.width);
    c.height = Math.floor(c.height);
    if (c.width == 0) {
        c.width = 1
    }
    if (c.height == 0) {
        c.height = 1
    }
    return c
};
function setEdit(e, a, d, b) {
    var c = "hdgame-" + d + "-" + b;
    e.each(function() {
        var f = $(this).data(c);
        if (b === "option") {
            if (f) {
                $.extend(f, a)
            } else {
                $(this).data(c, a)
            }
        } else {
            if (f) {
                f.push(a)
            } else {
                $(this).data(c, [a])
            }
        }
    })
}
$.fn.extend({
    setResizableOption: function(a) {
        setEdit($(this), a, "resizable", "option");
        return $(this)
    }
});
$.fn.extend({
    setDraggableOption: function(a) {
        setEdit($(this), a, "draggable", "option");
        return $(this)
    }
});
$.fn.extend({
    addResizableFn: function(b, a) {
        setEdit($(this), a, "resizable", b);
        return $(this)
    }
});
$.fn.extend({
    addDraggableFn: function(b, a) {
        setEdit($(this), a, "draggable", b);
        return $(this)
    }
});
HdGame.moduleSlaveImgResize = function(c, d) {
    if (c.length <= 0) {
        return
    }
    var b = 8;
    var a = d || "body";
    if (c.parents(".home").length > 0) {
        a = "#limitRange"
    }
    $.each(c,
    function(g, h) {
        $(h).parent("div.ui-wrapper").css({
            padding: "0"
        });
        $(h).resizable("destroy");
        var e = $(h).parents("div.imgContainer");
        var f = e.find(".slaveImg");
        $(h).resizable($.extend({
            handles: "n,e,s,w,ne,nw,sw,se",
            autoHide: true,
            maxWidth: 318,
            maxHeight: 504,
            minWidth: 20,
            minHeight: 20,
            aspectRatio: true,
            containment: a,
            alsoResize: $(h),
            create: function(t, r) {
                var u = $(this);
                var w = 0;
                var m = f.width();
                var x = f.height();
                var i = (parseInt(m) - b) / 2;
                var k = (parseInt(x) - b) / 2;
                $(this).css({
                    position: "relative",
                    "float": "none",
                    "z-index": "100"
                });
                if ($(this).width() < 40 || $(this).height() < 40) {
                    $(this).css("padding", "2px")
                } else {
                    $(this).css("padding", "0")
                }
                $(this).append("<a class='recoverBtn' href='javascript:;'></a>");
                $(this).attr("_from", f.attr("id"));
                var n = "<div class='imgResizeLine imgResizeLine-first'></div><div class='imgResizeLine imgResizeLine-second'></div>";
                var p = $(this).children(".ui-resizable-sw");
                var A = $(this).children(".ui-resizable-se");
                var y = $(this).children(".ui-resizable-nw");
                var l = $(this).children(".ui-resizable-ne");
                var v = $(this).children(".ui-resizable-s");
                var s = $(this).children(".ui-resizable-w");
                var z = $(this).children(".ui-resizable-n");
                var j = $(this).children(".ui-resizable-e");
                p.addClass("ui-resizable-imgBottomLeftTip").css({
                    "z-index": "9030"
                });
                A.addClass("ui-resizable-imgBottomRightTip").css({
                    "z-index": "9030"
                });
                y.addClass("ui-resizable-imgTopLeftTip").css({
                    "z-index": "9030"
                });
                l.addClass("ui-resizable-imgTopRightTip").css({
                    "z-index": "9030"
                });
                s.addClass("ui-resizable-imgLeftTip").css({
                    "z-index": "9030"
                });
                j.addClass("ui-resizable-imgRightTip").css({
                    "z-index": "9030"
                });
                v.addClass("ui-resizable-imgBottomTip").css({
                    "z-index": "9030"
                }).append(n);
                z.addClass("ui-resizable-imgTopTip").css({
                    "z-index": "9030"
                }).append(n);
                v.children(".imgResizeLine").css({
                    width: i + "px"
                });
                z.children(".imgResizeLine").css({
                    width: i + "px"
                });
                j.children(".imgResizeLine").css({
                    height: k + "px"
                });
                s.children(".imgResizeLine").css({
                    height: k + "px"
                });
                var q = $(this).parent();
                $(this).children(".ui-resizable-handle").mousedown(function(C) {
                    var B = q.attr("href");
                    if (typeof B != "undefined" && B.length > 0) {
                        q.removeAttr("href");
                        q.attr("onclick", "return false;")
                    }
                });
                $(this).mousemove(function() {
                    u.children(".ui-resizable-handle").show();
                    f.attr("_mouseIn", "1");
                    if (f.attr("resize") == 1) {
                        e.find(".recoverBtn").show()
                    }
                }).mouseleave(function() {
                    f.attr("_mouseIn", "0");
                    var B = f.data("layerId");
                    var C = setTimeout(function() {
                        var E = B + "moduleLayer";
                        var F = $("#" + E);
                        var D = F.attr("_mouseIn");
                        if (D == 0) {
                            HdGame.removeMoveFrame(B);
                            F.remove()
                        }
                        e.find(".recoverBtn").hide()
                    },
                    20)
                });
                var o = f.data("hdgame-resizable-create");
                if (o) {
                    $.each(o,
                    function(B, C) {
                        C.call(f[0], t, r)
                    })
                }
            },
            start: function(n, p) {
                if (p.axis.length === 2) {
                    $(this).resizable("option", "aspectRatio", true)
                } else {
                    $(this).resizable("option", "aspectRatio", false)
                }
                var o = 0;
                var l = f.width();
                var j = f.height();
                var i = (parseInt(l) - b) / 2;
                var m = (parseInt(j) - b) / 2;
                $(this).children(".ui-resizable-s").children(".imgResizeLine").css({
                    width: i + "px"
                });
                $(this).children(".ui-resizable-n").children(".imgResizeLine").css({
                    width: i + "px"
                });
                $(this).children(".ui-resizable-e").children(".imgResizeLine").css({
                    height: m + "px"
                });
                $(this).children(".ui-resizable-w").children(".imgResizeLine").css({
                    height: m + "px"
                });
                $(this).css("position", "relative");
                $(".ui-resizable-bottomTip").css({
                    opacity: "0"
                });
                $(".ui-resizable-cancelTip").css({
                    opacity: "0"
                });
                $(".draggableBtn").css({
                    opacity: "0"
                });
                var k = f.data("hdgame-resizable-start");
                if (k) {
                    $.each(k,
                    function(q, r) {
                        r.call(f[0], n, p)
                    })
                }
            },
            resize: function(j, k) {
                $(".moveFrame").remove();
                $(".moduleLayer").remove();
                $(this).children(".ui-resizable-handle").hide();
                var i = f.data("hdgame-resizable-resize");
                if (i) {
                    $.each(i,
                    function(l, m) {
                        m.call(f[0], j, k)
                    })
                }
            },
            stop: function(j, o) {
                var k = 0;
                var p = f.width();
                var q = f.height();
                var m = (parseInt(p) - b) / 2;
                var r = (parseInt(q) - b) / 2;
                $(this).children(".ui-resizable-s").children(".imgResizeLine").css({
                    width: m + "px"
                });
                $(this).children(".ui-resizable-n").children(".imgResizeLine").css({
                    width: m + "px"
                });
                $(this).children(".ui-resizable-e").children(".imgResizeLine").css({
                    height: r + "px"
                });
                $(this).children(".ui-resizable-w").children(".imgResizeLine").css({
                    height: r + "px"
                });
                $(".ui-resizable-bottomTip").css({
                    opacity: "1"
                });
                $(".ui-resizable-cancelTip").css({
                    opacity: "1"
                });
                $(".draggableBtn").css({
                    opacity: "1"
                });
                e.find(".slaveImg").attr("resize", "1");
                e.find(".recoverBtn").show();
                if ($(this).width() < 40 || $(this).height() < 40) {
                    $(this).css("padding", "2px")
                } else {
                    $(this).css("padding", "0")
                }
                var l = $(this).parent();
                var i = l.attr("link");
                if (typeof i != "undefined" && i.length > 0) {
                    setTimeout(function() {
                        l.attr("href", i);
                        l.removeAttr("onclick")
                    },
                    100)
                }
                parent.operateFlagList[17] = true;
                var n = f.data("hdgame-resizable-stop");
                if (n) {
                    $.each(n,
                    function(s, t) {
                        t.call(f[0], j, o)
                    })
                }
            }
        },
        f.data("hdgame-resizable-option")));
        $(h).off(".slaveImg")
    })
};
HdGame.moduleDraggale = function(d, e, g) {
    var f = d; (typeof d === "string") && (f = $(d));
    if (! (f instanceof jQuery) || f.length <= 0) {
        return
    }
    if (f.length > 1) {
        f.each(function() {
            HdGame.moduleDraggale($(this), e, g)
        });
        return
    }
    var c = f.parent();
    var b = f;
    var a = g || "body";
    if (e) {
        b = c
    }
    b.css("cursor", "move");
    b.css("position", "absolute");
    if (b.parents(".home").length > 0) {
        a = "#limitRange"
    }
    b.draggable($.extend({
        start: function() {
            f.mouseleave();
            c.children(".ui-resizable-handle").hide();
            var h = f.data("hdgame-draggable-start");
            if (h) {
                $.each(h,
                function(i, j) {
                    j.call(f[0], event, ui)
                })
            }
        },
        drag: function(h, j) {
            var i = f.data("hdgame-draggable-drag");
            if (i) {
                $.each(i,
                function(k, l) {
                    l.call(f[0], h, j)
                })
            }
        },
        stop: function() {
            f.mouseover();
            parent.operateFlagList[17] = true;
            var h = f.data("hdgame-draggable-stop");
            if (h) {
                $.each(h,
                function(i, j) {
                    j.call(f[0], event, ui)
                })
            }
        },
        opacity: 0.5,
        scroll: false,
        distance: 1,
        containment: a,
        addClasses: false
    },
    f.data("hdgame-draggable-option")))
};
HdGame.removeAllEditLayer = function() {
    $(".moveFrame").remove();
    $(".moduleLayer").remove()
};
HdGame.setCookie = function(b, c, a) {
    var d = new Date();
    d.setDate(d.getDate() + a);
    document.cookie = b + "=" + escape(c) + ((a == null) ? "": ";expires=" + d.toGMTString())
};
HdGame.getCookie = function(a) {
    if (document.cookie.length > 0) {
        c_start = document.cookie.indexOf(a + "=");
        if (c_start != -1) {
            c_start = c_start + a.length + 1;
            c_end = document.cookie.indexOf(";", c_start);
            if (c_end == -1) {
                c_end = document.cookie.length
            }
            return unescape(document.cookie.substring(c_start, c_end))
        }
    }
    return ""
};
HdGame.refresh = function() {
    window.location.href = document.URL
};
HdGame.noLoadingRefresh = function() {
    window.location.href = document.URL.indexOf("noLoading") >= 0 ? document.URL: (document.URL + (document.URL.indexOf("?") >= 0 ? "&": "?") + "noLoading=fff")
};
HdGame.isIPhone = function() {
    return window.navigator.userAgent.indexOf("iPhone") !== -1
};
HdGame.getType = function(a) {
    return Object.prototype.toString.call(a).match(/\[object\s(\w+)]/)[1].toLowerCase()
};
HdGame.logDog = function(b, a) {
    // if (g_testCMD.indexOf("oss") === -1 && (_manage || g_test)) {
    //     return
    // }
    // $.ajax({
    //     type: "get",
    //     url: g_ajaxUrl + "log_h.jsp?cmd=dog&dogId=" + HdGame.encodeUrl(b) + "&dogSrc=" + HdGame.encodeUrl(a)
    // })
};
HdGame.tlog = (function() {
    var g = '<div id="logBox"><div id="log_head"><div id="log_close" class="log_icon">╳</div><div id="log_min" class="log_icon">━</div></div><div id="log_text_wrap"><div id="log_text"></div></div></div>';
    var e = $('<div id="log_max"><div id="log_max_inner">＋</div></div>');
    var b = $(g);
    var c = b.find("#log_text");
    var h = b.find("#log_head");
    var d = {};
    var f = true;
    var a = 0;
    return function(k, j) {
        if (HdGame.IsPC()) {
            return
        }
        if (arguments.length <= 1) {
            j = k;
            k = "###"
        }
        if (HdGame.getType(j) === "object" || HdGame.getType(j) === "array") {
            j = $.toJSON(j)
        } else {
            j = String(j)
        }
        if (!m_debug) {
            return
        }
        var i = $("body");
        if (i.length < 0) {
            alert(k + ":" + j + "\n");
            return
        }
        if (f) {
            i.append(b);
            i.append(e);
            h.on("touchstart",
            function(l) {
                l.preventDefault();
                l.stopPropagation();
                var m = l.originalEvent.targetTouches[0];
                d.x = m.pageX;
                d.y = m.pageY
            }).on("touchmove",
            function(l) {
                l.preventDefault();
                l.stopPropagation();
                var o = l.originalEvent.targetTouches[0];
                var n = b.offset().left + o.pageX - d.x;
                var m = b.offset().top + o.pageY - d.y;
                d.x = o.pageX;
                d.y = o.pageY;
                if (n > -0.2 * b.width() && n + 0.5 * b.width() < $(window).width()) {
                    b[0].style.left = n + "px"
                }
                if (m > 0 && m + 0.5 * b.height() < $(window).height()) {
                    b[0].style.top = m + "px"
                }
            });
            b.find("#log_close").on("touchstart",
            function() {
                a = 0;
                e.hide();
                b.hide();
                c.empty();
                a = 0
            });
            b.find("#log_min").on("touchstart",
            function() {
                e.show();
                b.hide()
            });
            e.on("touchstart",
            function() {
                e.hide();
                b.show()
            });
            c.on("touchstart", ".log_flag",
            function() {
                var l = $(this).parents(".log_line");
                if (l.hasClass("log_line_ellipsis")) {
                    l.removeClass("log_line_ellipsis")
                } else {
                    l.addClass("log_line_ellipsis")
                }
            });
            f = false
        }
        if (a === 0) {
            b.show()
        }
        a++;
        c.append('<div class="log_line log_line_ellipsis"><span class="log_flag">' + k + '</span><span class="log_text">' + j + "</span></div>")
    }
})(); (function(f) {
    function n(t, w) {
        var v = (t & 65535) + (w & 65535),
        u = (t >> 16) + (w >> 16) + (v >> 16);
        return (u << 16) | (v & 65535)
    }
    function r(t, u) {
        return (t << u) | (t >>> (32 - u))
    }
    function c(A, w, v, u, z, y) {
        return n(r(n(n(w, A), n(u, y)), z), v)
    }
    function b(w, v, B, A, u, z, y) {
        return c((v & B) | ((~v) & A), w, v, u, z, y)
    }
    function h(w, v, B, A, u, z, y) {
        return c((v & A) | (B & (~A)), w, v, u, z, y)
    }
    function m(w, v, B, A, u, z, y) {
        return c(v ^ B ^ A, w, v, u, z, y)
    }
    function a(w, v, B, A, u, z, y) {
        return c(B ^ (v | (~A)), w, v, u, z, y)
    }
    function d(E, z) {
        E[z >> 5] |= 128 << ((z) % 32);
        E[(((z + 64) >>> 9) << 4) + 14] = z;
        var v, y, w, u, t, D = 1732584193,
        C = -271733879,
        B = -1732584194,
        A = 271733878;
        for (v = 0; v < E.length; v += 16) {
            y = D;
            w = C;
            u = B;
            t = A;
            D = b(D, C, B, A, E[v], 7, -680876936);
            A = b(A, D, C, B, E[v + 1], 12, -389564586);
            B = b(B, A, D, C, E[v + 2], 17, 606105819);
            C = b(C, B, A, D, E[v + 3], 22, -1044525330);
            D = b(D, C, B, A, E[v + 4], 7, -176418897);
            A = b(A, D, C, B, E[v + 5], 12, 1200080426);
            B = b(B, A, D, C, E[v + 6], 17, -1473231341);
            C = b(C, B, A, D, E[v + 7], 22, -45705983);
            D = b(D, C, B, A, E[v + 8], 7, 1770035416);
            A = b(A, D, C, B, E[v + 9], 12, -1958414417);
            B = b(B, A, D, C, E[v + 10], 17, -42063);
            C = b(C, B, A, D, E[v + 11], 22, -1990404162);
            D = b(D, C, B, A, E[v + 12], 7, 1804603682);
            A = b(A, D, C, B, E[v + 13], 12, -40341101);
            B = b(B, A, D, C, E[v + 14], 17, -1502002290);
            C = b(C, B, A, D, E[v + 15], 22, 1236535329);
            D = h(D, C, B, A, E[v + 1], 5, -165796510);
            A = h(A, D, C, B, E[v + 6], 9, -1069501632);
            B = h(B, A, D, C, E[v + 11], 14, 643717713);
            C = h(C, B, A, D, E[v], 20, -373897302);
            D = h(D, C, B, A, E[v + 5], 5, -701558691);
            A = h(A, D, C, B, E[v + 10], 9, 38016083);
            B = h(B, A, D, C, E[v + 15], 14, -660478335);
            C = h(C, B, A, D, E[v + 4], 20, -405537848);
            D = h(D, C, B, A, E[v + 9], 5, 568446438);
            A = h(A, D, C, B, E[v + 14], 9, -1019803690);
            B = h(B, A, D, C, E[v + 3], 14, -187363961);
            C = h(C, B, A, D, E[v + 8], 20, 1163531501);
            D = h(D, C, B, A, E[v + 13], 5, -1444681467);
            A = h(A, D, C, B, E[v + 2], 9, -51403784);
            B = h(B, A, D, C, E[v + 7], 14, 1735328473);
            C = h(C, B, A, D, E[v + 12], 20, -1926607734);
            D = m(D, C, B, A, E[v + 5], 4, -378558);
            A = m(A, D, C, B, E[v + 8], 11, -2022574463);
            B = m(B, A, D, C, E[v + 11], 16, 1839030562);
            C = m(C, B, A, D, E[v + 14], 23, -35309556);
            D = m(D, C, B, A, E[v + 1], 4, -1530992060);
            A = m(A, D, C, B, E[v + 4], 11, 1272893353);
            B = m(B, A, D, C, E[v + 7], 16, -155497632);
            C = m(C, B, A, D, E[v + 10], 23, -1094730640);
            D = m(D, C, B, A, E[v + 13], 4, 681279174);
            A = m(A, D, C, B, E[v], 11, -358537222);
            B = m(B, A, D, C, E[v + 3], 16, -722521979);
            C = m(C, B, A, D, E[v + 6], 23, 76029189);
            D = m(D, C, B, A, E[v + 9], 4, -640364487);
            A = m(A, D, C, B, E[v + 12], 11, -421815835);
            B = m(B, A, D, C, E[v + 15], 16, 530742520);
            C = m(C, B, A, D, E[v + 2], 23, -995338651);
            D = a(D, C, B, A, E[v], 6, -198630844);
            A = a(A, D, C, B, E[v + 7], 10, 1126891415);
            B = a(B, A, D, C, E[v + 14], 15, -1416354905);
            C = a(C, B, A, D, E[v + 5], 21, -57434055);
            D = a(D, C, B, A, E[v + 12], 6, 1700485571);
            A = a(A, D, C, B, E[v + 3], 10, -1894986606);
            B = a(B, A, D, C, E[v + 10], 15, -1051523);
            C = a(C, B, A, D, E[v + 1], 21, -2054922799);
            D = a(D, C, B, A, E[v + 8], 6, 1873313359);
            A = a(A, D, C, B, E[v + 15], 10, -30611744);
            B = a(B, A, D, C, E[v + 6], 15, -1560198380);
            C = a(C, B, A, D, E[v + 13], 21, 1309151649);
            D = a(D, C, B, A, E[v + 4], 6, -145523070);
            A = a(A, D, C, B, E[v + 11], 10, -1120210379);
            B = a(B, A, D, C, E[v + 2], 15, 718787259);
            C = a(C, B, A, D, E[v + 9], 21, -343485551);
            D = n(D, y);
            C = n(C, w);
            B = n(B, u);
            A = n(A, t)
        }
        return [D, C, B, A]
    }
    function o(u) {
        var v, t = "";
        for (v = 0; v < u.length * 32; v += 8) {
            t += String.fromCharCode((u[v >> 5] >>> (v % 32)) & 255)
        }
        return t
    }
    function i(u) {
        var v, t = [];
        t[(u.length >> 2) - 1] = undefined;
        for (v = 0; v < t.length; v += 1) {
            t[v] = 0
        }
        for (v = 0; v < u.length * 8; v += 8) {
            t[v >> 5] |= (u.charCodeAt(v / 8) & 255) << (v % 32)
        }
        return t
    }
    function j(t) {
        return o(d(i(t), t.length * 8))
    }
    function e(v, y) {
        var u, x = i(v),
        t = [],
        w = [],
        z;
        t[15] = w[15] = undefined;
        if (x.length > 16) {
            x = d(x, v.length * 8)
        }
        for (u = 0; u < 16; u += 1) {
            t[u] = x[u] ^ 909522486;
            w[u] = x[u] ^ 1549556828
        }
        z = d(t.concat(i(y)), 512 + y.length * 8);
        return o(d(w.concat(z), 512 + 128))
    }
    function s(v) {
        var y = "0123456789abcdef",
        u = "",
        t, w;
        for (w = 0; w < v.length; w += 1) {
            t = v.charCodeAt(w);
            u += y.charAt((t >>> 4) & 15) + y.charAt(t & 15)
        }
        return u
    }
    function l(t) {
        return unescape(encodeURIComponent(t))
    }
    function p(t) {
        return j(l(t))
    }
    function k(t) {
        return s(p(t))
    }
    function g(t, u) {
        return e(l(t), l(u))
    }
    function q(t, u) {
        return s(g(t, u))
    }
    f.md5 = function(u, v, t) {
        if (!v) {
            if (!t) {
                return k(u)
            } else {
                return p(u)
            }
        }
        if (!t) {
            return q(v, u)
        } else {
            return g(v, u)
        }
    }
} (typeof jQuery === "function" ? jQuery: this));
HdGame.encodeBase64 = function(h) {
    var g, f, d;
    var b = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    var e = 0,
    a = h.length,
    c = "";
    while (e < a) {
        g = h.charCodeAt(e++) & 255;
        if (e == a) {
            c += b.charAt(g >> 2);
            c += b.charAt((g & 3) << 4);
            c += "==";
            break
        }
        f = h.charCodeAt(e++);
        if (e == a) {
            c += b.charAt(g >> 2);
            c += b.charAt(((g & 3) << 4) | ((f & 240) >> 4));
            c += b.charAt((f & 15) << 2);
            c += "=";
            break
        }
        d = h.charCodeAt(e++);
        c += b.charAt(g >> 2);
        c += b.charAt(((g & 3) << 4) | ((f & 240) >> 4));
        c += b.charAt(((f & 15) << 2) | ((d & 192) >> 6));
        c += b.charAt(d & 63)
    }
    return c
};
HdGame.imgReady = (function() {
    var d = [],
    c = null,
    b = function() {
        var e = 0;
        for (; e < d.length; e++) {
            d[e].end ? d.splice(e--, 1) : d[e]()
        } ! d.length && a()
    },
    a = function() {
        clearInterval(c);
        c = null
    };
    return function(f, k, m, j) {
        var l, g, n, i, e, h = new Image();
        if (typeof f === "object") {
            h = f
        } else {
            h.src = f
        }
        if (h.complete) {
            k.call(h);
            m && m.call(h);
            return
        }
        g = h.width;
        n = h.height;
        h.onerror = function() {
            j && j.call(h);
            l.end = true;
            h = h.onload = h.onerror = null
        };
        l = function() {
            i = h.width;
            e = h.height;
            if (i !== g || e !== n || i * e > 1024) {
                k.call(h);
                l.end = true
            }
        };
        l();
        h.onload = function() { ! l.end && l();
            m && m.call(h);
            h = h.onload = h.onerror = null
        };
        if (!l.end) {
            d.push(l);
            if (c === null) {
                c = setInterval(b, 40)
            }
        }
    }
})();
HdGame.initEdit = function(e, h, n) {
    var c = {},
    k = e,
    g = h,
    a = {};
    n && $.extend(true, g, n);
    function m(p) {
        var t = a["getImgInfo" + p];
        if (t) {
            return t
        }
        var o = f(p)[0],
        s = [];
        if (!o) {
            return
        }
        if (HdGame.getType(o.path[0]) === "array") {
            for (var r = 0; r < o.path.length; r++) {
                s[r] = HdGame.getSrc(o.path[r][0])
            }
        } else {
            s = HdGame.getSrc(o.path[0])
        }
        t = {
            name: p,
            path: s,
            width: o.size ? parseRemToPx(j(o.size).width) : null,
            height: o.size ? parseRemToPx(j(o.size).height) : null,
            top: o.pos ? parseRemToPx(j(o.pos).top) : null,
            left: o.pos ? parseRemToPx(j(o.pos).left) : null
        };
        a["getImgInfo" + p] = t;
        return t
    }
    function f(p) {
        for (var q = 0; q < k.length; q++) {
            var o = k[q];
            if (o.name === p) {
                return [o, g[q]]
            }
        }
        return [false, false]
    }
    function d(q, p) {
        var o = {};
        o.from = q;
        o.title = p[1];
        o.limit = p[2];
        o.defSrc = HdGame.getSrc(p[0]);
        return o
    }
    function l(o, p) {
        o.each(function() {
            if (/img/i.test($(this)[0].nodeName)) {
                $(this).attr("src", p)
            } else {
                $(this).css("background-image", 'url("' + p + '")')
            }
        })
    }
    function j(p, o) {
        HdGame.getType(o) === "undefined" && (o = 0);
        return HdGame.getType(p) === "array" ? (p[o] || p[0]) : p
    }
    function i(F) {
        var o = typeof F === "object" ? F: f(F),
        s = o[0],
        A = o[1],
        F = s.name,
        u = $(".editTarget-" + F),
        t = s.pos,
        x = s.size,
        y = s.path,
        q = A.size,
        r = A.pos;
        u = u.not(function() {
            return $(this).data("hasBindEdit")
        });
        var z = (HdGame.getType(r) === "array" && HdGame.getType(q) !== "array");
        u.each(function(L) {
            var J = j(t, L),
            I = j(x, L),
            H = j(q, L),
            K = j(r, L);
            if (J && J.top && J.left) {
                $(this).css({
                    top: J.top,
                    left: J.left
                }).addClass("abs")
            }
            if (I) {
                $(this).addClass("slaveImg");
                if (!$(this).parent().hasClass("imgContainer")) {
                    $(this).wrap('<div class="imgContainer absCenter"></div>')
                }
                if (I.width && I.height) {
                    $(this).css({
                        width: I.width,
                        height: I.height
                    })
                }
                if (!H.disable) {
                    if (z) {
                        var G = null;
                        $(this).addResizableFn("start",
                        function(M, N) {
                            G = u.not(this);
                            if (/n|w/.test(N.axis)) {
                                G.each(function(P, R) {
                                    var O = $(this),
                                    Q = O.parents(".ui-wrapper");
                                    O.data("originalPosition-relative", {
                                        left: parseFloat(Q.css("left")) - N.originalPosition.left,
                                        top: parseFloat(Q.css("top")) - N.originalPosition.top,
                                    })
                                })
                            }
                        });
                        $(this).addResizableFn("resize",
                        function(N, P) {
                            var M = /n|w/.test(P.axis),
                            O;
                            G.each(function(R, T) {
                                var Q = $(this),
                                S = Q.parents(".ui-wrapper");
                                Q.add(S).css({
                                    width: P.size.width,
                                    height: P.size.height
                                });
                                if (M) {
                                    O = Q.data("originalPosition-relative");
                                    Q.add(S).css({
                                        left: P.position.left + O.left,
                                        top: P.position.top + O.top
                                    })
                                }
                            })
                        });
                        $(this).addResizableFn("stop",
                        function(M, N) {
                            G.each(function(O, P) {
                                $(this).removeData("originalPosition-relative").attr("resize", "1")
                            });
                            G = null
                        })
                    }
                    HdGame.moduleSlaveImgResize($(this))
                }
            }
            if (J) {
                if (!K.disable) {
                    HdGame.moduleDraggale($(this), K.forParent == "false" ? false: true)
                }
            }
            if (H) {
                $(this).siblings(".recoverBtn").off("click").on("click",
                function() {
                    var P = $(this).parents(".ui-wrapper");
                    var O = P.find(".slaveImg");
                    var N = P.add(O);
                    P.find(".recoverBtn").hide();
                    O.attr("resize", 0);
                    P.attr("resize") && P.attr("resize", 0);
                    N.css({
                        width: H.width,
                        height: H.height
                    });
                    if (K && K.disable) {
                        N.css({
                            left: K.left,
                            top: K.top
                        })
                    }
                    O.css("margin", "auto");
                    var M = O.data("recoverCallBack");
                    M && M();
                    if (z) {
                        u.not(O).add(u.not(O).parents(".ui-wrapper")).width(P.width()).height(P.height());
                        u.attr("resize", 0)
                    }
                })
            }
        });
        if (y) {
            if (HdGame.getType(y[0]) === "array") {
                $.each(y,
                function(H, J) {
                    var I = HdGame.getSrc(J[0]);
                    var G = "editTarget-" + F + "-" + H;
                    if (H === 0) {
                        G = "editTarget-" + F
                    }
                    if ($("." + G).length > 0) {
                        l($("." + G), I)
                    } else {
                        $("body").append('<input class="' + G + '" type="hidden" value="' + I + '">')
                    }
                })
            } else {
                l(u, HdGame.getSrc(y[0]))
            }
        }
        if (A.edit) {
            if (A.edit != "none") {
                var E = [];
                if (a[A.edit]) {
                    E = a[A.edit]
                } else {
                    var w = [];
                    if (A.edit === "all") {
                        w = c.originDef
                    } else {
                        $.each(A.edit.split(","),
                        function(G, H) {
                            w.push(f(H)[1])
                        })
                    }
                    for (var D = 0; D < w.length; D++) {
                        var v = w[D].path;
                        var B = w[D].name;
                        var p = ".editTarget-" + B + ",.editRelate-" + B;
                        if (typeof v != "undefined") {
                            if (HdGame.getType(v[0]) === "array") {
                                for (var C = 0; C < v.length; C++) {
                                    C > 0 && (p = ".editTarget-" + B + "-" + C + ",.editRelate-" + B + "-" + C);
                                    E.push(d(p, v[C]))
                                }
                            } else {
                                E.push(d(p, v))
                            }
                        }
                    } ! a[A.edit] && (a[A.edit] = E)
                }
                HdGame.initModuleLayer(u, -1, "", E)
            } else {
                HdGame.initModuleLayer(u, -2, "", null)
            }
        }
        u.data("hasBindEdit", true)
    }
    function b() {
        $.each(k,
        function(p, o) {
            i([o, g[p]])
        })
    }
    if (_manage) {
        c.setAllEdit = b
    } else {
        $(function() {
            $.each(k,
            function(q, p) {
                var o = $(".editTarget-" + p.name),
                t = p.pos,
                r = p.size,
                s = p.path;
                if (o.length <= 0) {
                    return
                }
                o.each(function(w) {
                    var v = j(t, w),
                    u = j(r, w);
                    if (v && v.top && v.left) {
                        $(this).css({
                            top: v.top,
                            left: v.left
                        }).addClass("abs")
                    }
                    if (u && u.width && u.height) {
                        $(this).css({
                            width: u.width,
                            height: u.height
                        })
                    }
                });
                if (s) {
                    if (HdGame.getType(s[0]) === "array") {
                        $.each(s,
                        function(v, x) {
                            var w = HdGame.getSrc(x[0]);
                            if (v === 0) {
                                l(o, w)
                            } else {
                                var u = "editTarget-" + name + "-" + v;
                                if ($("." + u).length > 0) {
                                    l($("." + u), w)
                                } else {
                                    $("body").append('<input class="' + u + '" type="hidden" value="' + w + '">')
                                }
                            }
                        })
                    } else {
                        l(o, HdGame.getSrc(s[0]))
                    }
                }
            })
        })
    }
    $.each(k,
    function(p, o) {
        var q = o.path;
        if (q) {
            if (HdGame.getType(q[0]) === "array") {
                $.each(q,
                function(r, s) {
                    allImage.add(HdGame.getSrc(s[0]))
                })
            } else {
                allImage.add(HdGame.getSrc(q[0]))
            }
        }
    });
    c.getImgInfo = m;
    c.origin = k;
    c.originDef = g;
    return c
};
HdGame.initLoadPreAssets = function(a, e) {
    var b = [],
    c = [],
    d = [];
    return {
        complete: false,
        loadComplete: false,
        add: function(g) {
            var f = this;
            if (f.complete) {
                return
            }
            if (HdGame.getType(g) === "array") {
                $.each(g,
                function(h, i) {
                    f.add(i)
                })
            } else {
                if (HdGame.getType(g) === "string") {
                    b.push(g)
                } else {
                    HdGame.tlog("allImage add err")
                }
            }
            return this
        },
        onReady: function(g) {
            var f = this;
            if (f.complete) {
                g()
            } else {
                c.push(g)
            }
            return f
        },
        onload: function(g) {
            var f = this;
            if (f.loadComplete) {
                g()
            } else {
                d.push(g)
            }
            return f
        },
        loadPage: function() {
            var u = this,
            n = 1,
            r = 30,
            h = new Image(),
            j = 0,
            t = null,
            l,
            p = $("#infoLogo"),
            s = $("#infoLogoBox"),
            v = $("#infoLogoWrap"),
            f = $("#bottomPage .rightPallet"),
            m = $("#bottomPage .leftPallet"),
            o = $("#loadPercent");
            if (a === 1) {
                $("#bottomPage,#bottomPage .leftCover").css("background-color", "#fff");
                $("#preloadPageCover").hide();
                q(b)
            } else {
                if (a === 2) {
                    $("#preloadPage .info").css("top", $(window).height() / 2 - $("#preloadPage .info").outerHeight() / 2);
                    $("#preloadPageCover").hide();
                    q(b)
                } else {
                    if (a === 3) {
                        HdGame.imgReady(e,
                        function() {
                            k(this.height, this.width)
                        })
                    }
                }
            }
            function k(x, i) {
                var y = -Math.atan(i / x) * 180 / Math.PI;
                p.css({
                    width: i,
                    height: x,
                    "border-radius": "0.2rem"
                });
                v.css({
                    "border-radius": "0.2rem",
                    "border-color": "transparent",
                });
                if (x === i) {
                    if (x > 3.5 * g_rem) {
                        p.css({
                            width: 3.5 * g_rem,
                            height: 3.5 * g_rem
                        })
                    }
                    p.css("border-radius", "50%");
                    v.css("border-radius", "50%");
                    s.css("border-radius", "50%");
                    $("#infoLogo img").css("border-radius", "50%")
                } else {
                    if (i > x && i > 8 * g_rem) {
                        p.css({
                            width: 8 * g_rem,
                            height: 8 * g_rem * x / i
                        })
                    } else {
                        if (x > i && x > 8 * g_rem) {
                            p.css({
                                width: 8 * g_rem * i / x,
                                height: 8 * g_rem
                            })
                        }
                    }
                }
                $("#bottomPage").css({
                    top: s.outerHeight() / 2 + parseFloat(s.css("top")) - $("#bottomPage").outerHeight() / 2,
                    transform: "rotate(" + y + "deg)",
                    "-webkit-transform": "rotate(" + y + "deg)",
                    "-moz-transform": "rotate(" + y + "deg)",
                    "-o-transform": "rotate(" + y + "deg)"
                });
                s.css("left", (16 * g_rem - s.outerWidth()) / 2);
                $("#preloadPage .info").css("top", s.outerHeight() / 2 + parseFloat(s.css("top")) + v.outerHeight() / 2 + 0.9 * g_rem);
                l = function(w) {
                    if (w > 50 && w <= 100) {
                        f.show().css({
                            transform: "rotate(" + w * 3.6 + "deg)",
                            "-webkit-transform": "rotate(" + w * 3.6 + "deg)",
                            "-moz-transform": "rotate(" + w * 3.6 + "deg)",
                            "-o-transform": "rotate(" + w * 3.6 + "deg)"
                        })
                    } else {
                        if (w <= 50) {
                            m.css({
                                transform: "rotate(" + w * 3.6 + "deg)",
                                "-webkit-transform": "rotate(" + w * 3.6 + "deg)",
                                "-moz-transform": "rotate(" + w * 3.6 + "deg)",
                                "-o-transform": "rotate(" + w * 3.6 + "deg)"
                            })
                        }
                    }
                };
                $("#preloadPageCover").hide();
                q(b)
            }
            function g() {
                if (j < b.length) {
                    if (n <= 100 - b.length + j) {
                        n++;
                        o.text(n);
                        l && l(n)
                    }
                } else {
                    n += 10;
                    n > 50 && n < 60 && (n = 50);
                    n > 100 && (n = 100);
                    o.text(n);
                    l && l(n)
                }
                if (n >= 100) {
                    clearTimeout(t);
                    var w = $(window).height() / $(window).width() < 1.5;
                    var i = w ? $(window).width() * 1.5 : $(window).height();
                    setTimeout(function() {
                        $("#preloadPage").addClass("leftClose");
                        $("#homeBgBox").css("height", i);
                        w && $(".home .bottomSkill").css("top", i - $(".bottomSkill").outerHeight());
                        setTimeout(function() {
                            $("#preloadPage").hide()
                        },
                        400);
                        u.loadComplete = true;
                        $.each(d,
                        function(x, y) {
                            y.call(u)
                        })
                    },
                    50);
                    return
                }
                t = setTimeout(arguments.callee, 10)
            }
            function q(i) {
                g();
                $.each(i,
                function(y, z) {
                    var x = new Image();
                    x.onload = w;
                    x.onerror = w;
                    x.src = z;
                    x.imageSrcKey = z
                });
                function w() {
                    j++;
                    u[this.imageSrcKey] = this;
                    if (j === i.length) {
                        u.complete = true;
                        $.each(c,
                        function(x, y) {
                            y.call(u)
                        })
                    }
                }
            }
        }
    }
};
HdGame.initSound = function(b, c) {
    var a = {};
    var d = LF.sound.webAudioEnabled && LF.global.webAudio;
    return {
        list: b,
        listDef: c,
        allowPlay: true,
        play: function(h, i, g) {
            if (_manage) {
                return
            }
            if (!this.allowPlay) {
                return this
            }
            if (b && HdGame.getType(h) === "number") {
                var f = h === 0 ? 1 : 3;
                if (b[h].optFlag === f) {
                    return this
                }
            }
            if (h !== 0 && b && b[0].optFlag !== 1 && !d) {
                return this
            }
            var e = a[h];
            if (!e) {
                HdGame.tlog("Sound_play_err", "这个key:" + h + " 不存在!");
                return this
            }
            e.play(i, g);
            return this
        },
        readyPlay: function(g, h, e) {
            if (_manage) {
                return
            }
            var f = this;
            f.onReady(g,
            function() {
                f.play(g, h, e)
            })
        },
        pause: function(f) {
            if (_manage) {
                return
            }
            var e = a[f];
            if (!e) {
                HdGame.tlog("Sound_pause_err", "这个key:" + f + " 不存在!");
                return this
            }
            e.stop();
            return this
        },
        pauseAll: function() {
            if (_manage) {
                return
            }
            var e = null;
            for (var f in a) {
                e = a[f];
                if (e) {
                    e.stop()
                }
            }
            return this
        },
        load: function(k, g, h) {
            if (_manage) {
                return
            }
            if (a[g]) {
                HdGame.tlog("Sound_load_err", "这个key:" + g + " 已经存在!");
                return this
            }
            var f = null,
            j = d;
            typeof h !== "undefined" && (j = h);
            if (j) {
                f = new LF.webAudio()
            } else {
                f = new LF.media();
                try {
                    f.data = new Audio()
                } catch(i) {
                    console.warn("ReferenceError: Can't find variable: Audio");
                    f.data = {}
                }
                f.data.loop = false;
                f.data.autoplay = false
            }
            f._type = "audio";
            if (k) {
                f.load(k)
            }
            f.readyCallBack = [];
            f.addEventListener(LF.event.COMPLETE,
            function(e) {
                f.complete = true;
                $.each(f.readyCallBack,
                function(l, m) {
                    m(f)
                })
            });
            a[g] = f;
            return this
        },
        onReady: function(f, g) {
            if (_manage) {
                return
            }
            var e = a[f];
            if (!e) {
                HdGame.tlog("Sound_onReady_err", "这个key:" + f + " 不存在!");
                return this
            }
            if (e.complete) {
                g(e)
            } else {
                e.readyCallBack.push(g)
            }
            return this
        },
        cache: a,
    }
};
HdGame.getSrc = function(a) {
    return a.replace("*_resRoot*", _resRoot)
};